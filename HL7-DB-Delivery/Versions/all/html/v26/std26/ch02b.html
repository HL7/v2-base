<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
HL7 Version 2.6 Chapter 2
</TITLE>
<link rel="stylesheet" href="formate.css" type="Text/css">
<link rel="shortcut icon" href="../hl7.ico">
<META name="generator" contents="HL7-v2.x-XML-Extractor">
<META name="author" contents="FO">
</HEAD>
<BODY>
<Table width="100%" border="0">
<TR>
<TD align=right>
<font size=+5><p>2. Control (continued)</font>
</TD>
</TR>
<TR>
<TD BGCOLOR=black>
<br>
</TD>
</TR>
</Table><p>
<H1>Contents</H1>
<ul>
<li><a href="hl7.html">Contents</a></li>
<li><a href="ch01.html">Chapter 01: Introduction</a></li>
<li><a href="ch02.html">Chapter 02: Control</a></li>
<li><a href="ch02a.html">Chapter 02a: Control (continued)</a></li>
<li><a href="ch02b.html">Chapter 02b: Control (continued)</a></li>
<li><a href="ch03.html">Chapter 03: Patient Administration</a></li>
<li><a href="ch04.html">Chapter 04: Order Entry</a></li>
<li><a href="ch05.html">Chapter 05: Query</a></li>
<li><a href="ch06.html">Chapter 06: Financial Management</a></li>
<li><a href="ch07.html">Chapter 07: Observation Reporting</a></li>
<li><a href="ch08.html">Chapter 08: Master Files</a></li>
<li><a href="ch09.html">Chapter 09: Medical Records/Information Management  (Document Management)</a></li>
<li><a href="ch10.html">Chapter 10: Scheduling</a></li>
<li><a href="ch11.html">Chapter 11: Patient Referral</a></li>
<li><a href="ch12.html">Chapter 12: Patient Care</a></li>
<li><a href="ch13.html">Chapter 13: Clinical Laboratory Automation</a></li>
<li><a href="ch14.html">Chapter 14: Application Management</a></li>
<li><a href="ch15.html">Chapter 15: Personnel Management</a></li>
<li><a href="ch16.html">Chapter 16: Claims and Reimbursement</a></li>
<li><a href="ch17.html">Chapter 17: Materials Management</a></li>
<li><a href="chA.html">Chapter A: . Data Definition Tables</a></li>
<li><a href="chB.html">Chapter B: Lower Layer Protocols</a></li>
<li><a href="chC.html">Chapter C: Version 2.6 BNF Message Descriptions</a></li>
<li><a href="chD.html">Chapter D: Glossary</a></li>
<li><a href="chE.html">Chapter E: Index</a></li>
</ul>
<hr>
<UL>
<li><a href="ch02b.html#Heading1">2 . Control (continued) </a></li>
<UL>
<li><a href="ch02b.html#Heading2">2.B CONFORMANCE USING MESSAGE PROFILES  </a></li>
<UL>
<li><a href="ch02b.html#Heading3">2.B.1 Message profile  </a></li>
<UL>
<li><a href="ch02b.html#Heading5">2.B.1.1 Message profile identifier</a></li>
<li><a href="ch02b.html#Heading6">2.B.1.2 Message profile publish/subscribe topics</a></li>
</UL>
<li><a href="ch02b.html#Heading7">2.B.2 Use case model  </a></li>
<li><a href="ch02b.html#Heading8">2.B.3 Dynamic definition  </a></li>
<UL>
<li><a href="ch02b.html#Heading10">2.B.3.1 Interaction model  </a></li>
<li><a href="ch02b.html#Heading11">2.B.3.2 Acknowledgements  </a></li>
</UL>
<li><a href="ch02b.html#Heading12">2.B.4 Static definition  </a></li>
<UL>
<li><a href="ch02b.html#Heading14">2.B.4.1 Static definition identifier</a></li>
<li><a href="ch02b.html#Heading15">2.B.4.2 Static definition publish/subscribe topics</a></li>
</UL>
<li><a href="ch02b.html#Heading16">2.B.5 Table definition  </a></li>
<UL>
<li><a href="ch02b.html#Heading18">2.B.5.1 Statements of table conformance</a></li>
<li><a href="ch02b.html#Heading19">2.B.5.2 Table values</a></li>
</UL>
<li><a href="ch02b.html#Heading20">2.B.6 Profile type  </a></li>
<UL>
<li><a href="ch02b.html#Heading22">2.B.6.1 Vendor constrainable profiles   </a></li>
<li><a href="ch02b.html#Heading23">2.B.6.2 Realm constrainable profiles   </a></li>
<li><a href="ch02b.html#Heading24">2.B.6.3 Implementation profiles   </a></li>
</UL>
<li><a href="ch02b.html#Heading25">2.B.7 Static definition concepts  </a></li>
<UL>
<li><a href="ch02b.html#Heading27">2.B.7.1 Cardinality  </a></li>
<li><a href="ch02b.html#Heading28">2.B.7.2 Usage  </a></li>
<li><a href="ch02b.html#Heading29">2.B.7.3 Relationship between HL7 optionality and conformance usage</a></li>
<li><a href="ch02b.html#Heading30">2.B.7.4 Relationship between usage and cardinality</a></li>
<li><a href="ch02b.html#Heading31">2.B.7.5 Usage within hierarchical elements</a></li>
<li><a href="ch02b.html#Heading32">2.B.7.6 Condition predicate</a></li>
<li><a href="ch02b.html#Heading33">2.B.7.7 Annotation</a></li>
</UL>
<li><a href="ch02b.html#Heading34">2.B.8 Static definition - message level  </a></li>
<UL>
<li><a href="ch02b.html#Heading36">2.B.8.1 Segment definitions</a></li>
<li><a href="ch02b.html#Heading37">2.B.8.2 Segment usage </a></li>
<li><a href="ch02b.html#Heading38">2.B.8.3 Segment cardinality</a></li>
<li><a href="ch02b.html#Heading40">2.B.8.5 Field definitions</a></li>
<li><a href="ch02b.html#Heading41">2.B.8.6 Field cardinality</a></li>
<li><a href="ch02b.html#Heading42">2.B.8.7 Field usage </a></li>
<li><a href="ch02b.html#Heading43">2.B.8.8 Data type</a></li>
<li><a href="ch02b.html#Heading44">2.B.8.9 Length</a></li>
<li><a href="ch02b.html#Heading45">2.B.8.10 Table reference</a></li>
</UL>
<li><a href="ch02b.html#Heading46">2.B.9 Static definition - field level  </a></li>
<UL>
<li><a href="ch02b.html#Heading48">2.B.9.1 Field Definitions</a></li>
<li><a href="ch02b.html#Heading49">2.B.9.2 User-defined and suggested field values</a></li>
<li><a href="ch02b.html#Heading50">2.B.9.3 Constant values</a></li>
<li><a href="ch02b.html#Heading51">2.B.9.4 Data values</a></li>
<li><a href="ch02b.html#Heading52">2.B.9.5 Pattern Matching</a></li>
<li><a href="ch02b.html#Heading53">2.B.9.6 Element Relationships</a></li>
<li><a href="ch02b.html#Heading54">2.B.9.7 Components and subcomponents</a></li>
</UL>
<li><a href="ch02b.html#Heading55">2.B.10 Message profile document  </a></li>
<UL>
<li><a href="ch02b.html#Heading57">2.B.10.1 Message profile document format</a></li>
<li><a href="ch02b.html#Heading58">2.B.10.2 Message profile document definition</a></li>
</UL>
<li><a href="ch02b.html#Heading59">2.B.11 Tools  </a></li>
<li><a href="ch02b.html#Heading60">2.B.12 Message profile document definition </a></li>
<UL>
<li><a href="ch02b.html#Heading62">2.B.12.1 Message profile schema  </a></li>
<li><a href="ch02b.html#Heading63">2.B.12.2 Message profile DTD  </a></li>
</UL>
<li><a href="ch02b.html#Heading64">2.B.13 Outstanding Issues</a></li>
</UL>
</UL>
</UL>
<p>
<HR>
<a id="Heading1">
<H1 class="css_Überschrift1" >
2 . Control (continued) 
</H1>
<p>
</p>
<a id="Heading2">
<H2 class="css_Überschrift2" >
2.B CONFORMANCE USING MESSAGE PROFILES  
</H2>
<p>
Previous sections in this chapter define the rules and conventions for constructing and communicating a message including the parts of a message structure. Messages that adhere to those rules of a specific version of a standard are compliant to that version of the standard.
</p>
<p>
Compliance to the HL7 Standard has historically been impossible to define and measure in a meaningful way. To compensate for this shortcoming, vendors and sites have used various methods of specifying boundary conditions such as optionality and cardinality. Frequently, specifications have given little guidance beyond the often-indefinite constraints provided in the HL7 Standard.
</p>
<p>
This section presents the methodology for producing a precise and unambiguous specification called a message profile. Messages that adhere to the constraints of a message profile are said to be conformant to the profile. For conformance to be measurable, the message profile must specify the following types of information:
</p>
<ul>
<li>
<p>
What data will be passed in a message.
</p>
</li>
<li>
<p>
The format in which the data will be passed.
</p>
</li>
<li>
<p>
The acknowledgement responsibilities of the sender and receiver.
</p>
</li>
</ul>
<p>
A conformance statement is a claim that the behavior of an application or application module agrees with the constraints stated in one or more message profiles. This section defines the message profile; however, the conformance statement will not be discussed further in this document.
</p>
<p>
Definition:  An HL7 message profile is an unambiguous specification of one or more standard HL7 messages that have been analyzed for a particular use case. It prescribes a set of precise constraints upon one or more standard HL7 messages.
</p>
<p>
An HL7 message profile is compliant, in all aspects, with the HL7 defined message(s) used in the profile. It may specify constraints on the standard HL7 message definition.
</p>
<p>
A message profile fully describes a conversation between two or more systems through the combination of the following:
</p>
<ol type=a>
<li>
<p>
one use case analysis,
</p>
</li>
<li>
<p>
one or more dynamic definitions,
</p>
</li>
<li>
<p>
one or more static definitions, and
</p>
</li>
<li>
<p>
one table (vocabulary) definition.
</p>
</li>
</ol>
<p>
The use case analysis may be documented as a use case diagram (supported with text) or just a textual description (See section 2.B.2, "Use case model".)
</p>
<p>
The dynamic definition is an interaction specification for a conversation between 2 or more systems (See Section.2.B.3, "Dynamic definition".)
</p>
<p>
The static definition is an exhaustive specification for a single message structure (see Section 2.B.4, "Static definition"). Normatively expressed as an XML document validated against the normative message profile Schema, it may be registered on the HL7 web site (see Section 2.B.10, "Message profile document").
</p>
<p>
The table (vocabulary)definition is an exhaustive specification for a single message structure (see Section 2.B.5, "Table definition"). Normatively expressed as an XML document validated against the normative message profile Schema, it may be registered on the HL7 web site (see Section 2.B.10, "Message profile document").
</p>
<p>
For detailed background information regarding message profiles, the reader is referred to the Conformance SIG balloted informative document, "Message Profiling Specification, Version 2.2", published November 30, 2000, upon which this section is based. This document is available from the HL7 Conformance SIG Web site (http://www.hl7.org).
</p>
<p>
A sample message profile is shown on the next page to assist in illustrating the constituents of a message profile and how they work together.
</p>
<p>
</p>
<p>
Message Profile Example
</p>
<p>
<img src="ch02b_01.gif" >
</p>
<a id="Heading3">
<H3 class="css_Überschrift3" >
2.B.1 Message profile  
</H3>
<p>
Definition: An HL7 message profile is an unambiguous specification of one or more standard HL7 messages that have been analyzed for a particular use case. Each message profile may have a unique identifier as well as publish/subscribe topics.
</p>
<a id="Heading4">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading5">
<H4 class="css_Überschrift4" >
2.B.1.1 Message profile identifier
</H4>
<p>
Each message profile may have a unique identifier to facilitate reference.
</p>
<a id="Heading6">
<H4 class="css_Überschrift4" >
2.B.1.2 Message profile publish/subscribe topics
</H4>
<p>
The message profile publish/subscribe topics is not required to be unique but might be used by publish/subscribe systems to convey aspects of the message profile (see MSH-21 Message Profile Identifier in the opening section of chapter 2).
</p>
<p>
The topics are not a normative constituent of the message profile but, if provided as part of the metadata, should be in the format described below. The topic elements will be separated by the dash (-).  Any element that does not have a value should use null. As this information may be used in a message instance; it should not contain any HL7 message delimiters.
</p>
<p>
Message Profile Publish/Subscribe Topics Elements
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
Seq
</TH><TH>
Topic Element Name
</TH><TH>
Value
</TH>
</TR>
<TR>
<TD>
1
</TD><TD>
Conformance SIG ID
</TD><TD>
confsig
</TD>
</TR>
<TR>
<TD>
2
</TD><TD>
An organization identifier
</TD><TD>
Abbreviated version of the organization name
</TD>
</TR>
<TR>
<TD>
3
</TD><TD>
The HL7 version
</TD><TD>
Refer to HL7 Table 0104 - Version ID for valid values
</TD>
</TR>
<TR>
<TD>
4
</TD><TD>
Topic Type
</TD><TD>
profile
</TD>
</TR>
<TR>
<TD>
5
</TD><TD>
Accept Acknowledgement
</TD><TD>
The accept acknowledgement responsibilities.(refer to HL7 Table 0155 - Accept/application acknowledgment conditions for valid values)
</TD>
</TR>
<TR>
<TD>
6
</TD><TD>
Application Acknowledgement
</TD><TD>
The application acknowledgement responsibilities (refer to HL7 Table 0155 - Accept/application acknowledgment conditions for valid values)
</TD>
</TR>
<TR>
<TD>
7
</TD><TD>
Acknowledgement Mode
</TD><TD>
Deferred or Immediate
</TD>
</TR>
</TABLE><p>
<p>
An example of message profile publish/subscribe topics:
</p>
<p>
confSig-MyOrganization-2.4-profile-AL-NE-Immediate
</p>
<a id="Heading7">
<H3 class="css_Überschrift3" >
2.B.2 Use case model  
</H3>
<p>
Definition: A use case model documents the scope and requirements for an HL7 message profile or set of message profiles.
</p>
<p>
The use case model must:
</p>
<ol type=a>
<li>
<p>
Provide a name that clearly and concisely defines the exchange
</p>
</li>
<li>
<p>
Document the purpose for each message exchange
</p>
</li>
<li>
<p>
Define the actors, including the sending and receiving applications
</p>
</li>
<li>
<p>
Define the flow of events between these actors including, where appropriate, derived events
</p>
</li>
<li>
<p>
Document the situations in which the exchange of a particular HL7 message profile is required
</p>
</li>
</ol>
<p>
Refer to the HL7 V3.0 Message Development Framework (MDF 99) for further information on use case models and their uses within HL7.
</p>
<a id="Heading8">
<H3 class="css_Überschrift3" >
2.B.3 Dynamic definition  
</H3>
<p>
Definition: The dynamic definition is an interaction specification for a conversation between 2 or more systems. It may reference one to many static definitions. The dynamic definition may include an interaction model in addition to the acknowledgement responsibilities.
</p>
<a id="Heading9">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading10">
<H4 class="css_Überschrift4" >
2.B.3.1 Interaction model  
</H4>
<p>
Definition: The Interaction Model illustrates the sequence of trigger events and resulting message flows between 2 or more systems. It may be in literal or graphical form. Graphical form should be a UML activity diagram. Example activity diagrams are shown here for the original and enhanced acknowledgement modes.
</p>
<p>
Interaction Model Example - ADT^A01/ACK^A01 (Original Acknowledgement Mode)
</p>
<p>
<img src="ch02b_02.png" >
</p>
<p>
Interaction Model Example - ADT^A01/ACK^A01 (Enhanced Acknowledgement Mode)
</p>
<p>
<img src="ch02b_03.png" >
</p>
<a id="Heading11">
<H4 class="css_Überschrift4" >
2.B.3.2 Acknowledgements  
</H4>
<p>
The specific HL7 acknowledgements required and/or allowed for use with the specified static definition of the HL7 message profile shall be defined. Specifically, the dynamic definition shall identify whether an accept and/or application level acknowledgement is allowed or required.
</p>
<p>
For any one static definition there may be one or more dynamic definition.
</p>
<p>
The dynamic definition shall define the conditions under which an accept and/or application level acknowledgement is expected.
</p>
<p>
Allowed conditions include:
</p>
<ol type=a>
<li>
<p>
Always
</p>
</li>
<li>
<p>
Never
</p>
</li>
<li>
<p>
Only on success
</p>
</li>
<li>
<p>
Only on error.
</p>
</li>
</ol>
<a id="Heading12">
<H3 class="css_Überschrift3" >
2.B.4 Static definition  
</H3>
<p>
Definition: The static definition is an exhaustive specification for a single message. Normatively expressed in XML, it may be registered on the HL7 web site (See Section 2.B.10, "Message profile document"). The static definition is based on a message structure defined in the HL7 Standard. The message code, trigger event, event description, role (Sender or Receiver) and, if applicable, the order control code will be provided. A complete static definition shall be defined at the message, segment, and field levels. A static definition is compliant in all aspects with the HL7-defined message it profiles. However, the static definition may define additional constraints on the standard HL7 message.
</p>
<p>
A static definition identifies only those specific elements of a standard HL7 message that are used in the exchange.
</p>
<p>
A static definition explicitly defines:
</p>
<ol type=a>
<li>
<p>
Segments, segment groups, fields and components usage rules
</p>
</li>
<li>
<p>
Cardinalities
</p>
</li>
<li>
<p>
Value sets and coding systems.
</p>
</li>
</ol>
<p>
The following figure depicts, in a graphical way, the concept that the static definition is an overlay of the HL7 message structure further constraining it. For example, where the HL7 message structure shows unlimited number of NK1 Segments, the static definition allows for only three repetitions. Additionally, fields that are optional in the HL7 message structure may be required within the HL7 static definitions.
</p>
<p>
Static Definition Illustration
</p>
<p>
<img src="ch02b_04.gif" >
</p>
<a id="Heading13">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading14">
<H4 class="css_Überschrift4" >
2.B.4.1 Static definition identifier
</H4>
<p>
Each static definition must have a unique identifier when registered (See section 2.B.10, "Message profile document"). An authority other than the registry may define this identifier. If, at the time of registration, the static profile does not have an identifier assigned by the submitter's authority, the registry authority will assign one. The static definition identifier would be the identifier used if a system asserts a strict conformance claim (see MSH-21 Message Profile Identifier in the first section of chapter 2).
</p>
<a id="Heading15">
<H4 class="css_Überschrift4" >
2.B.4.2 Static definition publish/subscribe topics
</H4>
<p>
Static definition publish/subscribe topics convey the static definition aspects of the message profile. These topics may be used by publish/subscribe systems (see MSH-21 Message Profile Identifier in the first section of chapter 2).
</p>
<p>
The topics are not a normative constituent of the message profile but, if provided as part of the metadata (see section 2.B.10, "Message profile document"), should be in the format described below. The topic elements will be separated by the dash (-). Any element that does not have a value should be null (nothing between the dashes). As this information may be used in a message instance, it should not contain any HL7 message delimiters.
</p>
<p>
Static Definition Publish/Subscribe Topics Components
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
Seq
</TH><TH>
Topic element name
</TH><TH>
Value(s)
</TH>
</TR>
<TR>
<TD>
1
</TD><TD>
Conformance SIG ID
</TD><TD>
confsig
</TD>
</TR>
<TR>
<TD>
2
</TD><TD>
An organization identifier
</TD><TD>
Abbreviated version of the organization name
</TD>
</TR>
<TR>
<TD>
3
</TD><TD>
The HL7 version
</TD><TD>
Refer to HL7 Table 0104 - Version ID for valid values
</TD>
</TR>
<TR>
<TD>
4
</TD><TD>
Topic Type
</TD><TD>
static
</TD>
</TR>
<TR>
<TD>
5
</TD><TD>
Message Type Code
</TD><TD>
Refer to HL7 Table 0076 - Message type for valid values
</TD>
</TR>
<TR>
<TD>
6
</TD><TD>
Event Type
</TD><TD>
Refer to HL7 Table 0003 - Event type for valid values (this table may be extended by locally defined Z trigger events)
</TD>
</TR>
<TR>
<TD>
7
</TD><TD>
Order Control Code
</TD><TD>
Refer to HL7 Table 0119 - Order Control Codes for valid values
</TD>
</TR>
<TR>
<TD>
8
</TD><TD>
Structure Type
</TD><TD>
Refer to HL7 Table 0354 - Message structure for valid values (this table may extended by locally defined message structures)
</TD>
</TR>
<TR>
<TD>
9
</TD><TD>
Specification Version
</TD><TD>
Version number of the application, interface, or specification
</TD>
</TR>
<TR>
<TD>
10
</TD><TD>
Specification Status
</TD><TD>
Status of the application, interface, or specification
</TD>
</TR>
<TR>
<TD>
11
</TD><TD>
Role
</TD><TD>
Sender or Receiver
</TD>
</TR>
</TABLE><p>
<p>
An example of static definition publish/subscribe topics:
</p>
<p>
confsig-MyOrganization-2.4-static-ADT-A04--ADT_A01-v2-draft-Sender
</p>
<a id="Heading16">
<H3 class="css_Überschrift3" >
2.B.5 Table definition  
</H3>
<p>
Table definitions will include statements of table conformance and, if available, the actual table elements supported.
</p>
<a id="Heading17">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading18">
<H4 class="css_Überschrift4" >
2.B.5.1 Statements of table conformance
</H4>
<p>
Statements of table conformance will consist of the definition of the table and its constituent elements. To the maximum extent practical it should be possible to objectively validate the content of a given message instance against the table definition in the profile.
</p>
<a id="Heading19">
<H4 class="css_Überschrift4" >
2.B.5.2 Table values
</H4>
<p>
The table definition can specify tables supported and the usage of values in those tables.  The source of the tables will be HL7, User, Local, External, or Imported.  For each table, the identifier, description and code system will be supplied.  The table identifier and version may also be supplied.
</p>
<p>
For each element identified in the table, the code, display name, source, and usage (Refer to 2.B.7.2, "Usage") will be supplied.  The source of the individual element will be HL7, User, Redefined, or SDO.
</p>
<a id="Heading20">
<H3 class="css_Überschrift3" >
2.B.6 Profile type  
</H3>
<p>
There are three basic profile types used in documenting standard conformance:
</p>
<ol type=a>
<li>
<p>
HL7 Standard profile (represents a specific HL7 published standard, creation and publication limited to HL7 use),
</p>
</li>
<li>
<p>
constrainable profile (with "Optional" elements which must be further constrained in order to create implementation profiles), and
</p>
</li>
<li>
<p>
implementation profile (no "Optional" parts, fully implementable).
</p>
</li>
</ol>
<p>
This model allows vendors or providers to publish generic profiles from which fully constrained implementation profiles can be created.
</p>
<p>
In comparison with the HL7 standard, separate constrainable and implementation profiles may exist for the receiving and the sending role.
</p>
<p>
Both constrainable profiles and implementation profiles focus primarily on the expectations of the sending application, with minimal constraints on the application behavior of the receiver.
</p>
<p>
Due to the HL7 principle of not specifying application behavior, this message profile section will not address use cases where explicit constraints on the expected behavior of the receiver application (e.g., whether the receiver must process information, ignore it or generate an error) are required.
</p>
<a id="Heading21">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading22">
<H4 class="css_Überschrift4" >
2.B.6.1 Vendor constrainable profiles   
</H4>
<p>
A vendor might develop a message profile to which all their software products must comply but, in itself, is not an implementation profile. The different products serve potentially different domains and might be implemented with products from other vendors. The vendor profile constrains the HL7 Standard by defining agreed-to vocabularies, conditionality rules, supported items, and local extensions that are shared across all products. The profile is not necessarily fully constrained. For example, the vendor profile might allow the usage code of optional as, across different products, an element may be required in some use cases, be optional or conditional in others, and not be supported at all in still others. The vendor's individual software products might themselves have profiles that would build on, and further constrain, their vendor profile. The product profile would specifically define the information model and the elements contained within. The product profile might still be a constrainable profile as elements might result in different HL7 messages based on configuration settings and customizations. Only once all configuration settings and customizations have been taken into account can you have a fully-constrained 'Implementation' profile.
</p>
<p>
Constrainable profiles can be useful for interface engine applications which must be flexible enough to allow for receipt of messages based on a variety of message profiles.  The desire of the application would be to validate message instances against one constrainable profile.
</p>
<a id="Heading23">
<H4 class="css_Überschrift4" >
2.B.6.2 Realm constrainable profiles   
</H4>
<p>
Realms, national and regional, profiles represent localization and restrictions placed on the appropriate standard, while providing enough optionality for basing the more specific implementation profiles. Some examples of realm constrainable profiles are:
</p>
<ol type=a>
<li>
<p>
AS4700.1-2001 Implementation of HL7 v2.3.1 Part 1:Patient Administration (constrainable profile for Australian Standards, constrains HL7 2.3.1, Chapter 3).
</p>
</li>
<li>
<p>
AS/NZS 4700.3-1999 Implementation of HL7 v2.3 Part 3: Electronic messages for exchange of information on Drug Prescription (constrainable profile for Australian Standards, constrains HL7 2.3, various Chapters).
</p>
</li>
</ol>
<a id="Heading24">
<H4 class="css_Überschrift4" >
2.B.6.3 Implementation profiles   
</H4>
<p>
Implementation profiles represent the lowest level of specification required for unambiguous implementation. Examples of some implementation profiles are:
</p>
<ol type=a>
<li>
<p>
Adverse Drug Reaction Implementers Specification, 2001, TGA (implementation profile, constrains Australian Standards and HL7 v2.3.1 constrainable profiles for Therapeutic Goods Administration ADRAC Messaging Implementation Project),
</p>
</li>
<li>
<p>
Diabetes Reporting Implementers Specification, 2001, UNSW (implementation profile, constrains Australian Standards and HL7 v2.3.1 constrainable profiles for University of NSW Diabetes Messaging Implementation Project),
</p>
</li>
<li>
<p>
Specific version of a product, as implemented, at a specific provider.
</p>
</li>
</ol>
<a id="Heading25">
<H3 class="css_Überschrift3" >
2.B.7 Static definition concepts  
</H3>
<p>
This section discusses concepts common to each level of the static definition (message, segment and field). It uses the generic term 'element' to refer to segment groups, segments, fields, components and sub-components.
</p>
<a id="Heading26">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading27">
<H4 class="css_Überschrift4" >
2.B.7.1 Cardinality  
</H4>
<p>
Cardinality identifies the minimum and maximum number of repetitions for a particular element (Segment Group, Segment or Field). Cardinalities are expressed as a minimum-maximum pair of non-negative integers. A conformant application must always send at least the minimum number of repetitions, and may never send more than the maximum number of repetitions.
</p>
<p>
There are two special values for cardinality. If the minimum number of repetitions is 0, the element may be omitted from a message. In certain circumstances, the maximum number of repetitions may have no practical limit. In this case, it is identified as '*'.  Examples of common cardinality combinations are:
</p>
<p>
Cardinality
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
Value
</TH><TH>
Description
</TH><TH>
Comment
</TH>
</TR>
<TR>
<TD>
[0..0]
</TD><TD>
Element never present
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[0..1]
</TD><TD>
Element may be omitted and it can have at most one Occurrence
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[1..1]
</TD><TD>
Element must have exactly one Occurrence
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[0..n]
</TD><TD>
Element may be omitted or may repeat up to n times
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[1..n]
</TD><TD>
Element must appear at least once, and may repeat up to n times
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[0..*]
</TD><TD>
Element may be omitted or repeat for an unlimited number of times
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[1..*]
</TD><TD>
Element must appear at least once, and may repeat unlimited number of times
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[m..n]
</TD><TD>
Element must appear at least "m" and at most" n" times
</TD><TD>
<br>
</TD>
</TR>
</TABLE><p>
<a id="Heading28">
<H4 class="css_Überschrift4" >
2.B.7.2 Usage  
</H4>
<p>
Usage refers to the circumstances under which an element appears in a message. Some elements must always be present, others may never be present, and others may only be present in certain circumstances. A set of codes has been defined to clearly identify the rules governing the presence of a particular element.
</p>
<p>
The rules govern the expected behavior of the sending application and limited restrictions on the receiving application with respect to the element. These usage codes expand/clarify the optionality codes defined in the HL7 standard.
</p>
<p>
Usage
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
Value
</TH><TH>
Description
</TH><TH>
Comment
</TH>
</TR>
<TR>
<TD>
R
</TD><TD>
Required
</TD><TD>
A conforming sending application shall populate all "R" elements with a non-empty value. conforming receiving application shall process (save/print/archive/etc.) or ignore the information conveyed by required elements. A conforming receiving application must not raise an error due to the presence of a required element, but may raise an error due to the absence of a required element.
<p>
Any element designated as required in a standard HL7 message definition shall also be required in all HL7 message profiles of that standard message.
</TD>
</TR>
<TR>
<TD>
RE
</TD><TD>
Required but may be empty
</TD><TD>
The element may be missing from the message, but must be sent by the sending application if there is relevant data. A conforming sending application must be capable of providing all "RE" elements. If the conforming sending application knows the required values for the element, then it must send that element. If the conforming sending application does not know the required values, then that element will be omitted.
<p>
Receiving applications will be expected to process (save/print/archive/etc.) or ignore data contained in the element, but must be able to successfully process the message if the element is omitted (no error message should be generated because the element is missing).
</TD>
</TR>
<TR>
<TD>
O
</TD><TD>
Optional
</TD><TD>
This code indicates that the Usage for this element has not yet been defined. A usage of 'Optional' may not be used in 'implementation' profiles (no-optionality profiles). Conformance may not be tested on an Optional field. Narrower profiles may be defined based on this profile, and may assign any usage code to the element
</TD>
</TR>
<TR>
<TD>
C
</TD><TD>
Conditional
</TD><TD>
This usage has an associated condition predicate (See section 2.B.7.6, "Condition predicate").
<p>
If the predicate is satisfied:
<p>
A conformant sending application must always send the element. A conformant receiving application must process or ignore data in the element. It may raise an error if the element is not present.
<p>
If the predicate is NOT satisfied:
<p>
A conformant sending application must NOT send the element. A conformant receiving application must NOT raise an error if the condition predicate is false and the element is not present, though it may raise an error if the element IS present.
</TD>
</TR>
<TR>
<TD>
CE
</TD><TD>
Conditional but it may be empty
</TD><TD>
This usage has an associated condition predicate (See section 2.B.7.6, "Condition predicate").
<p>
If the predicate is satisfied:
<p>
If the conforming sending application knows the required values for the element, then the application must send the element. If the conforming sending application does not know the values required for this element, then the element shall be omitted. The conforming sending application must be capable of knowing the element (when the predicate is true) for all 'CE' elements.
<p>
If the element is present, the conformant receiving application shall process (display/print/archive/etc.) or ignore the values of that element. If the element is not present, the conformant receiving application shall not raise an error due to the presence or absence of the element.
<p>
If the predicate is not satisfied:
<p>
The conformant sending application shall not populate the element.
<p>
The conformant receiving application may raise an application error if the element is present.
</TD>
</TR>
<TR>
<TD>
X
</TD><TD>
Not supported
</TD><TD>
For conformant sending applications, the element will not be sent. Conformant receiving applications may ignore the element if it is sent, or may raise an application error.
</TD>
</TR>
</TABLE><p>
<a id="Heading29">
<H4 class="css_Überschrift4" >
2.B.7.3 Relationship between HL7 optionality and conformance usage
</H4>
<p>
Conformance usage codes are more specific than HL7 Optionality codes. Because of the requirement that conformance statements must be compliant with the HL7 message definition it is derived from, there are restrictions on what usage codes may be assigned to an element based on the HL7 Optionality.
</p>
<p>
HL7 Optionality and Conformance Usage
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
HL7 Optionality
</TH><TH>
Allowed Conformance Usage
</TH><TH>
Comment
</TH>
</TR>
<TR>
<TD>
R - Required
</TD><TD>
R
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
O - Optional
</TD><TD>
R, RE, O, C, CE, X
</TD><TD>
O is only permitted for constrainable profiles
</TD>
</TR>
<TR>
<TD>
C - Conditional
</TD><TD>
C, CE, R
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
X - Not Supported
</TD><TD>
X
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
B - Backward Compatibility
</TD><TD>
R, RE, O, C, CE, X
</TD><TD>
O is only permitted for constrainable definitions
</TD>
</TR>
<TR>
<TD>
W - Withdrawn
</TD><TD>
R, RE, O, C, CE, X
</TD><TD>
<br>
</TD>
</TR>
</TABLE><p>
<a id="Heading30">
<H4 class="css_Überschrift4" >
2.B.7.4 Relationship between usage and cardinality
</H4>
<p>
Both usage and cardinality govern the appearance of a field and, therefore, a relationship exists between them. For purposes of message profiles, the cardinality shall be constrained by the usage code. The constraints are:
</p>
<ol type=a>
<li>
<p>
If the usage of an element is Required (R), the minimum cardinality for the element shall always be greater than or equal to 1.
</p>
</li>
<li>
<p>
If the usage of an element is not Required (R) (i.e. any code other than 'R'), the minimum cardinality shall be 0 except in the following condition:  If the profile author wishes to express a circumstance where an element will not always be present, but when present must have a minimum number of repetitions greater than one, this may be indicated by specifying the non-required Usage code with the minimum cardinality representing the minimum number of repetitions when the element is present. In UML, this would generally be expressed as (0,n..m), indicating that permitted occurrences are either zero, or the range of n through m)
</p>
</li>
</ol>
<p>
Example combinations:
</p>
<p>
Example Usage-Cardinality Combinations
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
Cardinality
</TH><TH>
Usage
</TH><TH>
Interpretation
</TH>
</TR>
<TR>
<TD>
[1..1]
</TD><TD>
R
</TD><TD>
There will always be exactly 1 repetition present
</TD>
</TR>
<TR>
<TD>
[1..5]
</TD><TD>
R
</TD><TD>
There will be between 1 and 5 repetitions present
</TD>
</TR>
<TR>
<TD>
[0..1]
</TD><TD>
RE
</TD><TD>
The element must be supported, but may not always be present
</TD>
</TR>
<TR>
<TD>
[0..5]
</TD><TD>
C
</TD><TD>
If the condition predicate is true, there will be between 1 and 5 repetitions. If the predicate is false, there will be 0 repetitions.
</TD>
</TR>
<TR>
<TD>
[3..5]
</TD><TD>
RE
</TD><TD>
If any values for the element are sent, there must be at least 3 and no more than 5 repetitions. However, the element may be absent (0 repetitions)
</TD>
</TR>
</TABLE><p>
<a id="Heading31">
<H4 class="css_Überschrift4" >
2.B.7.5 Usage within hierarchical elements
</H4>
<p>
As part of the conformance framework, there is an additional rule for determining whether a particular 'element' is present. The rule is as follows: For an element to be considered present, it must have content. This means that simple elements (fields, components or sub-components with simple data types such as NM, ST, ID) must have at least one character. Complex elements (those composed of other elements. e.g. Messages, Segment Groups, Segments, Fields with complex data types such as CNE, XPN, etc.), must contain at least one component that is present. Elements that do not meet these conditions are not considered to be present.
</p>
<p>
For example, if a segment is made up of 10 optional fields, at least one of the fields must be present in order for the segment to be considered present. Thus, if the segment is marked as Required, an instance message would only be conformant if the segment contained at least one field. The reason for this rule is to ensure that the intent of the profile is met. The rule is necessary because the traditional 'vertical bar' encoding allows for a bare segment identifier with no fields (e.g., a line containing just "NTE|" would be considered valid under the standard rules, but would be considered not present as far as testing against a conformance specification. The XML encoding also allows this, as well as fields without their components, components without their sub-components, etc. (e.g. &lt;PID.3/&gt;).
</p>
<a id="Heading32">
<H4 class="css_Überschrift4" >
2.B.7.6 Condition predicate
</H4>
<p>
If the usage code of an element is C or CE, then a conditionality predicate must be associated with this element that identifies the conditions under which the element must be or is allowed to be present. The predicate must be testable and based on other values within the message. This predicate may be expressed as a mathematical expression or in text and may utilize operators such as equivalence, logical AND, logical OR and NOT. The conforming sending and receiving applications shall both evaluate the predicate. When the Usage is not 'C' or 'CE', the conditionality predicate will not be valued.
</p>
<a id="Heading33">
<H4 class="css_Überschrift4" >
2.B.7.7 Annotation
</H4>
<p>
Annotations provide further explanations to educate prospective users and/or implementers. These are usually used to enhance the descriptions of the elements of the base specification in order to relate them to a particular Context.
</p>
<p>
Types of annotations supported:
</p>
<p>
Definition: An explanation of the meaning of the element.
</p>
<p>
Description: An explanation of the associated element.  This may contain formatting markup.
</p>
<p>
DesignComments: Internal development notes about why particular design decisions were made, outstanding issues and remaining work.  They may contain formatting markup.  Not intended for external publication.
</p>
<p>
OtherAnnotation: Additional content related to the element.
</p>
<p>
Example: An example instance
</p>
<p>
Added ability to communicate pattern matching and element relationships.  These, as well as condition predicate, will allow for text and formal testable constraints.
</p>
<a id="Heading34">
<H3 class="css_Überschrift3" >
2.B.8 Static definition - message level  
</H3>
<p>
The message level static definition shall be documented using the HL7 abstract message syntax, with the addition of specifying cardinality and usage for each of the segments contained within the message structure.
</p>
<p>
The usage column shall be updated to reflect the usage of the segment or group within this particular static definition.
</p>
<p>
The cardinality column shall accurately reflect the minimum and maximum number of repetitions of the field allowed for the segment or group within this particular static definition.
</p>
<p>
Sample Static Definition - Message Level
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
ADT^A01^ADT_A01
</TH><TH>
ADT Message
</TH><TH>
Status
</TH><TH>
Usage
</TH><TH>
Cardinality
</TH><TH>
Chapter
</TH>
</TR>
<TR>
<TD>
MSH
</TD><TD>
Message Header
</TD><TD>
<br>
</TD><TD>
R
</TD><TD>
[1..1]
</TD><TD>
2
</TD>
</TR>
<TR>
<TD>
[{ SFT }]
</TD><TD>
Software Segment
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
2
</TD>
</TR>
<TR>
<TD>
[ UAC ]
</TD><TD>
User Authentication Credential
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
2
</TD>
</TR>
<TR>
<TD>
EVN
</TD><TD>
Event Type
</TD><TD>
<br>
</TD><TD>
R
</TD><TD>
[1..1]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
PID
</TD><TD>
Patient Identification
</TD><TD>
<br>
</TD><TD>
R
</TD><TD>
[1..1]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[  PD1  ]
</TD><TD>
Additional Demographics
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[  ARV  ]
</TD><TD>
Access Restrictions
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[{ ROL }]
</TD><TD>
Role
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
15
</TD>
</TR>
<TR>
<TD>
[{ NK1 }]
</TD><TD>
Next of Kin / Associated Parties
</TD><TD>
<br>
</TD><TD>
RE
</TD><TD>
[0..3]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
PV1
</TD><TD>
Patient Visit
</TD><TD>
<br>
</TD><TD>
C
</TD><TD>
[0..1]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[  ARV  ]
</TD><TD>
Access Restrictions
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[  PV2  ]
</TD><TD>
Patient Visit - Additional Info.
</TD><TD>
<br>
</TD><TD>
RE
</TD><TD>
[0..1]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[{ ROL }]
</TD><TD>
Role
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
15
</TD>
</TR>
<TR>
<TD>
[{ DB1 }]
</TD><TD>
Disability Information
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[{ OBX }]
</TD><TD>
Observation/Result
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
7
</TD>
</TR>
<TR>
<TD>
[{ AL1 }]
</TD><TD>
Allergy Information
</TD><TD>
<br>
</TD><TD>
RE
</TD><TD>
[0..10]
</TD><TD>
3
</TD>
</TR>
<TR>
<TD>
[{ DG1 }]
</TD><TD>
Diagnosis Information
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[  DRG  ]
</TD><TD>
Diagnosis Related Group
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[{
</TD><TD>
--- PROCEDURE begin
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
PR1
</TD><TD>
Procedures
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[{ ROL }]
</TD><TD>
Role
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
15
</TD>
</TR>
<TR>
<TD>
}]
</TD><TD>
--- PROCEDURE end
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[{ GT1 }]
</TD><TD>
Guarantor
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[{
</TD><TD>
--- INSURANCE begin
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
IN1
</TD><TD>
Insurance
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[  IN2 ]
</TD><TD>
Insurance Additional Info.
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[{ IN3 }]
</TD><TD>
Insurance Additional Info - Cert.
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[{ ROL }]
</TD><TD>
Role
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
15
</TD>
</TR>
<TR>
<TD>
}]
</TD><TD>
--- INSURANCE end
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
<br>
</TD>
</TR>
<TR>
<TD>
[  ACC  ]
</TD><TD>
Accident Information
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[  UB1  ]
</TD><TD>
Universal Bill Information
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[  UB2  ]
</TD><TD>
Universal Bill 92 Information
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
6
</TD>
</TR>
<TR>
<TD>
[  PDA  ]
</TD><TD>
Patient Death and Autopsy
</TD><TD>
<br>
</TD><TD>
X
</TD><TD>
[0..0]
</TD><TD>
3
</TD>
</TR>
</TABLE><p>
<a id="Heading35">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading36">
<H4 class="css_Überschrift4" >
2.B.8.1 Segment definitions
</H4>
<p>
The set of segments and segment groups included within the message shall be defined. Any segments or segment groups that are required by HL7 shall be included.
</p>
<a id="Heading37">
<H4 class="css_Überschrift4" >
2.B.8.2 Segment usage 
</H4>
<p>
The usage of the segment or group within a message shall be defined using one of the codes in the previously defined usage table.
</p>
<a id="Heading38">
<H4 class="css_Überschrift4" >
2.B.8.3 Segment cardinality
</H4>
<p>
Some segments and segment groups within the HL7 message are allowed to repeat. The cardinality of all the segments and groups within the message shall be defined.
</p>
<p>
Static definition - segment level
</p>
<p>
The segment level static definition shall be documented using the HL7 segment attribute table format with the addition of specifying length, usage and cardinality for each of the fields contained within the segment.
</p>
<ul>
<li>
<p>
The length column shall be updated to accurately reflect the maximum allowed length for the field within this segment definition.
</p>
</li>
<li>
<p>
The usage column shall accurately reflect the usage of the field within this segment definition.
</p>
</li>
<li>
<p>
The cardinality column shall accurately reflect the minimum and maximum number of repetitions of the field allowed for this segment definition.
</p>
</li>
</ul>
<p>
Sample Segment Level Definition - PID (Patient Identification) Segment
</p>
<TABLE width="100%" border=1>
<TR>
<TH>
SEQ
</TH><TH>
LEN
</TH><TH>
DT
</TH><TH>
Usage
</TH><TH>
Cardinality
</TH><TH>
TBL#
</TH><TH>
Item#
</TH><TH>
Element Name
</TH>
</TR>
<TR>
<TD>
1
</TD><TD>
4
</TD><TD>
SI
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00104
</TD><TD>
Set ID - PID
</TD>
</TR>
<TR>
<TD>
2
</TD><TD>
20
</TD><TD>
CX
</TD><TD>
RE
</TD><TD>
[0..1]
</TD><TD>
<br>
</TD><TD>
00105
</TD><TD>
Patient ID
</TD>
</TR>
<TR>
<TD>
3
</TD><TD>
20
</TD><TD>
CX
</TD><TD>
R
</TD><TD>
[1..*]
</TD><TD>
<br>
</TD><TD>
00106
</TD><TD>
Patient Identifier List
</TD>
</TR>
<TR>
<TD>
4
</TD><TD>
20
</TD><TD>
CX
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00107
</TD><TD>
Alternate Patient ID - PID
</TD>
</TR>
<TR>
<TD>
5
</TD><TD>
48
</TD><TD>
XPN
</TD><TD>
R
</TD><TD>
[1..*]
</TD><TD>
<br>
</TD><TD>
00108
</TD><TD>
Patient Name
</TD>
</TR>
<TR>
<TD>
6
</TD><TD>
48
</TD><TD>
XPN
</TD><TD>
RE
</TD><TD>
[0..*]
</TD><TD>
<br>
</TD><TD>
00109
</TD><TD>
Mother's Maiden Name
</TD>
</TR>
<TR>
<TD>
7
</TD><TD>
24
</TD><TD>
DTM
</TD><TD>
RE
</TD><TD>
[0..1]
</TD><TD>
<br>
</TD><TD>
00110
</TD><TD>
Date/Time of Birth
</TD>
</TR>
<TR>
<TD>
8
</TD><TD>
1
</TD><TD>
IS
</TD><TD>
RE
</TD><TD>
[0..1]
</TD><TD>
0001
</TD><TD>
00111
</TD><TD>
Sex
</TD>
</TR>
<TR>
<TD>
9
</TD><TD>
48
</TD><TD>
XPN
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00112
</TD><TD>
Patient Alias
</TD>
</TR>
<TR>
<TD>
10
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0005
</TD><TD>
00113
</TD><TD>
Race
</TD>
</TR>
<TR>
<TD>
11
</TD><TD>
106
</TD><TD>
XAD
</TD><TD>
RE
</TD><TD>
[0..3]
</TD><TD>
<br>
</TD><TD>
00114
</TD><TD>
Patient Address
</TD>
</TR>
<TR>
<TD>
12
</TD><TD>
4
</TD><TD>
IS
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0289
</TD><TD>
00115
</TD><TD>
County Code
</TD>
</TR>
<TR>
<TD>
13
</TD><TD>
40
</TD><TD>
XTN
</TD><TD>
RE
</TD><TD>
[0..3]
</TD><TD>
<br>
</TD><TD>
00116
</TD><TD>
Phone Number - Home
</TD>
</TR>
<TR>
<TD>
14
</TD><TD>
40
</TD><TD>
XTN
</TD><TD>
RE
</TD><TD>
[0..3]
</TD><TD>
<br>
</TD><TD>
00117
</TD><TD>
Phone Number - Business
</TD>
</TR>
<TR>
<TD>
15
</TD><TD>
60
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0296
</TD><TD>
00118
</TD><TD>
Primary Language
</TD>
</TR>
<TR>
<TD>
16
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0002
</TD><TD>
00119
</TD><TD>
Marital Status
</TD>
</TR>
<TR>
<TD>
17
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0006
</TD><TD>
00120
</TD><TD>
Religion
</TD>
</TR>
<TR>
<TD>
18
</TD><TD>
20
</TD><TD>
CX
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00121
</TD><TD>
Patient Account Number
</TD>
</TR>
<TR>
<TD>
19
</TD><TD>
16
</TD><TD>
ST
</TD><TD>
RE
</TD><TD>
[0..1]
</TD><TD>
<br>
</TD><TD>
00122
</TD><TD>
SSN Number - Patient
</TD>
</TR>
<TR>
<TD>
20
</TD><TD>
25
</TD><TD>
DLN
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00123
</TD><TD>
Driver's License Number - Patient
</TD>
</TR>
<TR>
<TD>
21
</TD><TD>
20
</TD><TD>
CX
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00124
</TD><TD>
Mother's Identifier
</TD>
</TR>
<TR>
<TD>
22
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0189
</TD><TD>
00125
</TD><TD>
Ethnic Group
</TD>
</TR>
<TR>
<TD>
23
</TD><TD>
60
</TD><TD>
ST
</TD><TD>
RE
</TD><TD>
[0..1]
</TD><TD>
<br>
</TD><TD>
00126
</TD><TD>
Birth Place
</TD>
</TR>
<TR>
<TD>
24
</TD><TD>
1
</TD><TD>
ID
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0136
</TD><TD>
00127
</TD><TD>
Multiple Birth Indicator
</TD>
</TR>
<TR>
<TD>
25
</TD><TD>
2
</TD><TD>
NM
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00128
</TD><TD>
Birth Order
</TD>
</TR>
<TR>
<TD>
26
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0171
</TD><TD>
00129
</TD><TD>
Citizenship
</TD>
</TR>
<TR>
<TD>
27
</TD><TD>
60
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0172
</TD><TD>
00130
</TD><TD>
Veterans Military Status
</TD>
</TR>
<TR>
<TD>
28
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0212
</TD><TD>
00739
</TD><TD>
Nationality
</TD>
</TR>
<TR>
<TD>
29
</TD><TD>
24
</TD><TD>
DTM
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
00740
</TD><TD>
Patient Death Date and Time
</TD>
</TR>
<TR>
<TD>
30
</TD><TD>
1
</TD><TD>
ID
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0136
</TD><TD>
00741
</TD><TD>
Patient Death Indicator
</TD>
</TR>
<TR>
<TD>
31
</TD><TD>
1
</TD><TD>
ID
</TD><TD>
RE
</TD><TD>
[0..1]
</TD><TD>
0136
</TD><TD>
01535
</TD><TD>
Identity Unknown Indicator
</TD>
</TR>
<TR>
<TD>
32
</TD><TD>
20
</TD><TD>
IS
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0445
</TD><TD>
01536
</TD><TD>
Identity Reliability Code
</TD>
</TR>
<TR>
<TD>
33
</TD><TD>
24
</TD><TD>
DTM
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
01537
</TD><TD>
Last Update Date/Time
</TD>
</TR>
<TR>
<TD>
34
</TD><TD>
40
</TD><TD>
HD
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
01538
</TD><TD>
Last Update Facility
</TD>
</TR>
<TR>
<TD>
35
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
CE
</TD><TD>
[0..1]
</TD><TD>
0446
</TD><TD>
01539
</TD><TD>
Species Code
</TD>
</TR>
<TR>
<TD>
36
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
CE
</TD><TD>
[0..1]
</TD><TD>
0447
</TD><TD>
01540
</TD><TD>
Breed Code
</TD>
</TR>
<TR>
<TD>
37
</TD><TD>
80
</TD><TD>
ST
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
<br>
</TD><TD>
01541
</TD><TD>
Strain
</TD>
</TR>
<TR>
<TD>
38
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0429
</TD><TD>
01542
</TD><TD>
Production Class Code
</TD>
</TR>
<TR>
<TD>
39
</TD><TD>
80
</TD><TD>
CWE
</TD><TD>
X
</TD><TD>
<br>
</TD><TD>
0171
</TD><TD>
01840
</TD><TD>
Tribal Citizenship
</TD>
</TR>
</TABLE><p>
<a id="Heading39">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading40">
<H4 class="css_Überschrift4" >
2.B.8.5 Field definitions
</H4>
<p>
The set of fields of each segment within the message level definition shall be specified.
</p>
<p>
If a segment occurs multiple times within a message profile, it may be represented by different segment profiles. This shall be explicitly defined within the message level definition.
</p>
<a id="Heading41">
<H4 class="css_Überschrift4" >
2.B.8.6 Field cardinality
</H4>
<p>
Some fields within a segment are allowed to repeat. The cardinality of all the fields within the segment shall be defined.
</p>
<a id="Heading42">
<H4 class="css_Überschrift4" >
2.B.8.7 Field usage 
</H4>
<p>
The usage of the field within a segment shall be defined consistent with the profile type, and using one of codes identified in the previously defined Usage tables.
</p>
<a id="Heading43">
<H4 class="css_Überschrift4" >
2.B.8.8 Data type
</H4>
<p>
The data type of the field within a segment shall be updated to accurately reflect the data type for the field within this segment definition.
</p>
<a id="Heading44">
<H4 class="css_Überschrift4" >
2.B.8.9 Length
</H4>
<p>
The length of the field within a segment shall be updated to accurately reflect the maximum allowed length for the field within this segment definition.
</p>
<a id="Heading45">
<H4 class="css_Überschrift4" >
2.B.8.10 Table reference
</H4>
<p>
The name of the table of the field within a segment shall be updated to accurately reflect the table used for the field within this segment definition.
</p>
<a id="Heading46">
<H3 class="css_Überschrift3" >
2.B.9 Static definition - field level  
</H3>
<a id="Heading47">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading48">
<H4 class="css_Überschrift4" >
2.B.9.1 Field Definitions
</H4>
<p>
Each individual field within a segment shall be completely defined to eliminate any possible ambiguity.
</p>
<p>
In cases where HL7 2.x field descriptions are not sufficient, a precise semantic definition shall be specified.
</p>
<a id="Heading49">
<H4 class="css_Überschrift4" >
2.B.9.2 User-defined and suggested field values
</H4>
<p>
The allowed code sets (table) for many fields within the HL7 Standard are specified as user-defined (data type IS) or HL7-defined (data type ID) values.
</p>
<p>
In these cases, the exact allowed code set shall be specified. These values shall be defined according to the specified scope of use for the message profile by vendors, provider, or within a realm.
</p>
<p>
Coded Entry (CE, CF, CWE, and CNE) type fields are specified as being populated based on coding systems. For each of these fields, the specific coding system used shall be identified. Compliant applications are required to use the specified coding system, but may also use an alternate coding system as supported by the data type (See the example within each data type definition).
</p>
<a id="Heading50">
<H4 class="css_Überschrift4" >
2.B.9.3 Constant values
</H4>
<p>
If an element will always have a constant value, this shall be specified. Constant values may only be specified for elements that represent primitive data types, i.e., they have no components or sub-components.
</p>
<a id="Heading51">
<H4 class="css_Überschrift4" >
2.B.9.4 Data values
</H4>
<p>
A list of example data values for the element may be specified. Data values may only be specified for elements that represent primitive data types i.e. they no components or sub-components.
</p>
<a id="Heading52">
<H4 class="css_Überschrift4" >
2.B.9.5 Pattern Matching
</H4>
<p>
Constraints for matching patterns within fields may be specified.  In addition to textual description of the constraint, formal expressions may be specified.  These formal expressions can be Object Constraint Language (OCL), regular expressions (RegEx), and XML Path Language (XPath)
</p>
<a id="Heading53">
<H4 class="css_Überschrift4" >
2.B.9.6 Element Relationships
</H4>
<p>
Element relationships may be may be specified.  In addition to textual description of these constraints, formal expressions may be specified.  These formal expressions can be Object Constraint Language (OCL), regular expressions (RegEx), and XML Path Language (XPath)
</p>
<a id="Heading54">
<H4 class="css_Überschrift4" >
2.B.9.7 Components and subcomponents
</H4>
<p>
Many fields and components in versions of HL7 prior to 2.5 were defined to be Composite Data (CM) data types. As of 2.5, all field instances will reference a valid data type other than CM. Addenda for versions 2.3.1 and 2.4 are available that define more precise names for the CM data types. These names allow a more precise data type name for each of the fields using the former CM data type to be more easily used for XML encoding of message instances. Although message profiling is not limited to a specific version of HL7, it is strongly encouraged that these new data types be used to increase interoperability between versions.
</p>
<p>
Each component within composite fields shall be profiled. This requires defining the usage, length, data type, and data values of each of the components. Where there are sub-components of a component, each of the sub-components shall also be profiled using the same method. With the exception of cardinality, the rules for these definitions follow those for fields (See section 2.B.9, "Static definition - field level").
</p>
<a id="Heading55">
<H3 class="css_Überschrift3" >
2.B.10 Message profile document  
</H3>
<p>
HL7 Headquarters will provide a utility, hereafter called registry, on the Members' Only Web site (http://www.hl7.org) where the message profile can be registered.
</p>
<p>
Messages profiles in the registry are all catalogued with a set of metadata. Those entities submitting message profiles into the registry will need to fill out a form that captures the required metadata information. The registry and the metadata will be documented in an informative document and will not be discussed further in this document.
</p>
<a id="Heading56">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading57">
<H4 class="css_Überschrift4" >
2.B.10.1 Message profile document format
</H4>
<p>
The Conformance SIG researched the best approach to standardize the format of a message profile to facilitate comparison and measurement. XML (eXtensible Markup Language XML W3C XML 1.0 2nd Ed) documents appeared to be the best tool for this.
</p>
<p>
This use of XML is not, in any way, related to the HL7 2.xml encoding specification that describes the XML encoding of message instances. The message profile document format provides structure to the documentation of the message profile and does not limit the encoding of an actual message instance.
</p>
<a id="Heading58">
<H4 class="css_Überschrift4" >
2.B.10.2 Message profile document definition
</H4>
<p>
A message profile document will be a valid HL7 message profiles if it conforms to the constraints expressed in the message profile document definition (See section 2.B.12, "Message profile document definition"), and the additional rules described in this document.
</p>
<a id="Heading59">
<H3 class="css_Überschrift3" >
2.B.11 Tools  
</H3>
<p>
The tools used for creation, sharing, re-use, reporting, analyzing, and comparing message profiles are outside the scope of the HL7 standard. Refer to the Implementation/Conformance TC web site for useful links that are of widespread interest to, and in support of, message profiles and the Implementation/Conformance TC.
</p>
<a id="Heading60">
<H3 class="css_Überschrift3" >
2.B.12 Message profile document definition 
</H3>
<p>
The Conformance SIG researched the various ways to express the structure of the message profile document. The Document Type Definition (DTD) allows for declaring constraints on the use of markup. XML Schema Language provides a more rigorous and comprehensive framework for automated processing of XML documents.
</p>
<p>
The message profile DTD and schema are both included here. The message profile schema is normative in order to express the rules by which the registry will validate (see section 2.B, "Conformance Using Message Profiles").
</p>
<a id="Heading61">
<H4 class="css_Überschrift4" >
</H4>
<a id="Heading62">
<H4 class="css_Überschrift4" >
2.B.12.1 Message profile schema  
</H4>
<TABLE width="100%" border=1>
<TR>
<TD>
<?xml version="1.0" encoding="UTF-8"?>
<p>
<!-- edited with XML Spy v4.4 U (http://www.xmlspy.com) by Jennifer Puyenbroek (HL7 Control Query TC) -->
<p>
<xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" elementFormDefault="qualified">
<p>
	<xs:element name="HL7v2xConformanceProfile">
<p>
		<xs:annotation>
<p>
			<xs:documentation>An unambiguous specification of one or more standard HL7 messages that have been analyzed for a particular use case. It prescribes a set of precise constraints upon one or more standard HL7 messages.</xs:documentation>
<p>
		</xs:annotation>
<p>
		<xs:complexType>
<p>
			<xs:sequence>
<p>
				<xs:element name="MetaData" type="MetaDataType">
<p>
					<xs:annotation>
<p>
						<xs:documentation>Provides descriptive information about the life-cycle of the HL7v2xConformanceProfile, as well as authorship and control information.</xs:documentation>
<p>
					</xs:annotation>
<p>
				</xs:element>
<p>
				<xs:element name="Annotation" type="AnnotationType" minOccurs="0" maxOccurs="unbounded">
<p>
					<xs:annotation>
<p>
						<xs:documentation>Annotations provide a general description about how the profile is intended to be used, as well as hints on using or interpreting the profile.</xs:documentation>
<p>
					</xs:annotation>
<p>
				</xs:element>
<p>
				<xs:element name="UseCase">
<p>
					<xs:annotation>
<p>
						<xs:documentation>A use case model documents the scope and requirements for an HL7 message profile or set of message profiles.</xs:documentation>
<p>
					</xs:annotation>
<p>
					<xs:complexType>
<p>
						<xs:sequence>
<p>
							<xs:element name="Purpose" type="NonEmptyStringType" minOccurs="0">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Identifies the reason and/or objectives for the usecase</xs:documentation>
<p>
								</xs:annotation>
<p>
							</xs:element>
<p>
							<xs:element name="Description" type="NonEmptyStringType" minOccurs="0">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Descriptive text for the use-case. In cases where the use-case is not broken down into component elements, this will include the complete details of the usecase. Otherwise, it will contain a basic overview.</xs:documentation>
<p>
								</xs:annotation>
<p>
							</xs:element>
<p>
							<xs:choice minOccurs="0" maxOccurs="unbounded">
<p>
								<xs:element name="Actor" type="UseCaseElementType">
<p>
									<xs:annotation>
<p>
										<xs:documentation>Identifies and defines the entities involved in the use-case. This includes the sending and receiving applications</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:element>
<p>
								<xs:element name="PreCondition" type="UseCaseElementType">
<p>
									<xs:annotation>
<p>
										<xs:documentation>Identifies a circumstance that must hold true prior to the use-case being invoked.</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:element>
<p>
								<xs:element name="PostCondition" type="UseCaseElementType">
<p>
									<xs:annotation>
<p>
										<xs:documentation>Identifies a circumstance that will hold true after the successful completion of the use-case.</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:element>
<p>
								<xs:element name="EventFlow" type="UseCaseElementType">
<p>
									<xs:annotation>
<p>
										<xs:documentation>Identifies a step within the chain of occurrences that lead to the successful completion of the use-case. This includes the exchange of messages between applications.</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:element>
<p>
								<xs:element name="DerivedEvent" type="UseCaseElementType">
<p>
									<xs:annotation>
<p>
										<xs:documentation/>
<p>
									</xs:annotation>
<p>
								</xs:element>
<p>
							</xs:choice>
<p>
						</xs:sequence>
<p>
					</xs:complexType>
<p>
					<xs:key name="ActorNamesUniqueInUseCase">
<p>
						<xs:selector xpath="Actor"/>
<p>
						<xs:field xpath="@Name"/>
<p>
					</xs:key>
<p>
					<xs:key name="PreConditionNamesUniqueInUseCase">
<p>
						<xs:selector xpath="PreCondition"/>
<p>
						<xs:field xpath="@Name"/>
<p>
					</xs:key>
<p>
					<xs:key name="PostConditionNamesUniqueInUseCase">
<p>
						<xs:selector xpath="PostCondition"/>
<p>
						<xs:field xpath="@Name"/>
<p>
					</xs:key>
<p>
					<xs:key name="EventFlowNamesUniqueInUseCase">
<p>
						<xs:selector xpath="EventFlow"/>
<p>
						<xs:field xpath="@Name"/>
<p>
					</xs:key>
<p>
					<xs:key name="DerivedEventNamesUniqueInUseCase">
<p>
						<xs:selector xpath="DerivedEvent"/>
<p>
						<xs:field xpath="@Name"/>
<p>
					</xs:key>
<p>
				</xs:element>
<p>
				<xs:element name="Encodings">
<p>
					<xs:annotation>
<p>
						<xs:documentation>Identifies all of the message encoding mechanisms supported by the profile. Non-traditional encoding mechanisms may be identified if desired.</xs:documentation>
<p>
					</xs:annotation>
<p>
					<xs:complexType>
<p>
						<xs:sequence>
<p>
							<xs:element name="Encoding" maxOccurs="unbounded">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Identifies one of the encoding mechanisms supported by the profile.</xs:documentation>
<p>
								</xs:annotation>
<p>
								<xs:simpleType>
<p>
									<xs:union memberTypes="xs:NMTOKEN">
<p>
										<xs:simpleType>
<p>
											<xs:restriction base="xs:NMTOKEN">
<p>
												<xs:enumeration value="ER7"/>
<p>
												<xs:enumeration value="XML"/>
<p>
											</xs:restriction>
<p>
										</xs:simpleType>
<p>
									</xs:union>
<p>
								</xs:simpleType>
<p>
							</xs:element>
<p>
						</xs:sequence>
<p>
					</xs:complexType>
<p>
					<xs:key name="EncodingUniqueInEncodings">
<p>
						<xs:selector xpath="Encoding"/>
<p>
						<xs:field xpath="."/>
<p>
					</xs:key>
<p>
				</xs:element>
<p>
				<xs:sequence maxOccurs="unbounded">
<p>
					<xs:element name="DynamicDef">
<p>
						<xs:annotation>
<p>
							<xs:documentation>The dynamic definition is an interaction specification for a conversation between 2 or more systems.</xs:documentation>
<p>
						</xs:annotation>
<p>
						<xs:complexType>
<p>
							<xs:attribute name="AccAck" type="AcknowledgementType" default="NE">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Identifies when and if HL7 'Accept' acknowledgements are required. Allowed values are: AL (always), NE (never), SU (on success), ER (on error). Default is 'NE'.</xs:documentation>
<p>
								</xs:annotation>
<p>
							</xs:attribute>
<p>
							<xs:attribute name="AppAck" type="AcknowledgementType" default="AL">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Identifies when and if HL7 'Application' acknowledgements are required. Allowed values are: AL (always), NE (never), SU (on success), ER (on error).  Default is 'AL'.</xs:documentation>
<p>
								</xs:annotation>
<p>
							</xs:attribute>
<p>
							<xs:attribute name="MsgAckMode" default="Deferred">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Identifies the type of acknowledgement expected by the sender of a message. Allowed values are: Immediate and Deferred. Default is Immediate.</xs:documentation>
<p>
								</xs:annotation>
<p>
								<xs:simpleType>
<p>
									<xs:restriction base="xs:NMTOKEN">
<p>
										<xs:enumeration value="Immediate"/>
<p>
										<xs:enumeration value="Deferred"/>
<p>
									</xs:restriction>
<p>
								</xs:simpleType>
<p>
							</xs:attribute>
<p>
							<xs:attribute name="QueryMessageType" default="NonQuery">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Identifies whether the message is query-related, and if so, what type of query message it is. Allowed values are: NonQuery, Query, Response and Publish. Default is NonQuery.
<p>
									</xs:documentation>
<p>
								</xs:annotation>
<p>
								<xs:simpleType>
<p>
									<xs:restriction base="xs:NMTOKEN">
<p>
										<xs:enumeration value="NonQuery"/>
<p>
										<xs:enumeration value="Query"/>
<p>
										<xs:enumeration value="Response"/>
<p>
										<xs:enumeration value="Publish"/>
<p>
									</xs:restriction>
<p>
								</xs:simpleType>
<p>
							</xs:attribute>
<p>
							<xs:attribute name="QueryMode" default="RealTime">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Identifies the type of query being performed. Allowed values are: Batch, RealTime or Both.</xs:documentation>
<p>
								</xs:annotation>
<p>
								<xs:simpleType>
<p>
									<xs:restriction base="xs:NMTOKEN">
<p>
										<xs:enumeration value="Batch"/>
<p>
										<xs:enumeration value="RealTime"/>
<p>
										<xs:enumeration value="Both"/>
<p>
									</xs:restriction>
<p>
								</xs:simpleType>
<p>
							</xs:attribute>
<p>
						</xs:complexType>
<p>
					</xs:element>
<p>
					<xs:choice maxOccurs="unbounded">
<p>
						<xs:element ref="HL7v2xStaticDef"/>
<p>
						<xs:element name="HL7v2xStaticDefRef">
<p>
							<xs:annotation>
<p>
								<xs:documentation>Provides an identifier reference to the static definition for one of the messages used by the profile.</xs:documentation>
<p>
							</xs:annotation>
<p>
							<xs:complexType>
<p>
								<xs:attribute name="Identifier" type="IdentifierType" use="required">
<p>
									<xs:annotation>
<p>
										<xs:documentation>The identifier for the static definition being referenced.</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:attribute>
<p>
							</xs:complexType>
<p>
						</xs:element>
<p>
					</xs:choice>
<p>
				</xs:sequence>
<p>
				<xs:choice>
<p>
					<xs:element name="HL7v2xTables">
<p>
						<xs:complexType>
<p>
							<xs:sequence>
<p>
								<xs:element name="Metadata" type="MetaDataType" minOccurs="0"/>
<p>
								<xs:element ref="HL7v2xTable" minOccurs="0" maxOccurs="unbounded"/>
<p>
							</xs:sequence>
<p>
						</xs:complexType>
<p>
					</xs:element>
<p>
					<xs:element name="HL7v2xTablesRef">
<p>
						<xs:complexType>
<p>
							<xs:attribute name="Identifier" type="NonEmptyStringType"/>
<p>
						</xs:complexType>
<p>
					</xs:element>
<p>
				</xs:choice>
<p>
			</xs:sequence>
<p>
			<xs:attribute name="HL7Version" default="2.6">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Identifies the HL7 2.x version on which the profile is based and with which it is expected to comply.</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:simpleType>
<p>
					<xs:union memberTypes="xs:NMTOKEN">
<p>
						<xs:simpleType>
<p>
							<xs:restriction base="xs:NMTOKEN">
<p>
								<xs:enumeration value="2.0"/>
<p>
								<xs:enumeration value="2.0D"/>
<p>
								<xs:enumeration value="2.1"/>
<p>
								<xs:enumeration value="2.2"/>
<p>
								<xs:enumeration value="2.3"/>
<p>
								<xs:enumeration value="2.3.1"/>
<p>
								<xs:enumeration value="2.4"/>
<p>
								<xs:enumeration value="2.5"/>
<p>
								<xs:enumeration value="2.6"/>
<p>
							</xs:restriction>
<p>
						</xs:simpleType>
<p>
					</xs:union>
<p>
				</xs:simpleType>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="ProfileType" use="required">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Categorizes the profile into one of 3 types: HL7 - represents a specific HL7 published standard (may only be submitted by the HL7 Organization); Constrainable - May contain "Optional" elements which must be further constrained in order to create implementation profiles; Implementation - Fully constrained with no optionality (reflects the behavior of a runtime system)</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:simpleType>
<p>
					<xs:restriction base="xs:NMTOKEN">
<br>
<p>
						<xs:enumeration value="Implementation"/>
<p>
						<xs:enumeration value="Constrainable"/>
<p>
					</xs:restriction>
<p>
				</xs:simpleType>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="Identiifer" type="IdentifierType">
<p>
				<xs:annotation>
<p>
					<xs:documentation>A unique identifier for this specific version of this dynamic profile. If not specified, one will be assigned to the profile upon submission to a registry.</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:attribute>
<p>
		</xs:complexType>
<p>
	</xs:element>
<p>
	<xs:element name="HL7v2xStaticDef">
<p>
		<xs:annotation>
<p>
			<xs:documentation>This represents a detailed profile of a single message. It provides a detailed breakdown of exactly what the message may contain, including optionality and cardinality.</xs:documentation>
<p>
		</xs:annotation>
<p>
		<xs:complexType>
<p>
			<xs:sequence>
<p>
				<xs:element name="MetaData" type="MetaDataType" minOccurs="0">
<p>
					<xs:annotation>
<p>
						<xs:documentation>Provides descriptive information about the life-cycle of the HL7 v2x Static Definition, as well as authorship and control information.</xs:documentation>
<p>
					</xs:annotation>
<p>
				</xs:element>
<p>
				<xs:group ref="MessageGroup"/>
<p>
				<xs:element name="Segment" type="SegmentType">
<p>
					<xs:annotation>
<p>
						<xs:documentation>Documents the characteristics of a single HL7 segment within the context of a particular message or segment group.</xs:documentation>
<p>
					</xs:annotation>
<p>
				</xs:element>
<p>
				<xs:group ref="SegGroupOrSegmentGrouping" maxOccurs="unbounded"/>
<p>
			</xs:sequence>
<p>
			<xs:attribute name="MsgType" type="MsgTypeType" use="required">
<p>
				<xs:annotation>
<p>
					<xs:documentation>The HL7 message type code, as identified in MSH-9.1 (see HL7 Table 0076 - Message type).</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="EventType" type="EventTypeType" use="required">
<p>
				<xs:annotation>
<p>
					<xs:documentation>The HL7 event type code, as identified in MSH-9.2 (see HL7 Table 0003 - Event type)</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="MsgStructID" type="MsgStructIDType">
<p>
				<xs:annotation>
<p>
					<xs:documentation>The HL7 message structure code, as identified in MSH-9.3 (see HL7 Table 0354 - Message Structure Type). </xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="OrderControl" type="OrderControlType">
<p>
				<xs:annotation>
<p>
					<xs:documentation>The HL7 Order control code, as identified in ORC 1 (see HL7 Table 0119 - Order Control Codes).</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="EventDesc" type="NonEmptyStringType" use="required">
<p>
				<xs:annotation>
<p>
					<xs:documentation>A description of the event carried by this message.</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="Identifier" type="IdentifierType" use="optional">
<p>
				<xs:annotation>
<p>
					<xs:documentation>A unique identifier for this specific version of this static definition. If not specified, one will be assigned to the profile upon submission to a registry.</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:attribute>
<p>
			<xs:attribute name="Role" default="Sender">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Identifies whether the profile is constructed from the perspective of the message generator (Sender) or parser (Receiver). Default is 'Sender'.</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:simpleType>
<p>
					<xs:restriction base="xs:NMTOKEN">
<p>
						<xs:enumeration value="Sender"/>
<p>
						<xs:enumeration value="Receiver"/>
<p>
					</xs:restriction>
<p>
				</xs:simpleType>
<p>
			</xs:attribute>
<p>
		</xs:complexType>
<p>
	</xs:element>
<p>
	<xs:complexType name="UseCaseElementType">
<p>
		<xs:simpleContent>
<p>
			<xs:extension base="NonEmptyStringType">
<p>
				<xs:attribute name="Name" type="NonEmptyStringType" use="required">
<p>
					<xs:annotation>
<p>
						<xs:documentation>The unique name or number associated with a particular use-case element.</xs:documentation>
<p>
					</xs:annotation>
<p>
				</xs:attribute>
<p>
			</xs:extension>
<p>
		</xs:simpleContent>
<p>
	</xs:complexType>
<p>
	<xs:complexType name="MetaDataType">
<p>
		<xs:attribute name="Name" type="NonEmptyStringType" use="required">
<p>
			<xs:annotation>
<p>
				<xs:documentation>Provides a name that clearly and concisely defines the message exchange being profiled.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="OrgName" type="NonEmptyStringType" use="required">
<p>
			<xs:annotation>
<p>
				<xs:documentation>Name of the organization that submitted the profile.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="Version" type="NonEmptyStringType" use="optional">
<p>
			<xs:annotation>
<p>
				<xs:documentation>The version identifier assigned to this profile by the author. There is no prescribed version numbering scheme.  However 'higher' versions should generally be interpreted to be more resent.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="Status" type="NonEmptyStringType" use="optional">
<p>
			<xs:annotation>
<p>
				<xs:documentation>Status of this profile, as assigned by the author. There is no prescribed status scheme at this time. Possible values might include: 'Draft', 'Active', 'Superceded', 'Withdrawn'</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="Topics" type="NonEmptyStringType" use="optional">
<p>
			<xs:annotation>
<p>
				<xs:documentation>This provides a list of key-words that relate to the profile and that may be useful in profile searches.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="MetaVersion" default="2.6">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Identifies the Message Profile version on which the profile is based and with which it is expected to comply.
<p>
					</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:simpleType>
<p>
					<xs:union memberTypes="xs:NMTOKEN">
<p>
						<xs:simpleType>
<p>
							<xs:restriction base="xs:NMTOKEN">
<p>
								<xs:enumeration value="2.5"/>
<p>
								<xs:enumeration value="2.6"/>
<p>
							</xs:restriction>
<p>
						</xs:simpleType>
<p>
					</xs:union>
<p>
				</xs:simpleType>
<p>
			</xs:attribute>
<p>
		<xs:attribute name="Context" type="NonEmptyStringType" use="optional">
<p>
			<xs:annotation>
<p>
				<xs:documentation>As defined, in the HL7 Policies and Procedures Manual, Affiliates will have decision-making authority.  HL7 Affiliates control Realms.  Realms do not have decision-making authority.  Realms simply represent a partition of the solution space.  Affiliates choose how the solution space is to be partitioned by authorizing the creation of zero to many (0..*) Realms.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
	</xs:complexType>
<p>
	<xs:group name="SegGroupOrSegmentGrouping">
<p>
		<xs:choice>
<p>
			<xs:element name="SegGroup">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Documents the characteristics of a grouping of HL7 segments within the context of a particular message or segment group.</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:complexType>
<p>
					<xs:sequence>
<p>
						<xs:group ref="MessageElementsGroup"/>
<p>
						<xs:group ref="SegGroupOrSegmentGrouping" maxOccurs="unbounded"/>
<p>
					</xs:sequence>
<p>
					<xs:attribute name="Name" use="required">
<p>
						<xs:annotation>
<p>
							<xs:documentation>This is the short, formal name for the group. It appears in the tag name when using the XML Encoding syntax.</xs:documentation>
<p>
						</xs:annotation>
<p>
						<xs:simpleType>
<p>
							<xs:restriction base="xs:NMTOKEN">
<p>
								<xs:pattern value="([A-Z]|_)+"/>
<p>
							</xs:restriction>
<p>
						</xs:simpleType>
<p>
					</xs:attribute>
<p>
					<xs:attribute ref="LongName" use="required"/>
<p>
					<xs:attribute ref="Usage" use="required"/>
<p>
					<xs:attributeGroup ref="RepeatableElementAttributes"/>
<p>
				</xs:complexType>
<p>
			</xs:element>
<p>
			<xs:element name="Segment" type="SegmentType">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Documents the characteristics of a single HL7 segment within the context of a particular message or segment group.</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:element>
<p>
		</xs:choice>
<p>
	</xs:group>
<p>
	<xs:complexType name="SegmentType">
<p>
		<xs:sequence>
<p>
			<xs:group ref="MessageElementsGroup"/>
<p>
			<xs:element name="Field" maxOccurs="unbounded">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Documents the characteristics of a single HL7 field within the context of a particular message segment.</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:complexType>
<p>
					<xs:sequence>
<p>
						<xs:group ref="LeafMessageElementsGroup"/>
<p>
						<xs:element name="Component" minOccurs="0" maxOccurs="unbounded">
<p>
							<xs:annotation>
<p>
								<xs:documentation>Documents the characteristics of a single component within the context of a field.</xs:documentation>
<p>
							</xs:annotation>
<p>
							<xs:complexType>
<p>
								<xs:sequence>
<p>
									<xs:group ref="LeafMessageElementsGroup"/>
<p>
									<xs:element name="SubComponent" minOccurs="0" maxOccurs="unbounded">
<p>
										<xs:annotation>
<p>
											<xs:documentation>Documents the characteristics of a single sub-component within the context of a component.</xs:documentation>
<p>
										</xs:annotation>
<p>
										<xs:complexType>
<p>
											<xs:group ref="LeafMessageElementsGroup"/>
<p>
											<xs:attributeGroup ref="LeafElementAttributes"/>
<p>
										</xs:complexType>
<p>
									</xs:element>
<p>
								</xs:sequence>
<p>
								<xs:attributeGroup ref="LeafElementAttributes"/>
<p>
							</xs:complexType>
<p>
						</xs:element>
<p>
					</xs:sequence>
<p>
					<xs:attributeGroup ref="RepeatableElementAttributes"/>
<p>
					<xs:attributeGroup ref="LeafElementAttributes"/>
<p>
					<xs:attribute name="ItemNo">
<p>
						<xs:annotation>
<p>
							<xs:documentation>The HL7-assigned item number corresponding with the semantic meaning of the field.</xs:documentation>
<p>
						</xs:annotation>
<p>
						<xs:simpleType>
<p>
							<xs:restriction base="xs:NMTOKEN">
<p>
								<xs:pattern value="\d{5}"/>
<p>
							</xs:restriction>
<p>
						</xs:simpleType>
<p>
					</xs:attribute>
<p>
				</xs:complexType>
<p>
			</xs:element>
<p>
		</xs:sequence>
<p>
		<xs:attribute name="Name" type="SegmentNameType" use="required">
<p>
			<xs:annotation>
<p>
				<xs:documentation>This is the short, formal name for the segment. It is used to identify the segment in both ER7 and XML encodings.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute ref="LongName"/>
<p>
		<xs:attribute ref="Usage" use="required"/>
<p>
		<xs:attributeGroup ref="RepeatableElementAttributes"/>
<p>
	</xs:complexType>
<p>
	<xs:complexType name="AnnotationType">
<p>
		<xs:simpleContent>
<p>
			<xs:extension base="NonEmptyStringType">
<p>
				<xs:attributeGroup ref="AnnotationAttributes"/>
<p>
			</xs:extension>
<p>
		</xs:simpleContent>
<p>
	</xs:complexType>
<p>
	<xs:complexType name="TextOrExpressionType">
<p>
		<xs:sequence>
<p>
		    <xs:element name="Text" type="TextType"/>
<p>
		    <xs:element name="FormalExpression" type="FormalExpressionType"/>
<p>
		</xs:sequence>
<p>
	</xs:complexType>
<p>
	<xs:complexType name="FormalExpressionType">
<p>
		<xs:simpleContent>
<p>
			<xs:extension base="NonEmptyStringType">
<p>
				<xs:attributeGroup ref="FormalExpressionAttributes"/>
<p>
			</xs:extension>
<p>
		</xs:simpleContent>
<p>
	</xs:complexType>
<p>
	<xs:complexType name="TableElementType">
<p>
		<xs:sequence>
<p>
			<xs:element name="Annotation" type="AnnotationType" minOccurs="0" maxOccurs="unbounded"/>
<p>
		</xs:sequence>
<p>
		<xs:attribute name="Code" type="NonEmptyStringType" use="required"/>
<p>
		<xs:attribute name="DisplayName" type="NonEmptyStringType" use="required"/>
<p>
		<xs:attribute name="Source" default="User">
<p>
			<xs:simpleType>
<p>
				<xs:union memberTypes="xs:NMTOKEN">
<p>
					<xs:simpleType>
<p>
						<xs:restriction base="xs:NMTOKEN">
<p>
							<xs:enumeration value="HL7"/>
<p>
							<xs:enumeration value="User"/>
<p>
							<xs:enumeration value="Redefined"/>
<p>
							<xs:enumeration value="Context"/>
<p>
						</xs:restriction>
<p>
					</xs:simpleType>
<p>
				</xs:union>
<p>
			</xs:simpleType>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="ElementUsage" default="O">
<p>
			<xs:simpleType>
<p>
				<xs:union memberTypes="xs:NMTOKEN">
<p>
					<xs:simpleType>
<p>
						<xs:restriction base="xs:NMTOKEN">
<p>
							<xs:enumeration value="R"/>
<p>
							<xs:enumeration value="O"/>
<p>
							<xs:enumeration value="X"/>
<p>
						</xs:restriction>
<p>
					</xs:simpleType>
<p>
				</xs:union>
<p>
			</xs:simpleType>
<p>
		</xs:attribute>
<p>
	</xs:complexType>
<p>
	<xs:attributeGroup name="LeafElementAttributes">
<p>
		<xs:attribute name="Name" type="NonEmptyStringType" use="required">
<p>
			<xs:annotation>
<p>
				<xs:documentation>The descriptive name for the field/component/sub-component</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute ref="Usage" use="required"/>
<p>
		<xs:attribute name="Datatype" type="DatatypeType" use="required">
<p>
			<xs:annotation>
<p>
				<xs:documentation>Identifies the HL7 datatype associated with the element.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="Length" type="xs:positiveInteger">
<p>
			<xs:annotation>
<p>
				<xs:documentation>Identifies the maximum allowed length for the content of the element.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="Table" type="TableType">
<p>
			<xs:annotation>
<p>
				<xs:documentation>Identifies the name of the table associated with the content of this element.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="ConstantValue" type="NonEmptyStringType">
<p>
			<xs:annotation>
<p>
				<xs:documentation>Identifies the fixed value associated with this element</xs:documentation>
<p>
			</xs:annotation>
<p>
			<!-- Can only have constant values for leaf elements -->
<p>
		</xs:attribute>
<p>
	</xs:attributeGroup>
<p>
	<xs:attributeGroup name="RepeatableElementAttributes">
<p>
		<xs:attribute name="Min" type="xs:nonNegativeInteger" use="required">
<p>
			<xs:annotation>
<p>
				<xs:documentation>This identifies the minimum number of repetitions of the element that are permitted in a message instance. This attribute should only be specified if the minimum number of repetitions is greater than 1, as the minimum for other elements is always '0'.</xs:documentation>
<p>
			</xs:annotation>
<p>
		</xs:attribute>
<p>
		<xs:attribute name="Max" use="required">
<p>
			<xs:annotation>
<p>
				<xs:documentation>This identifies the maximum number of repetitions of the element that are permitted in a message instance. This attribute should only be specified if the maximum number of repetitions is greater than 1 and differs from the minimum attribute (i.e. the maximum number of repetitions is greater than the minimum number of repetitions). The special value '*' may be used to represent 'unlimited' repetitions.</xs:documentation>
<p>
			</xs:annotation>
<p>
			<xs:simpleType>
<p>
				<xs:union>
<p>
					<xs:simpleType>
<p>
						<xs:restriction base="xs:positiveInteger">
<p>
							<xs:minInclusive value="1"/>
<p>
						</xs:restriction>
<p>
					</xs:simpleType>
<p>
					<xs:simpleType>
<p>
						<xs:restriction base="xs:string">
<p>
							<xs:enumeration value="*"/>
<p>
						</xs:restriction>
<p>
					</xs:simpleType>
<p>
				</xs:union>
<p>
			</xs:simpleType>
<p>
		</xs:attribute>
<p>
	</xs:attributeGroup>
<p>
	<xs:simpleType name="MatchPatternType">
<p>
		<xs:restriction base="NonEmptyStringType"/>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="ElementRelationshipType">
<p>
		<xs:restriction base="NonEmptyStringType"/>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="TextType">
<p>
		<xs:restriction base="NonEmptyStringType"/>
<p>
	</xs:simpleType>
<p>
	<xs:attributeGroup name="TextAttributes">
<p>
	     <xs:attribute name="Language">
<p>
	     	<xs:annotation>
<p>
	     		<xs:documentation>
<p>
	     		</xs:documentation>
<p>
	     	</xs:annotation>
<p>
	     	<xs:simpleType name="">
<p>
				<xs:restriction base="NonEmptyStringType"/>
<p>
			</xs:simpleType>
<p>
	     </xs:attribute>
<p>
	     <xs:attribute name="LastTranslated ">
<p>
	     	<xs:annotation>
<p>
	     		<xs:documentation>
<p>
	     		</xs:documentation>
<p>
	     	</xs:annotation>
<p>
	     	<xs:simpleType name="">
<p>
				<xs:restriction base="NonEmptyStringType"/>
<p>
			</xs:simpleType>
<p>
	     </xs:attribute>
<p>
	</xs:attributeGroup>	<xs:attributeGroup name="FormalExpressionAttributes">
<p>
	     <xs:attribute name="Type" use="required">
<p>
	     	<xs:annotation>
<p>
	     		<xs:documentation>
<p>
	     		</xs:documentation>
<p>
	     	</xs:annotation>
<p>
			<xs:simpleType>
<p>
					<xs:union memberTypes="xs:NMTOKEN">
<p>
						<xs:simpleType>
<p>
							<xs:restriction base="xs:NMTOKEN">
<p>
								<xs:enumeration value="Text"/>
<p>
								<xs:enumeration value="OCL"/>
<p>
								<xs:enumeration value="RegEx"/>
<p>
								<xs:enumeration value="XPath"/>
<p>
							</xs:restriction>
<p>
						</xs:simpleType>
<p>
					</xs:union>
<p>
			</xs:simpleType>
<p>
	     </xs:attribute>
<p>
	</xs:attributeGroup>
<p>
	<xs:attributeGroup name="AnnotationAttributes">
<p>
	     <xs:attribute name="Type" use="required">
<p>
	     	<xs:annotation>
<p>
	     		<xs:documentation>
<p>
	     		</xs:documentation>
<p>
	     	</xs:annotation>
<p>
			<xs:simpleType>
<p>
					<xs:union memberTypes="xs:NMTOKEN">
<p>
						<xs:simpleType>
<p>
							<xs:restriction base="xs:NMTOKEN">
<p>
								<xs:enumeration value="ImpNote">
<p>
								<xs:annotation>
<p>
									<xs:documentation>Implementation Notes provide a general description about how the element is intended to be used, as well as hints on using or interpreting the it.
<p>
									</xs:documentation>
<p>
								</xs:annotation>
<p>
								</xs:enumeration>
<p>
								<xs:enumeration value="Description">
<p>
									<xs:annotation>
<p>
										<xs:documentation> An explanation of the associated element.
<p>
										</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:enumeration>
<p>
								<xs:enumeration value="Definition">
<p>
									<xs:annotation>
<p>
										<xs:documentation> An explanation of the meaning of the element.
<p>
										</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:enumeration>
<p>
								<xs:enumeration value="DesignComment">
<p>
									<xs:annotation>
<p>
										<xs:documentation> Internal development notes about why particular design decisions were made, outstanding issues and remaining work.  They may contain formatting markup.  Not intended for external publication.
<p>
										</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:enumeration>
<p>
								<xs:enumeration value="Other">
<p>
									<xs:annotation>
<p>
										<xs:documentation> Additional content related to the element.
<p>
										</xs:documentation>
<p>
									</xs:annotation>
<p>
								</xs:enumeration>
<p>
							</xs:restriction>
<p>
						</xs:simpleType>
<p>
					</xs:union>
<p>
			</xs:simpleType>
<p>
	     </xs:attribute>
<p>
	     <xs:attribute name="OtherIdentifier" type="NonEmptyStringType">
<p>
	     	<xs:annotation>
<p>
	     		<xs:documentation>
<p>
	     		</xs:documentation>
<p>
	     	</xs:annotation>
<p>
	     </xs:attribute>
<p>
	</xs:attributeGroup>
<p>
	<xs:group name="MessageGroup">
<p>
		<xs:sequence>
<p>
			<xs:group ref="Annotation" minOccurs="0" maxOccurs="unbounded"/>
<p>
			<xs:element name="Description" type="NonEmptyStringType" minOccurs="0">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Provides an explanation or definition of what the element represents.</xs:documentation>
<p>
				</xs:annotation>
<p>
			</xs:element>
<p>
			<xs:element name="Reference" minOccurs="0">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Identifies external sources or other locations within the profile where additional information can be found about this item.</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:simpleType>
<p>
					<xs:restriction base="NonEmptyStringType"/>
<p>
				</xs:simpleType>
<p>
			</xs:element>
<p>
		</xs:sequence>
<p>
	</xs:group>
<p>
	<xs:group name="MessageElementsGroup">
<p>
		<xs:sequence>
<p>
			<xs:group ref="MessageGroup"/>
<p>
			<xs:element name="Predicate" minOccurs="0">
<p>
				<xs:annotation>
<p>
					<xs:documentation>Identifies the conditionality rule for this element, if applicable</xs:documentation>
<p>
				</xs:annotation>
<p>
				<xs:simpleType>
<p>
					<xs:restriction base="NonEmptyStringType"/>
<p>
				</xs:simpleType>
<p>
			</xs:element>
<p>
		</xs:sequence>
<p>
	</xs:group>
<p>
	<xs:group name="LeafMessageElementsGroup">
<p>
		<xs:sequence>
<p>
			<xs:group ref="MessageElementsGroup"/>
<p>
			<xs:element name="DataValues" minOccurs="0" maxOccurs="unbounded">
<p>
				<xs:complexType>
<p>
					<xs:attribute name="ExValue" type="NonEmptyStringType">
<p>
						<xs:annotation>
<p>
							<xs:documentation>Identifies an individual example value.</xs:documentation>
<p>
						</xs:annotation>
<p>
					</xs:attribute>
<p>
				</xs:complexType>
<p>
			</xs:element>
<p>
		</xs:sequence>
<p>
	</xs:group>
<p>
	<xs:attribute name="Usage">
<p>
		<xs:annotation>
<p>
			<xs:documentation>Usage identifies the circumstances under which an element appears in a message. Possible values are:
<p>
				R - Required (must always be present);
<p>
				RE - Required or Empty (must be present if available);
<p>
				O - Optional (no guidance on when the element should appear);
<p>
				C - Conditional (the element is required or allowed to be present when the condition specified in the Predicate element is true);
<p>
				CE - Conditional or Empty (the element is required or allowed to be present when the condition specified in the Predicate element is true and the information is available)
<p>
				X - Not supported (the element will not be sent)
<p>
			</xs:documentation>
<p>
		</xs:annotation>
<p>
		<xs:simpleType>
<p>
			<xs:restriction base="xs:NMTOKEN">
<p>
				<xs:enumeration value="R"/>
<p>
				<xs:enumeration value="RE"/>
<p>
				<xs:enumeration value="O"/>
<p>
				<xs:enumeration value="C"/>
<p>
				<xs:enumeration value="CE"/>
<p>
				<xs:enumeration value="X"/>
<p>
			</xs:restriction>
<p>
		</xs:simpleType>
<p>
	</xs:attribute>
<p>
	<xs:attribute name="LongName" type="NonEmptyStringType">
<p>
		<xs:annotation>
<p>
			<xs:documentation>This is the descriptive name for the element. It does not appear in any encodings.</xs:documentation>
<p>
		</xs:annotation>
<p>
	</xs:attribute>
<p>
	<xs:simpleType name="NonEmptyStringType">
<p>
		<xs:restriction base="xs:string">
<p>
			<xs:minLength value="1"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="AcknowledgementType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:enumeration value="AL"/>
<p>
			<xs:enumeration value="NE"/>
<p>
			<xs:enumeration value="SU"/>
<p>
			<xs:enumeration value="ER"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="IdentifierType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:pattern value="(0|[1-9][0-9]*)(\.(0|[1-9][0-9]*))*"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="MsgTypeType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:pattern value="[A-Z0-9]{3}"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="EventTypeType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:pattern value="[A-Z0-9]{3}"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="MsgStructIDType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:pattern value="[A-Z0-9]{3}(_[A-Z0-9]{3})?"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="OrderControlType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:pattern value="[A-Z]{2}"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="DatatypeType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:minLength value="1"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="SegmentNameType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:pattern value="[A-Z][A-Z0-9]{2}"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
	<xs:simpleType name="TableType">
<p>
		<xs:restriction base="xs:NMTOKEN">
<p>
			<xs:minLength value="1"/>
<p>
		</xs:restriction>
<p>
	</xs:simpleType>
<p>
</xs:schema>
<br>
</TD>
</TR>
</TABLE><p>
<a id="Heading63">
<H4 class="css_Überschrift4" >
2.B.12.2 Message profile DTD  
</H4>
<TABLE width="100%" border=1>
<TR>
<TD>
<?xml version="1.0" encoding="UTF-8"?>
<p>
<!-- edited with XML Spy v4.4 U (http://www.xmlspy.com) by Jennifer Puyenbroek (HL7 Control Query TC) -->
<p>
<!ENTITY % Usage "R | RE | O | C | CE | X">
<p>
<!ENTITY % HL7Version "2.0 | 2.0D | 2.1 | 2.2 | 2.3 | 2.3.1 | 2.4 | 2.5 | 2.6">
<p>
<!ENTITY % MetaVersion "2.5 | 2.6">
<p>
<!ENTITY % AcknowledgementType "AL | NE | SU | ER">
<p>
<!ENTITY % FormalExpressionType "Text | OCL | RegEx | XPath">
<p>
<!ENTITY % AnnotationType " ImpNote | Description | Definition | DesignComment | Other ">
<p>
<!ELEMENT HL7v2xConformanceProfile (MetaData, Annotation*, UseCase, Encodings, (DynamicDef, (HL7v2xStaticDef | HL7v2xStaticDefRef), (HL7v2xTables | HL7v2xTablesRef))+)>
<p>
<!ATTLIST HL7v2xConformanceProfile
<p>
	HL7Version (%HL7Version;) "2.6"
<p>
	ProfileType (Implementation | Constrainable) #REQUIRED
<p>
	Identiifer CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT MetaData EMPTY>
<p>
<!ATTLIST MetaData
<p>
	Name CDATA #REQUIRED
<p>
	OrgName CDATA #REQUIRED
<p>
	Version CDATA #IMPLIED
<p>
	Status CDATA #IMPLIED
<p>
	Topics CDATA #IMPLIED
<p>
	MetaVersion (%MetaVersion;) "2.6"
<p>
	Context CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT UseCase (Purpose?, Description?, (Actor | PreCondition | PostCondition | EventFlow | DerivedEvent)*)>
<p>
<!ELEMENT Purpose (#PCDATA)>
<p>
<!ELEMENT Actor (#PCDATA)>
<p>
<!ATTLIST Actor
<p>
	Name CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT PreCondition (#PCDATA)>
<p>
<!ATTLIST PreCondition
<p>
	Name CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT PostCondition (#PCDATA)>
<p>
<!ATTLIST PostCondition
<p>
	Name CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT EventFlow (#PCDATA)>
<p>
<!ATTLIST EventFlow
<p>
	Name CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT DerivedEvent (#PCDATA)>
<p>
<!ATTLIST DerivedEvent
<p>
	Name CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT DynamicDef EMPTY>
<p>
<!ATTLIST DynamicDef
<p>
	AccAck (%AcknowledgementType;) "NE"
<p>
	AppAck (%AcknowledgementType;) "AL"
<p>
	MsgAckMode (Immediate | Deferred) "Deferred"
<p>
	QueryMessageType (NonQuery | Query | Response | Publish) "NonQuery"
<p>
	QueryMode (Batch | RealTime | Both) "RealTime"
<p>
>
<p>
<!ELEMENT Encoding (#PCDATA)>
<p>
<!ELEMENT Encodings (Encoding+)>
<p>
<!ELEMENT HL7v2xStaticDefRef EMPTY>
<p>
<!ATTLIST HL7v2xStaticDefRef
<p>
	Identifier CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT HL7v2xStaticDef (MetaData?, Annotation*, Reference?, Segment, (SegGroup | Segment)+)>
<p>
<!ATTLIST HL7v2xStaticDef
<p>
	MsgType CDATA #REQUIRED
<p>
	EventType CDATA #REQUIRED
<p>
	MsgStructID CDATA #REQUIRED
<p>
	OrderControl CDATA #IMPLIED
<p>
	EventDesc CDATA #REQUIRED
<p>
	Identifier CDATA #IMPLIED
<p>
	Role (Sender | Receiver) "Sender"
<p>
>
<p>
<!ELEMENT SegGroup (Annotation*, Reference?, Predicate?, (SegGroup | Segment)+)>
<p>
<!ATTLIST SegGroup
<p>
	Name CDATA #REQUIRED
<p>
	LongName CDATA #REQUIRED
<p>
	Usage (%Usage;) #REQUIRED
<p>
	Min CDATA #REQUIRED
<p>
	Max CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT Segment (Annotation*, Reference?, Predicate?, Field+)>
<p>
<!ATTLIST Segment
<p>
	Name CDATA #REQUIRED
<p>
	LongName CDATA #IMPLIED
<p>
	Usage (%Usage;) #REQUIRED
<p>
	Min CDATA #REQUIRED
<p>
	Max CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT Field (Annotation*, Reference?, Predicate?, MatchPattern?, ElementRelationship*, DataValues*, Component*)>
<p>
<!ATTLIST Field
<p>
	Name CDATA #REQUIRED
<p>
	Usage (%Usage;) #REQUIRED
<p>
	Min CDATA #REQUIRED
<p>
	Max CDATA #REQUIRED
<p>
	Datatype CDATA #REQUIRED
<p>
	Length CDATA #IMPLIED
<p>
	Table CDATA #IMPLIED
<p>
	ConstantValue CDATA #IMPLIED
<p>
	ItemNo CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT Component (Annotation*, Reference?, Predicate?, MatchPattern?, ElementRelationship*, DataValues*, SubComponent*)>
<p>
<!ATTLIST Component
<p>
	Name CDATA #REQUIRED
<p>
	Usage (%Usage;) #REQUIRED
<p>
	Datatype CDATA #REQUIRED
<p>
	Length CDATA #IMPLIED
<p>
	Table CDATA #IMPLIED
<p>
	ConstantValue CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT SubComponent (Annotations*, Reference?, Predicate?, MatchPattern?, ElementRelationship*, DataValues*)>
<p>
<!ATTLIST SubComponent
<p>
	Name CDATA #REQUIRED
<p>
	Usage (%Usage;) #REQUIRED
<p>
	Datatype CDATA #REQUIRED
<p>
	Length CDATA #IMPLIED
<p>
	Table CDATA #IMPLIED
<p>
	ConstantValue CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT Annotation (#PCDATA)>
<p>
<!ATTLIST Annotation
<p>
	Type (%AnnotationType;) #REQUIRED
<p>
	OtherIdentifier CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT Description (#PCDATA)>
<p>
<!ELEMENT Predicate (Text+, FormalExpression*)>
<p>
<!ELEMENT MatchPattern (Text+, FormalExpression*)>
<p>
<!ELEMENT ElementRelationship (Text+, FormalExpression*)>
<p>
<!ELEMENT Reference (#PCDATA)>
<p>
<!ELEMENT Text (#PCDATA)>
<p>
<!ATTLIST Text
<p>
	Language CDATA #IMPLIED
<p>
	LastTranslated CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT FormalExpression (#PCDATA)>
<p>
<!ATTLIST FormalExpression
<p>
	Type (%FormalExpressionType;) #REQUIRED
<p>
>
<p>
<!ELEMENT DataValues EMPTY>
<p>
<!ATTLIST DataValues
<p>
	ExValue CDATA #IMPLIED
<p>
>
<p>
<!ELEMENT HL7v2xTables (MetaData?, HL7v2xTable*)>
<p>
<!ELEMENT HL7v2xTablesRef EMPTY>
<p>
<!ATTLIST HL7v2xTablesRef
<p>
	Identifier CDATA #REQUIRED
<p>
>
<p>
<!ELEMENT HL7v2xTable (Annotation*, HL7v2xTableElement*)>
<p>
<!ATTLIST HL7v2xTable
<p>
	CodeSystem CDATA #REQUIRED
<p>
	CodeSystemName CDATA #REQUIRED
<p>
	CodeSystemIdentifier CDATA #IMPLIED
<p>
	CodeSystemVersion CDATA #IMPLIED
<p>
	Type (HL7 | User | Local | External | Realm) "HL7"
<p>
>
<p>
<!ELEMENT HL7v2xTableElement (Annotation*)>
<p>
<!ATTLIST HL7v2xTableElement
<p>
	Code CDATA #REQUIRED
<p>
	DisplayName CDATA #REQUIRED
<p>
	Source (HL7 | User | Redefined | Realm) "User"
<p>
	Usage (R | O | X) "O"
<p>
>
<br>
</TD>
</TR>
</TABLE><p>
<a id="Heading64">
<H3 class="css_Überschrift3" >
2.B.13 Outstanding Issues
</H3>
<p>
The following items are being discussed in the Infrastructure and Messaging technical committee for addition to future versions of HL7:
</p>
<ol>
<li>
<p>
Rationalization and clarification of event structures.
</p>
</li>
<li>
<p>
Creation of a network server for HL7 tables so that updates to them can be made public immediately, rather than waiting until the publication of the next version of the Standard.
</p>
</li>
<li>
<p>
Consideration of security. There are in general two types: application level security, which is partially addressed by the security field in the MSH segment. The second type, network security, needs to be addressed in the HL7 Implementation Guide. There are several commercially available encryption-based approaches to network level security.
</p>
</li>
<li>
<p>
Reviewing network application management messages for possible upgrade requirements.
</p>
</li>
<li>
<p>
Conformance Based Queries use of the Message Profiles. Current status of this can be found on the Implementation/Conformance TC web page on the HL7 web site.  (http://www.hl7.org).
</p>
</li>
</ol>
</BODY>
</HTML>
