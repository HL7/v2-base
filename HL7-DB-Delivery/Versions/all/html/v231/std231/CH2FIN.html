<HTML><HEAD>
<!-- This document was created from RTF source by rtftohtml version 3.8 -->
<TITLE>Control/Query</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<H1>
Control/Query</H1>
<UL>
<LI><A HREF="#Heading1">2. </A>
<UL>
<LI><A HREF="#Heading2">2.1 INTRODUCTION</A>
<LI><A HREF="#Heading3">2.2 CONCEPTUAL APPROACH</A>
<UL>
<LI><A HREF="#Heading4">2.2.1 Trigger events</A>
<LI><A HREF="#Heading5">2.2.2 Acknowledgments:  original mode</A>
<LI><A HREF="#Heading6">2.2.3 Acknowledgments: enhanced mode</A>
<LI><A HREF="#Heading7">2.2.4 Queries</A>
</UL>
<LI><A HREF="#Heading8">2.3 COMMUNICATIONS ENVIRONMENT</A>
<LI><A HREF="#Heading9">2.4 HL7 MESSAGES </A>
<LI><A HREF="#Heading10">2.5 SEGMENTS</A>
<LI><A HREF="#Heading11">2.6 FIELDS</A>
<UL>
<LI><A HREF="#Heading12">2.6.1 Position (sequence within the segment)</A>
<LI><A HREF="#Heading13">2.6.2 Maximum length</A>
<LI><A HREF="#Heading14">2.6.3 Data type</A>
<LI><A HREF="#Heading15">2.6.4 Optionality</A>
<LI><A HREF="#Heading16">2.6.5 Repetition</A>
<LI><A HREF="#Heading17">2.6.6 Table</A>
<LI><A HREF="#Heading18">2.6.7 ID number</A>
<LI><A HREF="#Heading19">2.6.8 Name </A>
</UL>
<LI><A HREF="#Heading20">2.7 MESSAGE DELIMITERS</A>
<LI><A HREF="#Heading21">2.8 DATA TYPES</A>
<UL>
<LI><A HREF="#Heading22">2.8.1 AD - address</A>
<UL>
<LI><A HREF="#Heading23">2.8.1.1 Street address (ST)</A>
<LI><A HREF="#Heading24">2.8.1.2 The street or mailing address of a person or institution.  </A>
<LI><A HREF="#Heading25">2.8.1.3 Other designation (ST)</A>
<LI><A HREF="#Heading26">2.8.1.4 City (ST)</A>
<LI><A HREF="#Heading27">2.8.1.5 State or province (ST)</A>
<LI><A HREF="#Heading28">2.8.1.6 Zip or postal code (ST)</A>
<LI><A HREF="#Heading29">2.8.1.7 Country (ID)</A>
<LI><A HREF="#Heading30">2.8.1.8 Address type (ID)</A>
<LI><A HREF="#Heading31">2.8.1.9 Other geographic designation (ST)</A>
</UL>
<LI><A HREF="#Heading32">2.8.2 CD - channel definition</A>
<LI><A HREF="#Heading33">2.8.3 CE - coded element  </A>
<UL>
<LI><A HREF="#Heading34">2.8.3.1 Identifier (ST)</A>
<LI><A HREF="#Heading35">2.8.3.2 Text (ST)</A>
<LI><A HREF="#Heading36">2.8.3.3 Name of coding system (ST)</A>
<LI><A HREF="#Heading37">2.8.3.4 Alternate components </A>
</UL>
<LI><A HREF="#Heading38">2.8.4 CF - coded element with formatted values</A>
<LI><A HREF="#Heading39">2.8.5 CK - composite ID with check digit</A>
<UL>
<LI><A HREF="#Heading40">2.8.5.1 ID number (NM)</A>
<LI><A HREF="#Heading41">2.8.5.2 Check digit (NM)</A>
<LI><A HREF="#Heading42">2.8.5.3 Code identifying the check digit scheme employed (ID)</A>
<LI><A HREF="#Heading43">2.8.5.4 Assigning authority (HD)</A>
</UL>
<LI><A HREF="#Heading44">2.8.6 CM - composite</A>
<LI><A HREF="#Heading45">2.8.7 CN - composite ID number and name</A>
<UL>
<LI><A HREF="#Heading46">2.8.7.1 ID number (ST)</A>
<LI><A HREF="#Heading47">2.8.7.2 Family name (ST)</A>
<LI><A HREF="#Heading48">2.8.7.3 Given name (ST)</A>
<LI><A HREF="#Heading49">2.8.7.4 Middle initial or name (ST)</A>
<LI><A HREF="#Heading50">2.8.7.5 Suffix (ST)</A>
<LI><A HREF="#Heading51">2.8.7.6 Prefix (ST)</A>
<LI><A HREF="#Heading52">2.8.7.7 Degree (ST)</A>
<LI><A HREF="#Heading53">2.8.7.8 Source table (IS)</A>
<LI><A HREF="#Heading54">2.8.7.9 Assigning authority (HD)</A>
</UL>
<LI><A HREF="#Heading55">2.8.8 CNE - coded with no exceptions</A>
<UL>
<LI><A HREF="#Heading56">2.8.8.1 Identifier (ST)</A>
<LI><A HREF="#Heading57">2.8.8.2 Text (ST)</A>
<LI><A HREF="#Heading58">2.8.8.3 Name of coding system (ST)</A>
<LI><A HREF="#Heading59">2.8.8.4 Alternate components (4, 5, 6) (for components 1, 2, 3)</A>
<LI><A HREF="#Heading60">2.8.8.5 Coding system version ID (ST)</A>
<LI><A HREF="#Heading61">2.8.8.6 Alternate coding system version ID (ST)</A>
<LI><A HREF="#Heading62">2.8.8.7 Original text</A>
</UL>
<LI><A HREF="#Heading63">2.8.9 CP - composite price</A>
<UL>
<LI><A HREF="#Heading64">2.8.9.1 Price (MO)</A>
<LI><A HREF="#Heading65">2.8.9.2 Price type (ID)</A>
<LI><A HREF="#Heading66">2.8.9.3 From value (NM)</A>
<LI><A HREF="#Heading67">2.8.9.4 To value (NM)</A>
<LI><A HREF="#Heading68">2.8.9.5 Range units (CE)</A>
<LI><A HREF="#Heading69">2.8.9.6 Range type (ID)</A>
</UL>
<LI><A HREF="#Heading70">2.8.10 CQ - composite quantity with units </A>
<UL>
<LI><A HREF="#Heading71">2.8.10.1 Quantity (NM)</A>
<LI><A HREF="#Heading72">2.8.10.2 Units (CE)</A>
</UL>
<LI><A HREF="#Heading73">2.8.11 CWE - coded with exceptions</A>
<UL>
<LI><A HREF="#Heading74">2.8.11.1 Identifier (ST)</A>
<LI><A HREF="#Heading75">2.8.11.2 Text (ST)</A>
<LI><A HREF="#Heading76">2.8.11.3 Name of coding system (ST)</A>
<LI><A HREF="#Heading77">2.8.11.4 Alternate components (4, 5, 6) (for components 1, 2, 3)</A>
<LI><A HREF="#Heading78">2.8.11.5 Coding system version ID (ST)</A>
<LI><A HREF="#Heading79">2.8.11.6 Alternate coding system version ID (ST)</A>
<LI><A HREF="#Heading80">2.8.11.7 Original text (ST)</A>
<LI><A HREF="#Heading81">2.8.11.8 Usage notes: </A>
</UL>
<LI><A HREF="#Heading82">2.8.12 CX - extended composite ID with check digit</A>
<UL>
<LI><A HREF="#Heading83">2.8.12.1 ID (ST)</A>
<LI><A HREF="#Heading84">2.8.12.2 Check digit (ST)</A>
<LI><A HREF="#Heading85">2.8.12.3 Code identifying the check digit scheme employed (ID)</A>
<LI><A HREF="#Heading86">2.8.12.4 Assigning authority (HD)</A>
<LI><A HREF="#Heading87">2.8.12.5 Identifier type code (IS)</A>
<LI><A HREF="#Heading88">2.8.12.6 Assigning facility (HD)</A>
</UL>
<LI><A HREF="#Heading89">2.8.13 DLN  - driver's license number</A>
<UL>
<LI><A HREF="#Heading90">2.8.13.1 Driver's license number (as ST data type)</A>
<LI><A HREF="#Heading91">2.8.13.2 Issuing state, province, country (IS)</A>
<LI><A HREF="#Heading92">2.8.13.3 Expiration date (DT)</A>
</UL>
<LI><A HREF="#Heading93">2.8.14 DR - date/time range</A>
<UL>
<LI><A HREF="#Heading94">2.8.14.1 Range start date/time (TS)</A>
<LI><A HREF="#Heading95">2.8.14.2 Range end date/time (TS)</A>
</UL>
<LI><A HREF="#Heading96">2.8.15 DT - date</A>
<LI><A HREF="#Heading97">2.8.16 ED - encapsulated data</A>
<UL>
<LI><A HREF="#Heading98">2.8.16.1 Source application (HD) </A>
<LI><A HREF="#Heading99">2.8.16.2 Type of data (ID)</A>
<LI><A HREF="#Heading100">2.8.16.3 Data Subtype</A>
<LI><A HREF="#Heading101">2.8.16.4 Encoding  (ID)</A>
<LI><A HREF="#Heading102">2.8.16.5 Data (ST)</A>
</UL>
<LI><A HREF="#Heading103">2.8.17 EI - entity identifier</A>
<UL>
<LI><A HREF="#Heading104">2.8.17.1 Entity identifier (ST)</A>
<LI><A HREF="#Heading105">2.8.17.2 Namespace ID (IS)</A>
<LI><A HREF="#Heading106">2.8.17.3 Universal ID (ST)  </A>
<LI><A HREF="#Heading107">2.8.17.4 Universal ID type (ID)  </A>
</UL>
<LI><A HREF="#Heading108">2.8.18 FC - financial class</A>
<UL>
<LI><A HREF="#Heading109">2.8.18.1 Financial class (IS)</A>
<LI><A HREF="#Heading110">2.8.18.2 Effective date (TS)</A>
</UL>
<LI><A HREF="#Heading111">2.8.19 FT - formatted text data  </A>
<LI><A HREF="#Heading112">2.8.20 HD - hierarchic designator</A>
<UL>
<LI><A HREF="#Heading113">2.8.20.1 Namespace ID (IS)</A>
<LI><A HREF="#Heading114">2.8.20.2 Universal ID (ST)</A>
<LI><A HREF="#Heading115">2.8.20.3 Universal ID type (ID)</A>
</UL>
<LI><A HREF="#Heading116">2.8.21 ID - coded value for HL7 defined tables</A>
<LI><A HREF="#Heading117">2.8.22 IS - coded value for user-defined tables</A>
<LI><A HREF="#Heading118">2.8.23 JCC - job code/class</A>
<UL>
<LI><A HREF="#Heading119">2.8.23.1 Job code (IS)</A>
<LI><A HREF="#Heading120">2.8.23.2 Job class (IS)</A>
</UL>
<LI><A HREF="#Heading121">2.8.24 MA - multiplexed array</A>
<LI><A HREF="#Heading122">2.8.25 MO - money  </A>
<UL>
<LI><A HREF="#Heading123">2.8.25.1 Quantity (NM)</A>
<LI><A HREF="#Heading124">2.8.25.2 Denomination (ID)</A>
</UL>
<LI><A HREF="#Heading125">2.8.26 NA - numeric array</A>
<LI><A HREF="#Heading126">2.8.27 NM - numeric  </A>
<LI><A HREF="#Heading127">2.8.28 PL - person location</A>
<UL>
<LI><A HREF="#Heading128">2.8.28.1 Point of care (IS)</A>
<LI><A HREF="#Heading129">2.8.28.2 Room (IS)</A>
<LI><A HREF="#Heading130">2.8.28.3 Bed (IS)</A>
<LI><A HREF="#Heading131">2.8.28.4 Facility (HD)</A>
<LI><A HREF="#Heading132">2.8.28.5 Location status (IS)</A>
<LI><A HREF="#Heading133">2.8.28.6 Person location type (IS)</A>
<LI><A HREF="#Heading134">2.8.28.7 Building (IS)</A>
<LI><A HREF="#Heading135">2.8.28.8 Floor (IS)</A>
<LI><A HREF="#Heading136">2.8.28.9 Location description (ST)</A>
</UL>
<LI><A HREF="#Heading137">2.8.29 PPN - performing person time stamp</A>
<UL>
<LI><A HREF="#Heading138">2.8.29.1 ID number (ST)</A>
<LI><A HREF="#Heading139">2.8.29.2 Family name (ST) &amp;  last_name_prefix (ST)</A>
<UL>
<LI><A HREF="#Heading140">2.8.29.2.1 Family name. </A>
<LI><A HREF="#Heading141">2.8.29.2.2 Last_name_prefix</A>
</UL>
<LI><A HREF="#Heading142">2.8.29.3 Given name (ST)</A>
<LI><A HREF="#Heading143">2.8.29.4 Middle initial or name (ST)</A>
<LI><A HREF="#Heading144">2.8.29.5 Suffix (ST)</A>
<LI><A HREF="#Heading145">2.8.29.6 Prefix (ST)</A>
<LI><A HREF="#Heading146">2.8.29.7 Degree (ST)</A>
<LI><A HREF="#Heading147">2.8.29.8 Source table (IS)</A>
<LI><A HREF="#Heading148">2.8.29.9 Assigning authority (HD)</A>
<LI><A HREF="#Heading149">2.8.29.10 Name type code (ID)</A>
<LI><A HREF="#Heading150">2.8.29.11 Identifier check digit (ST)</A>
<LI><A HREF="#Heading151">2.8.29.12 Code identifying the check digit scheme employed (ID)</A>
<LI><A HREF="#Heading152">2.8.29.13 Identifier type code (IS)</A>
<LI><A HREF="#Heading153">2.8.29.14 Assigning facility (HD)</A>
<LI><A HREF="#Heading154">2.8.29.15 Date/time action performed (TS)</A>
<LI><A HREF="#Heading155">2.8.29.16 Name representation code (ID)</A>
</UL>
<LI><A HREF="#Heading156">2.8.30 PN - person name</A>
<UL>
<LI><A HREF="#Heading157">2.8.30.1 Family name (ST)</A>
<LI><A HREF="#Heading158">2.8.30.2 Given name (ST)</A>
<LI><A HREF="#Heading159">2.8.30.3 Middle initial or name (ST)</A>
<LI><A HREF="#Heading160">2.8.30.4 Suffix (ST)</A>
<LI><A HREF="#Heading161">2.8.30.5 Prefix (ST) </A>
<LI><A HREF="#Heading162">2.8.30.6 Degree (ST) </A>
<UL>
<LI><A HREF="#Heading163">2.8.30.6.1 Internationalization note  </A>
</UL>
<LI><A HREF="#Heading164">2.8.30.7 References for internationalization of name</A>
</UL>
<LI><A HREF="#Heading165">2.8.31 PT - processing type</A>
<UL>
<LI><A HREF="#Heading166">2.8.31.1 Processing ID (ID)</A>
<LI><A HREF="#Heading167">2.8.31.2 Processing mode (ID)</A>
</UL>
<LI><A HREF="#Heading168">2.8.32 QIP - query input parameter list</A>
<UL>
<LI><A HREF="#Heading169">2.8.32.1 Field name (ST)</A>
<LI><A HREF="#Heading170">2.8.32.2 Value1 &amp; value2 &amp; value3 (ST)</A>
</UL>
<LI><A HREF="#Heading171">2.8.33 QSC - query selection criteria</A>
<UL>
<LI><A HREF="#Heading172">2.8.33.1 Name of field (ST)</A>
<LI><A HREF="#Heading173">2.8.33.2 Relational operator (ID)</A>
<LI><A HREF="#Heading174">2.8.33.3 Value (ST)</A>
<LI><A HREF="#Heading175">2.8.33.4 Relational conjunction (ID)</A>
</UL>
<LI><A HREF="#Heading176">2.8.34   RCD - row column definition</A>
<UL>
<LI><A HREF="#Heading177">2.8.34.1 HL7 item number (ST)</A>
<LI><A HREF="#Heading178">2.8.34.2 HL7 data type (ST)</A>
<LI><A HREF="#Heading179">2.8.34.3 Maximum column width (NM)</A>
</UL>
<LI><A HREF="#Heading180">2.8.35 RI - repeat interval</A>
<UL>
<LI><A HREF="#Heading181">2.8.35.1 Repeat pattern (IS)</A>
<LI><A HREF="#Heading182">2.8.35.2 Explicit time interval (ST)</A>
</UL>
<LI><A HREF="#Heading183">2.8.36 RP - reference pointer</A>
<UL>
<LI><A HREF="#Heading184">2.8.36.1 Pointer (ST)</A>
<LI><A HREF="#Heading185">2.8.36.2 Application ID (HD)</A>
<LI><A HREF="#Heading186">2.8.36.3 Type of data (ID)</A>
<LI><A HREF="#Heading187">2.8.36.4 Subtype (ID)</A>
<LI><A HREF="#Heading188">2.8.36.5 Type-subtype combinations</A>
<UL>
<LI><A HREF="#Heading189">2.8.36.5.1 Image subtypes</A>
<LI><A HREF="#Heading190">2.8.36.5.2 Audio subtypes</A>
<LI><A HREF="#Heading191">2.8.36.5.3 Application subtypes</A>
</UL>
</UL>
<LI><A HREF="#Heading192">2.8.37 SCV - scheduling class value pair</A>
<UL>
<LI><A HREF="#Heading193">2.8.37.1 Parameter class (IS)</A>
<LI><A HREF="#Heading194">2.8.37.2 Parameter value (IS)</A>
</UL>
<LI><A HREF="#Heading195">2.8.38 SI - sequence ID</A>
<LI><A HREF="#Heading196">2.8.39 SN - structured numeric</A>
<UL>
<LI><A HREF="#Heading197">2.8.39.1 &lt;comparator&gt;  =  "&gt;" or "&lt;" or "&gt;=" or "&lt;=" or "=" or "&lt;&gt;"</A>
<LI><A HREF="#Heading198">2.8.39.2 &lt;num1&gt;  (NM)</A>
<LI><A HREF="#Heading199">2.8.39.3 &lt;separator/suffix&gt;  (ST)</A>
<LI><A HREF="#Heading200">2.8.39.4 &lt;num2&gt; (NM)</A>
</UL>
<LI><A HREF="#Heading201">2.8.40 ST - string data</A>
<LI><A HREF="#Heading202">2.8.41 TM - time</A>
<LI><A HREF="#Heading203">2.8.42 TN - telephone number</A>
<LI><A HREF="#Heading204">2.8.43 TQ - timing quantity</A>
<LI><A HREF="#Heading205">2.8.44 TS - time stamp  </A>
<LI><A HREF="#Heading206">2.8.45 TX - text data  </A>
<LI><A HREF="#Heading207">2.8.46 VH - visiting hours </A>
<UL>
<LI><A HREF="#Heading208">2.8.46.1 Start day range (ID)</A>
<LI><A HREF="#Heading209">2.8.46.2 End day range (ID)</A>
<LI><A HREF="#Heading210">2.8.46.3 Start hour range (TM)</A>
<LI><A HREF="#Heading211">2.8.46.4 End hour range (TM)</A>
</UL>
<LI><A HREF="#Heading212">2.8.47 VID - version identifier</A>
<UL>
<LI><A HREF="#Heading213">2.8.47.1 Version ID (ID)</A>
<LI><A HREF="#Heading214">2.8.47.2 Internationalization code (CE)</A>
<LI><A HREF="#Heading215">2.8.47.3 International version ID (CE)</A>
</UL>
<LI><A HREF="#Heading216">2.8.48 XAD - extended address</A>
<UL>
<LI><A HREF="#Heading217">2.8.48.1 Street address (ST)</A>
<LI><A HREF="#Heading218">2.8.48.2 Other designation (ST)</A>
<LI><A HREF="#Heading219">2.8.48.3 City (ST)</A>
<LI><A HREF="#Heading220">2.8.48.4 State or province (ST)</A>
<LI><A HREF="#Heading221">2.8.48.5 Zip or postal code (ST)</A>
<LI><A HREF="#Heading222">2.8.48.6 Country (ID)</A>
<LI><A HREF="#Heading223">2.8.48.7 Address type (ID)</A>
<LI><A HREF="#Heading224">2.8.48.8 Other geographic designation (ST)</A>
<LI><A HREF="#Heading225">2.8.48.9 County/parish code (IS)</A>
<LI><A HREF="#Heading226">2.8.48.10 Census tract (IS)</A>
<LI><A HREF="#Heading227">2.8.48.11 Address representation code (ID) </A>
</UL>
<LI><A HREF="#Heading228">2.8.49 XCN - extended composite ID number and name for persons</A>
<UL>
<LI><A HREF="#Heading229">2.8.49.1 ID number (ST)</A>
<LI><A HREF="#Heading230">2.8.49.2 Family name (ST) &amp; last_name_prefix (ST)</A>
<UL>
<LI><A HREF="#Heading231">2.8.49.2.1 Family name </A>
<LI><A HREF="#Heading232">2.8.49.2.2 Last_name_prefix  </A>
</UL>
<LI><A HREF="#Heading233">2.8.49.3 Given name (ST)</A>
<LI><A HREF="#Heading234">2.8.49.4 Middle initial or name (ST)</A>
<LI><A HREF="#Heading235">2.8.49.5 Suffix (ST)</A>
<LI><A HREF="#Heading236">2.8.49.6 Prefix (ST) </A>
<LI><A HREF="#Heading237">2.8.49.7 Degree (ST) </A>
<LI><A HREF="#Heading238">2.8.49.8 Source table (IS)</A>
<LI><A HREF="#Heading239">2.8.49.9 Assigning authority (HD)</A>
<LI><A HREF="#Heading240">2.8.49.10 Name type code (ID)</A>
<LI><A HREF="#Heading241">2.8.49.11 Identifier check digit (ST)</A>
<LI><A HREF="#Heading242">2.8.49.12 Code identifying the check digit scheme employed (ID)</A>
<LI><A HREF="#Heading243">2.8.49.13 Identifier type code (IS)</A>
<LI><A HREF="#Heading244">2.8.49.14 Assigning facility (HD)</A>
<LI><A HREF="#Heading245">2.8.49.15 Name representation code (ID)</A>
</UL>
<LI><A HREF="#Heading246">2.8.50 XON - extended composite name and identification number for organizations</A>
<UL>
<LI><A HREF="#Heading247">2.8.50.1 Organization name (ST)</A>
<LI><A HREF="#Heading248">2.8.50.2 Organization name type code (IS)</A>
<LI><A HREF="#Heading249">2.8.50.3 ID number (NM)</A>
<LI><A HREF="#Heading250">2.8.50.4 Check digit (NM)</A>
<LI><A HREF="#Heading251">2.8.50.5 Code identifying the check digit scheme employed (ID)</A>
<LI><A HREF="#Heading252">2.8.50.6 Assigning authority (HD)</A>
<LI><A HREF="#Heading253">2.8.50.7 Identifier type code (IS)</A>
<LI><A HREF="#Heading254">2.8.50.8 Assigning facility ID (HD)</A>
<LI><A HREF="#Heading255">2.8.50.9 Name representation code (ID)</A>
</UL>
<LI><A HREF="#Heading256">2.8.51 XPN - extended person name</A>
<UL>
<LI><A HREF="#Heading257">2.8.51.1 Family name (ST) &amp; last_name_prefix (ST)</A>
<UL>
<LI><A HREF="#Heading258">2.8.51.1.1 Family name. </A>
<LI><A HREF="#Heading259">2.8.51.1.2 Last_name_prefix.  </A>
</UL>
<LI><A HREF="#Heading260">2.8.51.2 Given name (ST)</A>
<LI><A HREF="#Heading261">2.8.51.3 Middle initial or name (ST)</A>
<LI><A HREF="#Heading262">2.8.51.4 Suffix (ST)</A>
<LI><A HREF="#Heading263">2.8.51.5 Prefix (ST)</A>
<LI><A HREF="#Heading264">2.8.51.6 Degree (IS)</A>
<LI><A HREF="#Heading265">2.8.51.7 Name type code (ID) </A>
<LI><A HREF="#Heading266">2.8.51.8 Name representation code (ID)</A>
</UL>
<LI><A HREF="#Heading267">2.8.52 XTN - extended telecommunication number</A>
<UL>
<LI><A HREF="#Heading268">2.8.52.1 [(999)] 999-9999 [X99999] [C any text]</A>
<LI><A HREF="#Heading269">2.8.52.2 Telecommunication use code (ID) </A>
<LI><A HREF="#Heading270">2.8.52.3 Telecommunication equipment type (ID)</A>
<LI><A HREF="#Heading271">2.8.52.4 Email address (ST)</A>
<LI><A HREF="#Heading272">2.8.52.5 Country code (NM)</A>
<LI><A HREF="#Heading273">2.8.52.6 Area/city code (NM)</A>
<LI><A HREF="#Heading274">2.8.52.7 Phone number (NM)</A>
<LI><A HREF="#Heading275">2.8.52.8 Extension (NM)</A>
<LI><A HREF="#Heading276">2.8.52.9 Any text (ST)</A>
</UL>
</UL>
<LI><A HREF="#Heading277">2.9 USE OF ESCAPE SEQUENCES IN TEXT FIELDS</A>
<UL>
<LI><A HREF="#Heading278">2.9.1 Formatting codes</A>
<LI><A HREF="#Heading279">2.9.2 Escape sequences supporting multiple character sets for PN, XPN, XCN, XON, and XAD data types</A>
<LI><A HREF="#Heading280">2.9.3 Highlighting</A>
<LI><A HREF="#Heading281">2.9.4 Special character</A>
<LI><A HREF="#Heading282">2.9.5 Hexadecimal</A>
<LI><A HREF="#Heading283">2.9.6 Formatted text</A>
<LI><A HREF="#Heading284">2.9.7 Local</A>
</UL>
<LI><A HREF="#Heading285">2.10 MESSAGE CONSTRUCTION RULES</A>
<UL>
<LI><A HREF="#Heading286">2.10.1 Encoding rules notes</A>
<LI><A HREF="#Heading287">2.10.2 Version compatibility definition</A>
</UL>
<LI><A HREF="#Heading288">2.11 CHAPTER FORMATS FOR DEFINING HL7 MESSAGES</A>
<UL>
<LI><A HREF="#Heading289">2.11.1 HL7 abstract message syntax example</A>
</UL>
<LI><A HREF="#Heading290">2.12 APPLICATION (LEVEL 7) PROCESSING RULES</A>
<UL>
<LI><A HREF="#Heading291">2.12.1 Original and enhanced processing rules</A>
<UL>
<LI><A HREF="#Heading292">2.12.1.1 Initiation</A>
<LI><A HREF="#Heading293">2.12.1.2 Response</A>
<UL>
<LI><A HREF="#Heading294">2.12.1.2.1 When the original acknowledgment rules apply </A>
<LI><A HREF="#Heading295">2.12.1.2.2 When enhanced acknowledgment rules apply </A>
</UL>
</UL>
<LI><A HREF="#Heading296">2.12.2 Application (level 7) processing rules, deferred processing two phase reply (original acknowledgment mode only)</A>
<UL>
<LI><A HREF="#Heading297">2.12.2.1 Initiation</A>
<LI><A HREF="#Heading298">2.12.2.2 Response</A>
</UL>
</UL>
<LI><A HREF="#Heading299">2.13 ACKNOWLEDGEMENT MESSAGES</A>
<UL>
<LI><A HREF="#Heading300">2.13.1 ACK - general acknowledgment</A>
<LI><A HREF="#Heading301">2.13.2 MCF -  delayed acknowledgment</A>
</UL>
<LI><A HREF="#Heading302">2.14 DISPLAY MESSAGES</A>
<UL>
<LI><A HREF="#Heading303">2.14.1 Display vs. record-oriented messages</A>
<LI><A HREF="#Heading304">2.14.2 UDM/ACK - unsolicited display update message (event Q05) </A>
<LI><A HREF="#Heading305">2.14.3 Continuation of unsolicited display update message</A>
</UL>
<LI><A HREF="#Heading306">2.15 QUERIES</A>
<UL>
<LI><A HREF="#Heading307">2.15.1 Display vs. record-oriented queries (original mode, embedded query language, virtual table, and stored procedure queries); and event replay requests</A>
<LI><A HREF="#Heading308">2.15.2 Message definition</A>
<LI><A HREF="#Heading309">2.15.3 Immediate vs. deferred response</A>
<LI><A HREF="#Heading310">2.15.4 Interactive continuation or cancellation of response messages: original mode (display and record-oriented) and enhanced mode (display, tabular, and event replay) </A>
<LI><A HREF="#Heading311">2.15.5 Logical display break points</A>
</UL>
<LI><A HREF="#Heading312">2.16 QUERY TRIGGER EVENTS AND MESSAGE DEFINITIONS</A>
<LI><A HREF="#Heading313">2.17 ORIGINAL MODE QUERIES</A>
<UL>
<LI><A HREF="#Heading314">2.17.1 QRY/DSR - original mode display query -  immediate response (event Q01)</A>
<UL>
<LI><A HREF="#Heading315">2.17.1.1 Original mode display query variants</A>
</UL>
</UL>
<LI><A HREF="#Heading316">2.18 ORIGINAL MODE DEFERRED ACCESS</A>
<UL>
<LI><A HREF="#Heading317">2.18.1 QRY/QCK - deferred query (event Q02)</A>
<LI><A HREF="#Heading318">2.18.2 DSR/ACK - deferred response to a query (event Q03) </A>
</UL>
<LI><A HREF="#Heading319">2.19 ENHANCED MODE QUERY MESSAGES</A>
<UL>
<LI><A HREF="#Heading320">2.19.1 EQQ - embedded query language query (event Q04)</A>
<LI><A HREF="#Heading321">2.19.2 VQQ - virtual table query (event Q07)</A>
<LI><A HREF="#Heading322">2.19.3 SPQ - stored procedure request (event Q08)</A>
<LI><A HREF="#Heading323">2.19.4 RQQ - event replay query (event Q09)</A>
</UL>
<LI><A HREF="#Heading324">2.20 ENHANCED QUERY MODE RESPONSE MESSAGES</A>
<UL>
<LI><A HREF="#Heading325">2.20.1 EDR - enhanced display response</A>
<LI><A HREF="#Heading326">2.20.2 TBR - tabular data response </A>
<LI><A HREF="#Heading327">2.20.3 ERP - event replay response</A>
</UL>
<LI><A HREF="#Heading328">2.21 QUERY MESSAGE IMPLEMENTATION CONSIDERATIONS</A>
<UL>
<LI><A HREF="#Heading329">2.21.1 Original mode implementation considerations</A>
<LI><A HREF="#Heading330">2.21.2 Enhanced mode implementation considerations: definition of tables and "virtual tables"</A>
</UL>
<LI><A HREF="#Heading331">2.22 QUERY ERROR RESPONSE</A>
<LI><A HREF="#Heading332">2.23 SPECIAL HL7 PROTOCOLS</A>
<UL>
<LI><A HREF="#Heading333">2.23.1 Sequence number protocol</A>
<LI><A HREF="#Heading334">2.23.2 Continuation messages and segments</A>
<LI><A HREF="#Heading335">2.23.3 HL7 batch protocol</A>
<UL>
<LI><A HREF="#Heading336">2.23.3.1 HL7 batch file structure </A>
<LI><A HREF="#Heading337">2.23.3.2 Related segments and data usage</A>
<LI><A HREF="#Heading338">2.23.3.3 Acknowledging batches</A>
<LI><A HREF="#Heading339">2.23.3.4 Batch message as a query response</A>
</UL>
<LI><A HREF="#Heading340">2.23.4 Modes for updating via repeating segments</A>
<UL>
<LI><A HREF="#Heading341">2.23.4.1 Snapshot mode update definition </A>
<LI><A HREF="#Heading342">2.23.4.2 Action code/unique identifier mode update definition</A>
</UL>
</UL>
<LI><A HREF="#Heading343">2.24 MESSAGE CONTROL SEGMENTS</A>
<UL>
<LI><A HREF="#Heading344">2.24.1 MSH - message header segment</A>
<UL>
<LI><A HREF="#Heading345">2.24.1.1 Field separator  (ST)   00001</A>
<LI><A HREF="#Heading346">2.24.1.2 Encoding characters  (ST)   00002</A>
<LI><A HREF="#Heading347">2.24.1.3 Sending application  (EI)   00003</A>
<LI><A HREF="#Heading348">2.24.1.4 Sending facility  (EI)   00004</A>
<LI><A HREF="#Heading349">2.24.1.5 Receiving application  (EI)   00005</A>
<LI><A HREF="#Heading350">2.24.1.6 Receiving facility  (EI)   00006</A>
<LI><A HREF="#Heading351">2.24.1.7 Date/time of message  (TS)   00007</A>
<LI><A HREF="#Heading352">2.24.1.8 Security  (ST)   00008</A>
<LI><A HREF="#Heading353">2.24.1.9 Message type  (CM)   00009 </A>
<LI><A HREF="#Heading354">2.24.1.10 Message control ID  (ST)   00010</A>
<LI><A HREF="#Heading355">2.24.1.11 Processing ID  (PT)   00011</A>
<LI><A HREF="#Heading356">2.24.1.12 Version ID  (VID)   00012</A>
<LI><A HREF="#Heading357">2.24.1.13 Sequence number  (NM)   00013</A>
<LI><A HREF="#Heading358">2.24.1.14 Continuation pointer  (ST)   00014</A>
<LI><A HREF="#Heading359">2.24.1.15 Accept acknowledgment type  (ID)   00015</A>
<LI><A HREF="#Heading360">2.24.1.16 Application acknowledgment type  (ID)   00016</A>
<LI><A HREF="#Heading361">2.24.1.17 Country code  (ID)   00017</A>
<LI><A HREF="#Heading362">2.24.1.18 Character set  (ID)   00692</A>
<LI><A HREF="#Heading363">2.24.1.19 Principal language of message  (CE)   00693</A>
<LI><A HREF="#Heading364">2.24.1.20 Alternate character set handling (ID)   01317</A>
</UL>
<LI><A HREF="#Heading365">2.24.2 MSA - message acknowledgment segment</A>
<UL>
<LI><A HREF="#Heading366">2.24.2.1 Acknowledgment code  (ID)   00018</A>
<LI><A HREF="#Heading367">2.24.2.2 Message control  ID  (ST)   00010</A>
<LI><A HREF="#Heading368">2.24.2.3 Text message  (ST)   00020</A>
<LI><A HREF="#Heading369">2.24.2.4 Expected sequence number  (NM)   00021</A>
<LI><A HREF="#Heading370">2.24.2.5 Delayed acknowledgment type  (ID)   00022</A>
<LI><A HREF="#Heading371">2.24.2.6 Error condition  (CE)   00023</A>
</UL>
<LI><A HREF="#Heading372">2.24.3 ERR - error segment </A>
<UL>
<LI><A HREF="#Heading373">2.24.3.1 Error code and location  (CM)   00024</A>
</UL>
<LI><A HREF="#Heading374">2.24.4 QRD - original-style query definition segment</A>
<UL>
<LI><A HREF="#Heading375">2.24.4.1 Query date/time  (TS)   00025</A>
<LI><A HREF="#Heading376">2.24.4.2 Query format code  (ID)   00026</A>
<LI><A HREF="#Heading377">2.24.4.3 Query priority  (ID)   00027</A>
<LI><A HREF="#Heading378">2.24.4.4 Query ID  (ST)   00028</A>
<LI><A HREF="#Heading379">2.24.4.5 Deferred response type  (ID)   00029</A>
<LI><A HREF="#Heading380">2.24.4.6 Deferred response date/time (TS)   00030</A>
<LI><A HREF="#Heading381">2.24.4.7 Quantity limited request  (CQ)   00031</A>
<LI><A HREF="#Heading382">2.24.4.8 Who subject filter  (XCN)   00032</A>
<LI><A HREF="#Heading383">2.24.4.9 What subject filter  (CE)   00033</A>
<LI><A HREF="#Heading384">2.24.4.10 What department data code  (CE)   00034</A>
<LI><A HREF="#Heading385">2.24.4.11 What data code value qual  (CM)   00035</A>
<LI><A HREF="#Heading386">2.24.4.12 Query results level (ID)   00036</A>
</UL>
<LI><A HREF="#Heading387">2.24.5 QRF - original style query filter segment</A>
<UL>
<LI><A HREF="#Heading388">2.24.5.1 Where subject filter  (ST)   00037</A>
<LI><A HREF="#Heading389">2.24.5.2 When data start date/time  (TS)   00038</A>
<LI><A HREF="#Heading390">2.24.5.3 When data end date/time  (TS)   00039</A>
<LI><A HREF="#Heading391">2.24.5.4 What user qualifier  (ST)   00040</A>
<LI><A HREF="#Heading392">2.24.5.5 Other QRY subject filter  (ST)   00041</A>
<LI><A HREF="#Heading393">2.24.5.6 Which date/time qualifier  (ID)   00042</A>
<LI><A HREF="#Heading394">2.24.5.7 Which date/time status qualifier  (ID)   00043</A>
<LI><A HREF="#Heading395">2.24.5.8 Date/time selection qualifier  (ID)   00044</A>
<LI><A HREF="#Heading396">2.24.5.9 When quantity/timing qualifier  (TQ)   00694</A>
</UL>
<LI><A HREF="#Heading397">2.24.6 URD - results/update definition segment</A>
<UL>
<LI><A HREF="#Heading398">2.24.6.1 R/U date/time  (TS)   00045</A>
<LI><A HREF="#Heading399">2.24.6.2 Report priority (ID)   00046 </A>
<LI><A HREF="#Heading400">2.24.6.3 R/U who subject definition  (XCN)   00047</A>
<LI><A HREF="#Heading401">2.24.6.4 R/U what subject definition  (CE)   00048</A>
<LI><A HREF="#Heading402">2.24.6.5 R/U what department code  (CE)   00049</A>
<LI><A HREF="#Heading403">2.24.6.6 R/U display/print locations  (ST)   00050</A>
<LI><A HREF="#Heading404">2.24.6.7 R/U results level  (ID)   00051</A>
</UL>
<LI><A HREF="#Heading405">2.24.7 URS - unsolicited selection segment</A>
<UL>
<LI><A HREF="#Heading406">2.24.7.1 R/U where subject definition ( ST)   00052</A>
<LI><A HREF="#Heading407">2.24.7.2 R/U when data start date/time  (TS)   00053</A>
<LI><A HREF="#Heading408">2.24.7.3 R/U when data end date/time  (TS)   00054</A>
<LI><A HREF="#Heading409">2.24.7.4 R/U what user qualifier  (ST)   00055</A>
<LI><A HREF="#Heading410">2.24.7.5 R/U other results subject definition  (ST)   00056</A>
<LI><A HREF="#Heading411">2.24.7.6 R/U which date/time qualifier  (ID)   00057</A>
<LI><A HREF="#Heading412">2.24.7.7 R/U which date/time status qualifier  (ID)   00058</A>
<LI><A HREF="#Heading413">2.24.7.8 R/U date/time selection qualifier  (ID)   00059</A>
<LI><A HREF="#Heading414">2.24.7.9 R/U quantity/timing qualifier  (TQ)   00695</A>
</UL>
<LI><A HREF="#Heading415">2.24.8 DSC - Continuation pointer segment</A>
<UL>
<LI><A HREF="#Heading416">2.24.8.1 Continuation pointer (ST)   00014</A>
</UL>
<LI><A HREF="#Heading417">2.24.9 DSP - display data segment</A>
<UL>
<LI><A HREF="#Heading418">2.24.9.1 Set ID - DSP  (SI)   00061</A>
<LI><A HREF="#Heading419">2.24.9.2 Display level  (SI)   00062</A>
<LI><A HREF="#Heading420">2.24.9.3 Data line  (TX)   00063</A>
<LI><A HREF="#Heading421">2.24.9.4 Logical break point  (ST)   00064</A>
<LI><A HREF="#Heading422">2.24.9.5 Result ID  (TX)   00065</A>
</UL>
<LI><A HREF="#Heading423">2.24.10 ADD - addendum segment </A>
<UL>
<LI><A HREF="#Heading424">2.24.10.1 Addendum continuation pointer (ST)   00066  </A>
</UL>
<LI><A HREF="#Heading425">2.24.11 FHS - file header segment</A>
<UL>
<LI><A HREF="#Heading426">2.24.11.1 File field separator  (ST)   00067</A>
<LI><A HREF="#Heading427">2.24.11.2 File encoding characters  (ST)   00068</A>
<LI><A HREF="#Heading428">2.24.11.3 File sending application  (ST)   00069</A>
<LI><A HREF="#Heading429">2.24.11.4 File sending facility  (ST)   00070</A>
<LI><A HREF="#Heading430">2.24.11.5 File receiving application  (ST)   00071</A>
<LI><A HREF="#Heading431">2.24.11.6 File receiving facility  (ST)   00072</A>
<LI><A HREF="#Heading432">2.24.11.7 File creation date/time  (TS)   00073</A>
<LI><A HREF="#Heading433">2.24.11.8 File security (ST)   00074</A>
<LI><A HREF="#Heading434">2.24.11.9 File name/ID  (ST)   00075</A>
<LI><A HREF="#Heading435">2.24.11.10 File header comment (ST)   00076</A>
<LI><A HREF="#Heading436">2.24.11.11 File control ID  (ST)   00077</A>
<LI><A HREF="#Heading437">2.24.11.12 Reference file control ID  (ST)   00078</A>
</UL>
<LI><A HREF="#Heading438">2.24.12 FTS - file trailer segment </A>
<UL>
<LI><A HREF="#Heading439">2.24.12.1 File batch count  (NM)   00079</A>
<LI><A HREF="#Heading440">2.24.12.2 File trailer comment  (ST)   00080</A>
</UL>
<LI><A HREF="#Heading441">2.24.13 BHS - batch header segment </A>
<UL>
<LI><A HREF="#Heading442">2.24.13.1 Batch field separator  (ST)   00081</A>
<LI><A HREF="#Heading443">2.24.13.2 Batch encoding characters  (ST)   00082</A>
<LI><A HREF="#Heading444">2.24.13.3 Batch sending application  (ST)   00083</A>
<LI><A HREF="#Heading445">2.24.13.4 Batch sending facility  (ST)   00084</A>
<LI><A HREF="#Heading446">2.24.13.5 Batch receiving application  (ST)   00085</A>
<LI><A HREF="#Heading447">2.24.13.6 Batch receiving facility  (ST)   00086</A>
<LI><A HREF="#Heading448">2.24.13.7 Batch creation date/time  (TS)   00087</A>
<LI><A HREF="#Heading449">2.24.13.8 Batch security  (ST)   00088</A>
<LI><A HREF="#Heading450">2.24.13.9 Batch name/ID/type  (ST)   00089</A>
<LI><A HREF="#Heading451">2.24.13.10 Batch comment  (ST)   00090</A>
<LI><A HREF="#Heading452">2.24.13.11 Batch control ID  (ST)   00091</A>
<LI><A HREF="#Heading453">2.24.13.12 Reference batch control ID  (ST)   00092</A>
</UL>
<LI><A HREF="#Heading454">2.24.14 BTS - batch trailer segment</A>
<UL>
<LI><A HREF="#Heading455">2.24.14.1 Batch message count  (ST)   00093</A>
<LI><A HREF="#Heading456">2.24.14.2 Batch comment  (ST)   00090</A>
<LI><A HREF="#Heading457">2.24.14.3 Batch totals  (NM)   00095</A>
</UL>
<LI><A HREF="#Heading458">2.24.15 NTE - notes and comments segment</A>
<UL>
<LI><A HREF="#Heading459">2.24.15.1 Set ID - NTE  (SI)   00096</A>
<LI><A HREF="#Heading460">2.24.15.2 Source of comment  (ID)   00097</A>
<LI><A HREF="#Heading461">2.24.15.3 Comment  (FT)   00098</A>
<LI><A HREF="#Heading462">2.24.15.4 Comment type (CE)  01318</A>
</UL>
<LI><A HREF="#Heading463">2.24.16 EQL - embedded query language segment</A>
<UL>
<LI><A HREF="#Heading464">2.24.16.1 Query tag  (ST)   00696</A>
<LI><A HREF="#Heading465">2.24.16.2 Query/response format code  (ID)   00697</A>
<LI><A HREF="#Heading466">2.24.16.3 EQL query name  (CE)   00709</A>
<LI><A HREF="#Heading467">2.24.16.4 EQL query statement  (ST)   00710</A>
</UL>
<LI><A HREF="#Heading468">2.24.17 VTQ - virtual table query request segment</A>
<UL>
<LI><A HREF="#Heading469">2.24.17.1 Query tag  (ST)   00696</A>
<LI><A HREF="#Heading470">2.24.17.2 Query/response format code (ID)   00697</A>
<LI><A HREF="#Heading471">2.24.17.3 VT query name  (CE)   00698</A>
<LI><A HREF="#Heading472">2.24.17.4 Virtual table name  (CE)   00699</A>
<LI><A HREF="#Heading473">2.24.17.5 Selection criteria  (QSC)   00700</A>
</UL>
<LI><A HREF="#Heading474">2.24.18 RDF - table row definition segment</A>
<UL>
<LI><A HREF="#Heading475">2.24.18.1 Number of columns per row  (NM)   00701</A>
<LI><A HREF="#Heading476">2.24.18.2 Column description  (RCD)   00702</A>
</UL>
<LI><A HREF="#Heading477">2.24.19 RDT - table row data segment</A>
<UL>
<LI><A HREF="#Heading478">2.24.19.1 Column value  (Variable)   00703</A>
</UL>
<LI><A HREF="#Heading479">2.24.20 SPR - stored procedure request definition segment</A>
<UL>
<LI><A HREF="#Heading480">2.24.20.1 Query tag  (ST)   00696</A>
<LI><A HREF="#Heading481">2.24.20.2 Query/response format code (ID)  00697</A>
<LI><A HREF="#Heading482">2.24.20.3 Stored procedure name (CE)   00704</A>
<LI><A HREF="#Heading483">2.24.20.4 Input parameter list  (QIP)   00705</A>
</UL>
<LI><A HREF="#Heading484">2.24.21 ERQ - event replay query segment</A>
<UL>
<LI><A HREF="#Heading485">2.24.21.1 Query tag  (ST)  00696</A>
<LI><A HREF="#Heading486">2.24.21.2 Event identifier  (CE)   00706</A>
<LI><A HREF="#Heading487">2.24.21.3 Input parameter list  (QIP)   00705</A>
</UL>
<LI><A HREF="#Heading488">2.24.22 QAK- query acknowledgment segment</A>
<UL>
<LI><A HREF="#Heading489">2.24.22.1 Query tag  (ST)   00696</A>
<LI><A HREF="#Heading490">2.24.22.2 Query response status  (ID)   00708</A>
</UL>
<LI><A HREF="#Heading491">2.24.23 Miscellaneous HL7 tables used across all chapters</A>
<UL>
<LI><A HREF="#Heading492">2.24.23.1 Yes/no indicator table</A>
</UL>
</UL>
<LI><A HREF="#Heading493">2.25 SAMPLE CONTROL AND QUERY MESSAGES</A>
<UL>
<LI><A HREF="#Heading494">2.25.1 General acknowledgment</A>
<LI><A HREF="#Heading495">2.25.2 Error return</A>
<LI><A HREF="#Heading496">2.25.3 Sequence number:  initial message</A>
<LI><A HREF="#Heading497">2.25.4 Query examples</A>
<UL>
<LI><A HREF="#Heading498">2.25.4.1 Original mode query with display-oriented response</A>
<LI><A HREF="#Heading499">2.25.4.2 Enhanced mode query examples</A>
<UL>
<LI><A HREF="#Heading500">2.25.4.2.1 Embedded query language (using SQL), virtual table and stored procedure queries with tabular response</A>
<LI><A HREF="#Heading501">2.25.4.2.2 Embedded query language query</A>
<LI><A HREF="#Heading502">2.25.4.2.3 Virtual table query</A>
<LI><A HREF="#Heading503">2.25.4.2.4 Stored procedure request</A>
<LI><A HREF="#Heading504">2.25.4.2.5 The response to the above queries might look like the following:</A>
<LI><A HREF="#Heading505">2.25.4.2.6 Embedded query language continuation</A>
<LI><A HREF="#Heading506">2.25.4.2.7 Virtual table query continuation</A>
<LI><A HREF="#Heading507">2.25.4.2.8 Stored procedure request query continuation</A>
<LI><A HREF="#Heading508">2.25.4.2.9 This response shows that there is no further data by leaving the continuation pointer not present.  This could be done by sending the DSC segment ID with no data, but the example does the same thing by totally omitting the DSC segment</A>
<LI><A HREF="#Heading509">2.25.4.2.10 Suppose that from the table of "Evans," Carolyn Evans is selected and the querying application now needs detailed ADT information about her.  It can issue another query for this information using the event replay query (EQQ).</A>
<LI><A HREF="#Heading510">2.25.4.2.11 The response is returned as an Event Replay Response, which is the HL7 ADT patient registration message corresponding to event code A04, prefixed by the MSH, MSA and ERQ segments:</A>
<LI><A HREF="#Heading511">2.25.4.2.12 Embedded query language (EQL) , virtual table, and stored procedure error response</A>
<LI><A HREF="#Heading512">2.25.4.2.13 Event replay error response</A>
</UL>
</UL>
<LI><A HREF="#Heading513">2.25.5 Master file update examples: with original and enhanced acknowledgment protocol</A>
<UL>
<LI><A HREF="#Heading514">2.25.5.1 Original mode example:</A>
<LI><A HREF="#Heading515">2.25.5.2 Enhanced mode example</A>
<UL>
<LI><A HREF="#Heading516">2.25.5.2.1 Initial message with accept acknowledgment</A>
<LI><A HREF="#Heading517">2.25.5.2.2 Application acknowledgment message</A>
</UL>
<LI><A HREF="#Heading518">2.25.5.3 Delayed application acknowledgment</A>
<UL>
<LI><A HREF="#Heading519">2.25.5.3.1 Initial message with accept acknowledgment</A>
<LI><A HREF="#Heading520">2.25.5.3.2 Delayed application acknowledgment</A>
</UL>
</UL>
</UL>
<LI><A HREF="#Heading521">2.26 OUTSTANDING ISSUES</A>
</UL>
</UL>
<hr size=4>

<h1>
<A NAME="Heading1">2. </A></h1>

<p><b>Control/Query</b><br>
</p>
<TABLE>
<TR align="right">
<TD align="right"><p>Chapter
Chairs/Editors:
</TD>

<TD align="right"><p>Mark
Shafarman<br>Oacis Healthcare Systems, Inc.
</TD>
</TR><TR align="left">
<TD align="left"><BR></TD>
<TD align="left"><p>Larry
Reis<br>Wizdom Systems
</TD>
</TR><TR align="left">
<TD align="left"><BR></TD>
<TD align="left"><p>Mark
Tucker<br>Regenstrief Institute
</TD>
</TR></TABLE>

<h2>
<A NAME="Heading2">2.1 INTRODUCTION</A></h2>

<p>The
Control/Query chapter of this Standard defines the generic rules that apply to
all messages.  Subsequent sections define functionally specific messages to be
exchanged among certain applications.  The specific aspects of message
definition that are addressed herein are:<br>
a)	the form to be used in functional chapters for describing messages.  This
includes their purpose, their contents, and the interrelationships among them.
This form is called an <b>abstract message</b> <b>definition</b> because it is
purely a level 7 (application) definition.<br>
b)	the HL7 encoding rules for converting an abstract message into a string of
characters that comprises an actual message<br>
c)	the programming procedures required to exchange messages using the HL7
specifications<br>
d)	the anticipated relationship with lower level protocols<br>
e)	certain message segments that are components of all messages<br>
f)	a single message, the acknowledgment message, that may be used unchanged in
multiple applications
</p>

<h2>
<A NAME="Heading3">2.2 CONCEPTUAL APPROACH</A></h2>


<h3>
<A NAME="Heading4">2.2.1 Trigger events</A></h3>

<p>The
Standard is written from the assumption that an event in the real world of
healthcare creates the need for data to flow among systems.  The real-world
event is called the <b>trigger event</b>.  For example, the trigger event <b>a
patient is admitted</b> may cause the need for data about that patient to be
sent to a number of other systems.  The trigger event,  <b>an observation
(e.g., a CBC result) for a patient is</b> <b>available,</b> may cause the need
for that observation to be sent to a number of other systems.  When the
transfer of information is initiated by the application system that deals with
the triggering event, the transaction is termed an <b>unsolicited update</b>.
<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
No assumption is made about the design or architecture of the application
system creating the unsolicited update.  The scope of HL7 is restricted to the
specification of messages between application systems and the events triggering
them.
</TD>
</TR></TABLE>
<p>HL7
allows the use of trigger events at several different levels of data
granularity and inter-relationships.  For example, most Patient Administration
(ADT) trigger events concern single objects (such as an admit event, which
creates a message that contains data about a single person and/or account).
Other ADT trigger events are concerned with relationships between more than one
object (e.g., the merge events, which specify patient or account merges).  Some
ADT trigger events pertain to a collection of objects that may have no
significant inter-relationships (e.g., a record-oriented location-based query,
whose response contains data about a collection of inpatients who are related
only temporarily by local geography). 
</p>

<h3>
<A NAME="Heading5">2.2.2 Acknowledgments:  original mode</A></h3>

<p>When
the unsolicited update is sent from one system to another, this acknowledgment
mode specifies that it be acknowledged at the application level.  The reasoning
is that it is not sufficient to know that the underlying communications system
guaranteed delivery of the message.  It is also necessary to know that the
receiving application processed the data successfully at a logical application
level.<br>
The acknowledgment may contain data of interest to the system that initiated
the exchange.  For example, if a patient care system has processed the trigger
event <b>a lab test is ordered for a patient</b>, it may send an unsolicited
update to a lab application identifying the patient, the test ordered, and
various other information about the order.  The ancillary system will
acknowledge the order when it has processed it successfully.  For some pairings
of patient care and ancillary department systems the acknowledgment may also
include the ancillary identification number that was assigned.  (HL7 does not
require Order Entry and Results Reporting applications to interface in this
manner, but it supports those that do.)<br>
The HL7 Standard makes no assumptions about the ownership of data.  It also
makes no requirements of its own on the subsequent action of the recipient of
data, nor does it make any assumption about the design or architecture of the
receiving application system.  The scope of HL7 is restricted to the
specification of messages between application systems, and the events
triggering them.  HL7 does not explicitly support, but can be used with,
systems that support store and forward and data broadcast facilities (see the
HL7 Implementation Support Guide).<br>
The HL7 Standard makes no functional interpretation of the requirement that a
system commit the data in a message to its database before acknowledging it.
All that is required is that the receiving system accept responsibility for the
data, providing the same integrity test that it would apply to data from any
source.  To continue the prior example, the ancillary system may acknowledge
the order after placing it in an input queue, expecting to fully process the
order into its database at a future time.  The only assumption is that the
input queue is maintained at the same level of integrity as the database.
</p>

<h3>
<A NAME="Heading6">2.2.3 Acknowledgments: enhanced mode</A></h3>

<p>The
HL7 acknowledgment paradigm has been extended to distinguish both accept and
application acknowledgments, as well the conditions under which each is
required.  With a positive accept acknowledgment, the receiving system commits
the message to safe storage in a manner that releases the sending system from
the need to resend the message.  After the message has been processed by the
receiving system, an application acknowledgment may be used to return the
resultant status to the sending system.
</p>

<h3>
<A NAME="Heading7">2.2.4 Queries</A></h3>

<p>A
different data exchange occurs when one system sends a query to another.  For
example, in a cardiac catheterization application, there may be a trigger event
<b>a procedure is scheduled</b> for a patient who is not already registered in
the cardiac catheterization application's database.  The application may send a
request message containing the patient's ID number to the Patient
Administration (ADT) system and receive a response containing the necessary
data to permit processing of the order.  This requesting transaction is a
<b>query</b>, as distinguished from the unsolicited update discussed above.
The information that flows between the systems is contained in the response.
The response itself is not acknowledged with a third message.<br>
In all cases, the HL7 Standard consists of a simple exchange of messages
between a pair of applications: the unsolicited update and its acknowledgment
or the query and its response.  The underlying operational model is that of a
<b>client</b> and a <b>server</b>.  An application interfaces with another
application using an event code that identifies the transaction.  The other
application responds with a message that includes data or an error indication.
The initiating application may receive a reject status from the other
application or from lower level software indicating that its message was not
received correctly.<br>
HL7 queries can be formulated using one of several methods:<br>
1.	HL7 "query filters," defined via the QRD and QRF segments.  These are
supported as in previous releases of HL7, and are referred to as "original
mode" queries.<br>
2.	Embedded Query Language select statements, which enable the querying system
to format the request as a free-form<a name="fnB0" href="#fn0">[1]</a><sup>
</sup>query statement, using the query language of choice (e.g., SQL).<br>
3.	Virtual Table Request, which is similar in function to the Embedded Query
Language message, but more rigorously formatted with delimiters.<br>
4.	Stored Procedure Requests, which invoke units of program code on the
responding system that are built to satisfy a specific query (e.g., predefined
queries, SQL stored procedures).<br>
Since the  predefined queries supported by HL7 are limited in number and
precisely-defined, each has a corresponding stored procedure name and parameter
list associated with it.  Refer to the functional chapters for the lists of
supported queries.<br>
5.	Event Replay Queries, which are requests for data formatted as event
messages.<br>
HL7 includes SQL select statements as an alternate means of encoding query
selection criteria.  This alternative is offered as a convenience to
implementors, and in no way implies that server systems must support generic
SQL or be based on relational database technology.<br>
These queries are defined in the appropriate chapters of this specification.
</p>

<h2>
<A NAME="Heading8">2.3 COMMUNICATIONS ENVIRONMENT</A></h2>

<p>The
HL7 Standard defines the messages as they are exchanged among application
entities and the procedures used to exchange them.  As such, it conceptually
operates at the seventh level of the ISO model for Open System Interconnection
(OSI).  It is primarily concerned with the data content and interrelationship
of messages and with communicating certain application-level error
conditions.<br>
Since the OSI protocols are not universally implemented, the HL7 Working Group
is interested in providing standards that will be useful in the interim.  It is
also recognized that there is now, and will continue to be, interest in
communicating health data among systems operating in communications
environments that provide a high level of functionality, but use protocols
other than ISO OSI.  The universe of environments of interest to HL7 includes,
but is not restricted to:<br>
a)	ad hoc environments that do not provide even basic transport reliability.
Such environments consist of point-to-point RS-232 links, modems, and even
LANs, if their connection to host computers is made via RS-232 communications
links.  Until OSI high level standards become truly prevalent, many healthcare
interfaces will be implemented over such links.  In such an environment, the
HL7 Lower Level Protocols (LLP) may be used between systems to enhance the
capabilities of the communications environment.  The HL7 Lower Level Protocols
are defined in the HL7 Implementation Guide, which is not an official part of
the Standard.<br>
b)	environments that support a robust transport level, but do not meet the high
level requirements.  This includes environments such as TCP/IP, DECNET, and
SNA.<br>
c)	ISO and proprietary networks that implement up to presentation and other
high level services.  IBM's SNA LU6.2 and  SUN Microsystems's NFS are examples
of complete proprietary networks.<br>
d)	two or more applications running on the same physical and/or logical machine
that are not tightly integrated.  In these environments, the messaging
capabilities may be provided by inter-process communications services (e.g.,
Pipes in a UNIX System).<br>
The HL7 Standard assumes that the communications environment will provide the
following capabilities:<br>
a)	error free transmission.  Applications can assume that they correctly
received all of the transmitted bytes in the correct order that they were sent.
This implies that error checking is done at a lower level.  However, sending
applications may not assume that the message was actually received without
receiving an acknowledgment message.<br>
b)	character conversion. If the two machines exchanging data use different
representations of the same character set, the communications environment will
convert the data from one representation to the other.<br>
c)	message length.  HL7 sets no limits on the maximum size of HL7 messages.
The Standard assumes that the communications environment can transport messages
of any length that might be necessary.  In practice, sites may agree to place
some upper bound on the size of messages and may use the message continuation
protocol, described later in this chapter, for messages that exceed the upper
limit.
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	Just as HL7 makes no assumptions about the design or architecture of the
application systems sending and receiving HL7 messages, it makes no assumptions
about the communications environment beyond those listed above.  In particular,
aside from the above assumptions, the communications environment, including its
architecture, design and implementation, is outside the scope of HL7.
</TD>
</TR></TABLE>

<h2>
<A NAME="Heading9">2.4 HL7 MESSAGES </A></h2>

<p>This
section and Sections 2.5, "SEGMENTS," through 2.9, "USE OF ESCAPE SEQUENCES IN
TEXT FIELDS," define the components of messages and provide the methodology for
defining abstract messages that are used in later chapters.   A <b>message</b>
is the atomic unit of data transferred between systems.  It is comprised of a
group of segments in a defined sequence.  Each message has a <b>message
type</b> that defines its purpose.  For example the ADT Message type is used to
transmit portions of a patient's Patient Administration (ADT) data from one
system to another.  A three-character code contained within each message
identifies its type.  These are listed in the Message Type list, Appendix A.<br>
The real-world event that initiates an exchange of messages is called a trigger
event.  (See Section 2.2.1, "Trigger events," for a more detailed description
of trigger events.)  Appendix A contains the codes that represent all defined
trigger events.  These codes represent values such as <b>A patient is
admitted</b> or <b>An order event occurred</b>.  There is a one-to-many
relationship between message types and trigger event codes.  The same trigger
event code may not be associated with more than one message type; however a
message type may be associated with more than one trigger event.<br>
All message types and trigger event codes beginning with the letter "Z" are
reserved for locally-defined messages.  No such codes will be defined within
the HL7 Standard.<br>
This section defines the components of messages and provides the methodology
for defining abstract messages that are used in later chapters.
</p>

<h2>
<A NAME="Heading10">2.5 SEGMENTS</A></h2>

<p>A
<b>segment</b> is a logical grouping of <b>data fields</b>.  Segments of a
message may be required or optional.  They may occur only once in a message or
they may be allowed to repeat.  Each segment is given a name.  For example, the
ADT message may contain the following segments: Message Header (MSH), Event
Type (EVN), Patient ID (PID), and Patient Visit (PV1).<br>
Each segment is identified by a unique three-character code known as the
Segment ID.  Although the actual segments are defined in various chapters, the
ID codes assigned to the various segments are listed in Appendix A.<br>
All segment ID codes beginning with the letter <b>Z</b> are reserved for
locally-defined messages.  No such codes will be defined within the HL7 Standard.
</p>

<h2>
<A NAME="Heading11">2.6 FIELDS</A></h2>

<p>A
field is a string of characters.  HL7 does not care how systems actually store
data within an application.  When fields are transmitted, they are sent as
character strings.  Except where noted, HL7 data fields may take on the null
value.  Sending the null value, which is transmitted as two double quote marks
(""), is different from omitting an optional data field.  The difference
appears when the contents of a message will be used to update a record in a
database rather than create a new one.  If no value is sent, (i.e., it is
omitted) the old value should remain unchanged.  If the null value is sent, the
old value should be changed to null.  (For further details, see Section 2.10,
"MESSAGE CONSTRUCTION RULES," - step 2d.)<br>
The various chapters of the Standard contain segment attribute tables.  These
tables list and describe the data fields in the segment and characteristics of
their usage.  A comprehensive data dictionary of all HL7 fields is provided in
Appendix A.  In defining a segment, the following information is specified
about each field: 
</p>

<h3>
<A NAME="Heading12">2.6.1 Position (sequence within the segment)</A></h3>

<p>Ordinal
position of the data field within the segment.  This number is used to refer to
the data field in the text comments that follow the segment definition table.
In the segment attribute tables this information is provided in the column
labeled <b>SEQ</b>.
</p>

<h3>
<A NAME="Heading13">2.6.2 Maximum length</A></h3>

<p>Maximum
number of characters that one occurrence of the data field may occupy.  The
maximum length is not of conceptual importance in the abstract message or the
HL7 coding rules.  The length of a field is normative.  However, in general
practice it is often negotiated on a site-specific basis.  It is calculated to
include the component and subcomponent separators that are defined below.
Because the maximum length is that of a single occurrence, the repetition
separator is not included in calculating the maximum length (See Section 2.6.5,
"Repetition").  In the segment attribute tables this information is in a column
labeled <b>LEN.</b></p>

<h3>
<A NAME="Heading14">2.6.3 Data type</A></h3>

<p>Restrictions
on the contents of the data field.  There are a number of data types defined by
HL7.  These are explained in Section 2.8, "DATA TYPES."  In the segment
attribute tables this information is provided in the column labeled <b>DT</b>.
</p>

<h3>
<A NAME="Heading15">2.6.4 Optionality</A></h3>

<p>Whether
the field is required, optional, or conditional in a segment.  The designations
are:<br>
</p>
<TABLE>
<TR align="left">
<TD align="left"><p>R</TD>

<TD align="left"><p>-</TD>

<TD align="left"><p>required</TD>
</TR><TR align="left">
<TD align="left"><p>O</TD>

<TD align="left"><p>-</TD>

<TD align="left"><p>optional</TD>
</TR><TR align="left">
<TD align="left"><p>C</TD>

<TD align="left"><p>-</TD>

<TD align="left"><p>conditional
on the trigger event or on some other field(s).  The field definitions
following the segment attribute table should specify the algorithm that defines
the conditionality for this field.
</TD>
</TR><TR align="left">
<TD align="left"><p>X</TD>

<TD align="left"><p>-</TD>

<TD align="left"><p>not
used with this trigger event
</TD>
</TR><TR align="left">
<TD align="left"><p>B</TD>

<TD align="left"><p>-</TD>

<TD align="left"><p>left
in for backward compatibility with previous versions of HL7.  The field
definitions following the segment attribute table should denote the optionality
of the field for prior versions.
</TD>
</TR></TABLE>
<p><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	For Versions 2.3 and higher: the optionality of fields should be explicitly
documented in the segment field definitions that follow each segment definition
table; if the optionality of fields within a segment changes depending on the
trigger event, that optionality should also be explicitly documented.
</p>
<BR></TD></TR></TABLE>
<p></p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:
</b>	For fields defined by HL7 data types containing multiple components or
subcomponents,  the optionality of a given component or subcomponent must be
specified in the detailed field definitions that follow the formal segment
attribute tables. (See also Sections 2.7, "MESSAGE DELIMITERS," 2.8, "DATA
TYPES," and 2.10,  "MESSAGE CONSTRUCTION RULES").
</TD>
</TR></TABLE>
<p><br>
In the segment attribute tables this information is provided in the column
labeled <b>OPT</b>.
</p>

<h3>
<A NAME="Heading16">2.6.5 Repetition</A></h3>

<p>Whether
the field may repeat.  The designations are:<br>
</p>
<TABLE>
<TR align="center">
<TD align="center"><p>N</TD>

<TD align="center"><p>-</TD>

<TD align="center"><p>no
repetition
</TD>
</TR><TR align="center">
<TD align="center"><p>Y</TD>

<TD align="center"><p>-</TD>

<TD align="center"><p>the
field may repeat an indefinite or site-determined number of times
</TD>
</TR><TR align="left">
<TD align="left"><p>(integer)
</TD>

<TD align="left"><p>-</TD>

<TD align="left"><p>the
field may repeat up to the number of times specified by the integer
</TD>
</TR></TABLE>

<p>Each
occurrence may contain the number of characters specified by the field's
maximum length.  (See Section 2.6.2, "Maximum length.")  In the segment
attribute tables this information is provided in the column labeled <b>RP/#.
</b></p>

<h3>
<A NAME="Heading17">2.6.6 Table</A></h3>

<p>HL7
defines a table of values for this field.  An entry in the table number column
means that the table name and the element name are equivalent.<br>
The manner in which HL7 defines the valid values for tables will vary.  Certain
fields, like Patient Location, will have values that vary from institution to
institution.  Such tables are designated user- or site-defined.  Even though
these tables are not defined in the Standard, they are given a user-defined
table number to facilitate implementations.  The IS data type is often used to
encode values for these tables.  Note that some of these tables (e.g.,
location) may reference common master files.<br>
Others, like Event Type (<i>HL7 table 0003</i>), are a part of the HL7 Standard
because they affect the interpretation of the messages that contain them.  They
are limited to the values established by the HL7 Standard.  The ID data type is
most often used to encode values for HL7 tables.  When an HL7 table exists it
is strongly recommended that it be used.  The values are listed in Appendix A.
These HL7 tables also appear in the text in a standard box format (e.g., the<i>
HL7 table 0003 - Event type</i>).  Additions may be included on a site-specific
basis.&#160;<br>
Still other fields contain values that are encoded by reference to other
standards documents.  For example, the encoding for Lab procedures is defined
by ASTM E1238-94.  The CE data type is used to encode values for these
fields.<br>
Finally, there are some user-defined tables that contain values that might be
standardized across institutions but for which no applicable official standard
exists.  For these a set of <b>suggested</b> values may be listed in Appendix
A.  These suggested values appear in the text in a standard non-box format
(e.g<i>., HL7 table 0062 - Event reason </i> in Section 3.3.1.4, "Event reason
code").  It is expected that these values will be used where applicable within
an institution and serve as a basis for extensions as required.  The
appropriate functional committee within HL7 solicits suggestions for additional
values from institutions that are applying the Standard.<br>
Various HL7 data types (AD, CD, CE, CF, CK, CM, CN, CP, CQ, CX, DLN, ED, EI,
FC, ID, IS, JCC, MO, HD, PL, PPN, PT, QSC, RI, RP, SCV, TQ, VH, XAD, XCN, XON,
XPN, and XTN) are used to convey tabular values, or have a component containing
tabular values.  In the segment attribute tables this information is provided
in the column labeled <b>TBL#.  </b>The only exceptions are the CE and CF data
types, which contain the table identifier as part of the data type definition.
</p>

<h3>
<A NAME="Heading18">2.6.7 ID number</A></h3>

<p>Small
integer that uniquely identifies the data field throughout the Standard.   In
the segment definition this information is provided in the column labeled
<b>ITEM #.
</b></p>

<h3>
<A NAME="Heading19">2.6.8 Name </A></h3>

<p>Descriptive
name for the field.  In the segment attribute tables this information is
provided in the column labeled <b>ELEMENT NAME</b>.<br>
When the same name is used in more than one segment, it must have the same data
type and semantic meaning in each segment, but it will have a distinct ID
number (see Section 2.6.7, "ID number") in each distinct segment.   To deal
with any ambiguities arising from this convention, whenever a field is
referenced herein, the segment name and position must always be included.
</p>

<h2>
<A NAME="Heading20">2.7 MESSAGE DELIMITERS</A></h2>

<p>In
constructing a message, certain special characters are used.  They are the
segment terminator, the field separator, the component separator, subcomponent
separator, repetition separator, and escape character.  The segment terminator
is always a carriage return (in ASCII, a hex 0D).  The other delimiters are
defined in the MSH segment, with the field delimiter in the 4th character
position, and the other delimiters occurring as in the field called Encoding
Characters, which is the first field after the segment ID.  The delimiter
values used in the MSH segment are the delimiter values used throughout the
entire message.  In the absence of other considerations, HL7 recommends the
suggested values found in  <i>Figure 2-1 delimiter values</i>.<br>
At any given site, the subset of the possible delimiters may be limited by
negotiations between applications.  This implies that the receiving
applications will use the agreed upon delimiters, as they appear in the Message
Header segment (MSH), to parse the message. 
</p>

<center>Figure 2-1.  Delimiter values
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Delimiter</TD>

<TD align="center"><p>Suggested
Value
</TD>

<TD align="center"><p>Encoding
Character Position
</TD>

<TD align="center"><p>Usage</TD>
</TR><TR align="left">
<TD align="left"><p>Segment
Terminator
</TD>

<TD align="center"><p>&lt;cr&gt;
<br>
hex 0D
</TD>

<TD align="center"><p>-</TD>

<TD align="center"><p>Terminates
a segment record. This value cannot be changed by implementors.
</TD>
</TR><TR align="left">
<TD align="left"><p>Field
Separator
</TD>

<TD align="center"><p>|</TD>

<TD align="center"><p>-</TD>

<TD align="center"><p>Separates
two adjacent data fields within a segment.  It also separates the segment ID
from the first data field in each segment.  
</TD>
</TR><TR align="left">
<TD align="left"><p>Component
Separator
</TD>

<TD align="center"><p>^</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>Separates
adjacent components of data fields where allowed.
</TD>
</TR><TR align="left">
<TD align="left"><p>Subcomponent
Separator
</TD>

<TD align="center"><p>&amp;</TD>

<TD align="center"><p>4</TD>

<TD align="center"><p>Separates
adjacent subcomponents of data fields where allowed.  If there are no
subcomponents, this character may be omitted.
</TD>
</TR><TR align="left">
<TD align="left"><p>Repetition
Separator
</TD>

<TD align="center"><p>~</TD>

<TD align="center"><p>2</TD>

<TD align="center"><p>Separates
multiple occurrences of a field where allowed.
</TD>
</TR><TR align="left">
<TD align="left"><p>Escape
Character
</TD>

<TD align="center"><p>\</TD>

<TD align="center"><p>3</TD>

<TD align="center"><p>Escape
character for use with any field represented by an ST, TX or  FT data type, or
for use with the data (fourth) component of the ED data type   If no escape
characters are used in a message, this character may be omitted. However, it
must be present if subcomponents are used in the message.
</p>
<BR>
</TD>
</TR>
</TABLE>


<h2>
<A NAME="Heading21">2.8 DATA TYPES</A></h2>

<p>The
data types in this section are listed in alphabetical order.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	For data types which contain multiple components or subcomponents, the
examples given in this section do not specify the optionality of the component
or subcomponents.  This must be specified in the field definitions that follow
the formal segment attribute tables to a maximum length of 64K.  
</TD>
</TR></TABLE>


<blockquote>Except
for the TS data type and the maximum or minimum lengths for several other data
types (CE, PN, TX, FT), the field length of HL7 attributes is specified in the
segment attribute tables, and any specific length of the components or
subcomponents of those attributes must be specified in the field definitions
that follow the formal segment attribute tables.  In general, HL7 does not
specify the lengths of components and/or subcomponents.
The data type examples in this Standard are given using the standard HL7
encoding rules, with the delimiter values from <i>Figure 2-1</i> of Section
2.7, "MESSAGE DELIMITERS."  Although only one set of encoding rules is defined
as a standard in HL7 Version 2.3, other encoding rules are possible (but since
they are non-standard, they may only be used by a site-specific agreement).
In certain data type definitions, square brackets,  "[" and "]",  are used to
specify optional parts of a data type (or of a data type component or
subcomponent).</blockquote>
<br>
<center>Figure 2-2.  HL7 data types
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Data
Type Category/ Data type
</TD>

<TD align="center"><p>Data
Type Name
</TD>

<TD align="center"><p>HL7
Section Reference
</TD>

<TD align="center"><p>Notes/Format</TD>
</TR><TR align="left">
<TD align="left"><p>Alphanumeric</TD>

<TD align="left"><BR></TD>
<TD align="left"><BR></TD>
<TD align="left"><BR></TD></TR><TR align="center">
<TD align="center"><p>ST</TD>

<TD align="center"><p>String</TD>

<TD align="center"><p>2.8.40
</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>TX</TD>

<TD align="center"><p>Text
data
</TD>

<TD align="center"><p>2.8.45</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>FT</TD>

<TD align="center"><p>Formatted
text
</TD>

<TD align="center"><p>2.8.19</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>Numerical</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>CQ</TD>

<TD align="center"><p>Composite
quantity with units
</TD>

<TD align="center"><p>2.8.10</TD>

<TD align="center"><p>&lt;quantity
(NM)&gt; ^ &lt;units (CE)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>MO</TD>

<TD align="center"><p>Money</TD>

<TD align="center"><p>2.8.25</TD>

<TD align="center"><p>&lt;quantity
(NM)&gt; ^ &lt;denomination (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>NM</TD>

<TD align="center"><p>Numeric</TD>

<TD align="center"><p>2.8.27</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>SI</TD>

<TD align="center"><p>Sequence
ID
</TD>

<TD align="center"><p>2.8.38</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>SN</TD>

<TD align="center"><p>Structured
numeric
</TD>

<TD align="center"><p>2.8.39</TD>

<TD align="center"><p>&lt;comparator
(ST)&gt; ^ &lt;num1 (NM)&gt; ^ &lt;separator/suffix&gt; ^ &lt;num2 (NM)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Identifier</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>ID</TD>

<TD align="center"><p>Coded
values for HL7 tables
</TD>

<TD align="center"><p>2.8.21</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>IS</TD>

<TD align="center"><p>Coded
value for user-defined tables
</TD>

<TD align="center"><p>2.8.22</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>VID</TD>

<TD align="center"><p>Version
identifier
</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>&lt;version
ID (ID)&gt; ^ &lt;internationalization code (CE)&gt; ^ &lt;international
version ID (CE)
</TD>
</TR><TR align="center">
<TD align="center"><p>HD</TD>

<TD align="center"><p>Hierarchic
designator
</TD>

<TD align="center"><p>2.8.20</TD>

<TD align="center"><p>&lt;namespace
ID (IS)&gt; ^ &lt;universal ID  (ST)&gt; ^ &lt;universal ID type (ID)&gt;<br>
Used only as part of EI and other data types.
</TD>
</TR><TR align="center">
<TD align="center"><p>EI</TD>

<TD align="center"><p>Entity
identifier
</TD>

<TD align="center"><p>2.8.17</TD>

<TD align="center"><p>&lt;entity
identifier (ST)&gt; ^  &lt;namespace ID (IS)&gt; ^ &lt;universal ID (ST)&gt; ^
&lt;universal ID type (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>RP</TD>

<TD align="center"><p>Reference
pointer
</TD>

<TD align="center"><p>2.8.36</TD>

<TD align="center"><p>&lt;pointer
(ST) &gt; ^ &lt; application ID (HD)&gt; ^ &lt;type of data (ID)&gt; <i>^
</i>&lt;subtype (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>PL</TD>

<TD align="center"><p>Person
location
</TD>

<TD align="center"><p>2.8.28</TD>

<TD align="center"><p>&lt;point
of care  (IS )&gt; ^ &lt;room (IS )&gt; ^ &lt;bed (IS)&gt; ^ &lt;facility
(HD)&gt; ^ &lt; location status  (IS )&gt; ^ &lt;person location type (IS)&gt;
^ &lt;building (IS )&gt; ^ &lt;floor (IS )&gt; ^ &lt;location description
(ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>PT</TD>

<TD align="center"><p>Processing
type
</TD>

<TD align="center"><p>2.8.31</TD>

<TD align="center"><p>&lt;processing
ID (ID)&gt; ^ &lt;processing mode (ID)&gt; 
</TD>
</TR><TR align="center">
<TD align="center"><p>Date/Time</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>DT</TD>

<TD align="center"><p>Date</TD>

<TD align="center"><p>2.8.15</TD>

<TD align="center"><p>YYYY[MM[DD]]</TD>
</TR><TR align="center">
<TD align="center"><p>TM</TD>

<TD align="center"><p>Time</TD>

<TD align="center"><p>2.8.41</TD>

<TD align="center"><p>HH[MM[SS[.S[S[S[S]]]]]][+/-ZZZZ]</TD>
</TR><TR align="center">
<TD align="center"><p>TS</TD>

<TD align="center"><p>Time
stamp
</TD>

<TD align="center"><p>2.8.44</TD>

<TD align="center"><p>YYYY[MM[DD[HHMM[SS[.S[S[S[S]]]]]]]][+/-ZZZZ]
^ &lt;degree of precision&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Code
Values
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>CE</TD>

<TD align="center"><p>Coded
element
</TD>

<TD align="center"><p>2.8.3</TD>

<TD align="center"><p>&lt;identifier
(ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system (ST)&gt; ^
&lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^ &lt;name of
alternate coding system (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>CNE</TD>

<TD align="center"><p>Coded
with no exceptions
</TD>

<TD align="center"><p>2.8.8</TD>

<TD align="center"><p>&lt;identifier
(ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system (ST)&gt; ^
&lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^ &lt;name of
alternate coding system (ST)&gt; ^ &lt;coding system version ID (ST)&gt; ^
alternate coding system version ID (ST)&gt; ^ &lt;original text (ST) &gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>CWE</TD>

<TD align="center"><p>Coded
with exceptions
</TD>

<TD align="center"><p>2.8.11</TD>

<TD align="center"><p>&lt;identifier
(ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system (ST)&gt; ^
&lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^ &lt;name of
alternate coding system (ST)&gt; ^ &lt;coding system version ID (ST)&gt; ^
alternate coding system version ID (ST)&gt; ^ &lt;original text (ST) &gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>CF</TD>

<TD align="center"><p>Coded
element with formatted values 
</TD>

<TD align="center"><p>2.8.4</TD>

<TD align="center"><p>&lt;identifier
(ID)&gt; ^ &lt;formatted text (FT)&gt; ^ &lt;name of coding system (ST)&gt; ^
&lt;alternate identifier (ID)&gt; ^ &lt;alternate formatted text (FT)&gt; ^
&lt;name of alternate coding system (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>CK</TD>

<TD align="center"><p>Composite
ID with check digit
</TD>

<TD align="center"><p>2.8.5</TD>

<TD align="center"><p>&lt;ID
number (NM)&gt; ^ &lt;check digit (NM)&gt; ^ &lt;code identifying the check
digit scheme employed (ID)&gt; ^ &lt; assigning authority  (HD)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>CN</TD>

<TD align="center"><p>Composite
ID number and name
</TD>

<TD align="center"><p>2.8.7</TD>

<TD align="center"><p>&lt;ID
number (ST)&gt; ^ &lt;family name (ST)&gt; ^ &lt;given name (ST)&gt; ^
&lt;middle initial or name (ST)&gt; ^ &lt;suffix (e.g., JR or III) (ST)&gt; ^
&lt;prefix (e.g., DR) (ST)&gt; ^ &lt;degree (e.g., MD) (ST)&gt; ^ &lt;source
table (IS)&gt; ^ &lt;assigning authority (HD)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>CX</TD>

<TD align="center"><p>Extended
composite ID with check digit
</TD>

<TD align="center"><p>2.8.12</TD>

<TD align="center"><p>&lt;ID
(ST)&gt; ^ &lt;check digit (ST)&gt; ^ &lt;code identifying the check digit
scheme employed (ID)&gt; ^ &lt; assigning authority (HD)&gt; ^ &lt;identifier
type code (IS)&gt; ^ &lt; assigning facility (HD)
</TD>
</TR><TR align="center">
<TD align="center"><p>XCN</TD>

<TD align="center"><p>Extended
composite ID number and name
</TD>

<TD align="center"><p>2.8.49</TD>

<TD align="center"><p>In
Version 2.3, use instead of the CN data type.  &lt;ID number (ST)&gt; ^
&lt;family name (ST)&gt; &amp; &lt;last_name_prefix (ST) ^ &lt;given name
(ST)&gt; ^ &lt;middle initial or name (ST)&gt; ^ &lt;suffix (e.g., JR or III)
(ST)&gt; ^ &lt;prefix (e.g., DR) (ST)&gt; ^ &lt;degree (e.g., MD) (ST)&gt; ^
&lt;source table (IS)&gt; ^ &lt;assigning authority (HD)&gt; ^ &lt;name type
code (ID)&gt;  ^ &lt;identifier check digit (ST)&gt; ^ &lt;code identifying the
check digit scheme employed (ID)&gt; ^ &lt;identifier type code (IS)&gt; ^
&lt;assigning facility (HD)&gt; ^ &lt;name representation code (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Generic</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>CM</TD>

<TD align="center"><p>Composite</TD>

<TD align="center"><p>2.8.6</TD>

<TD align="center"><p>No
new CM's are allowed after HL7 Version 2.2. Hence there are no new CM's in
Version 2.3.
</TD>
</TR><TR align="center">
<TD align="center"><p>Demographics</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>AD</TD>

<TD align="center"><p>Address</TD>

<TD align="center"><p>2.8.1</TD>

<TD align="center"><p>&lt;street
address (ST)&gt; ^ &lt; other designation (ST)&gt; ^ &lt;city (ST)&gt; ^
&lt;state or province (ST)&gt; ^ &lt;zip or postal code (ST)&gt; ^ &lt;country
(ID)&gt; ^ &lt;address type (ID)&gt; ^ &lt;other geographic designation (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>PN</TD>

<TD align="center"><p>Person
name
</TD>

<TD align="center"><p>2.8.30</TD>

<TD align="center"><p>&lt;family
name (ST)&gt; ^ &lt;given name (ST)&gt; ^ &lt;middle initial or name (ST)&gt; ^
&lt;suffix (e.g., JR or III) (ST)&gt; ^ &lt;prefix (e.g., DR) (ST)&gt; ^
&lt;degree (e.g., MD) (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>TN</TD>

<TD align="center"><p>Telephone
number
</TD>

<TD align="center"><p>2.8.42</TD>

<TD align="center"><p>[NN]
[(999)]999-9999[X99999][B99999][C any text]
</TD>
</TR><TR align="center">
<TD align="center"><p>XAD</TD>

<TD align="center"><p>Extended
address
</TD>

<TD align="center"><p>2.8.48</TD>

<TD align="center"><p>In
Version 2.3, replaces the AD data type.  &lt;street address (ST)&gt; ^
&lt;other designation (ST)&gt; ^ &lt;city (ST)&gt; ^ &lt;state or province
(ST)&gt; ^ &lt;zip or postal code (ST)&gt; ^ &lt;country (ID)&gt; ^ &lt;
address type (ID)&gt;<b> </b>^ &lt;other geographic designation (ST)&gt; ^<b>
</b>&lt;county/parish code (IS)&gt; ^ &lt;census tract (IS)&gt; ^ &lt;address
representation code (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>XPN</TD>

<TD align="center"><p>Extended
person name
</TD>

<TD align="center"><p>2.8.51</TD>

<TD align="center"><p>In
Version 2.3, replaces the PN data type.  &lt;family name (ST)&gt; ^ &lt;given
name (ST)&gt; &amp; &lt;last_name_prefix (ST)&gt; ^ &lt;middle initial or name
(ST)&gt; ^ &lt;suffix (e.g., JR or III) (ST)&gt; ^ &lt;prefix (e.g., DR)
(ST)&gt; ^ &lt;degree (e.g., MD) (IS)&gt; ^<b> </b>&lt;name type code (ID) &gt;
^ &lt;name representation code (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>XON</TD>

<TD align="center"><p>Extended
composite name and ID number for organizations
</TD>

<TD align="center"><p>2.8.50</TD>

<TD align="center"><p>&lt;organization
name (ST)&gt; ^ &lt;organization name type code (IS)&gt; ^ &lt;ID number
(NM)&gt; ^ &lt;check digit (NM)&gt; ^ &lt;code identifying the check digit
scheme employed (ID)&gt; ^ &lt;assigning authority  (HD)&gt; ^ &lt;identifier
type code (IS)&gt; ^ &lt;assigning facility ID (HD)&gt; ^ &lt;name
representation code (ID)&gt; 
</TD>
</TR><TR align="center">
<TD align="center"><p>XTN</TD>

<TD align="center"><p>Extended
telecommunications number
</TD>

<TD align="center"><p>2.8.52</TD>

<TD align="center"><p>In
Version 2.3, replaces the TN data type.  [<b>N</b>NN] [(999)]999-9999 [X99999]
[B99999] [C any text] ^  &lt;telecommunication use code (ID)&gt; ^
&lt;telecommunication equipment type (ID)&gt; ^ &lt;email address (ST)&gt; ^
&lt;country code (NM)&gt; ^ &lt;area/city code (NM)&gt; ^ &lt;phone number
(NM)&gt; ^ &lt;extension (NM)&gt; ^ &lt;any text (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Specialty/Chapter
Specific
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>Waveform
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>CD</TD>

<TD align="center"><p>Channel
definition
</TD>

<TD align="center"><p>2.8.2</TD>

<TD align="center"><p>For
waveform data only, see Chapter 7, Section 7.15.3.  &lt;channel identifier
(*)&gt; ^ &lt;channel number (NM)&gt; &amp; &lt;channel name (ST)&gt; ^
&lt;electrode names (*) &gt; ^ &lt;channel sensitivity/units (*) &gt; ^
&lt;calibration parameters (*)&gt; ^ &lt;sampling frequency (NM)&gt; ^
&lt;minimum/maximum data values (*)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>MA</TD>

<TD align="center"><p>Multiplexed
array
</TD>

<TD align="center"><p>2.8.24</TD>

<TD align="center"><p>For
waveform data only, see Chapter 7, Section 7.15.2.  &lt;sample 1 from channel 1
(NM)&gt; ^  &lt;sample 1 from channel 2 (NM)&gt; ^ &lt;sample 1 from channel 3
(NM)&gt; ...~&lt;sample 2 from channel 1 (NM)&gt; ^  &lt;sample 2 from channel
2 (NM)&gt; ^ &lt;sample 2 from channel 3 (NM)&gt; ...~
</TD>
</TR><TR align="center">
<TD align="center"><p>NA</TD>

<TD align="center"><p>Numeric
array
</TD>

<TD align="center"><p>2.8.26</TD>

<TD align="center"><p>For
waveform data only, see Chapter 7, Section 7.15.1.  &lt;value1 (NM)&gt; ^
&lt;value2 (NM)&gt; ^  &lt;value3 (NM)&gt; ^  &lt;value4 (NM)&gt; ^ ...
</TD>
</TR><TR align="center">
<TD align="center"><p>ED</TD>

<TD align="center"><p>Encapsulated
data
</TD>

<TD align="center"><p>2.8.16</TD>

<TD align="center"><p>Supports
ASCII MIME-encoding of binary data.  &lt;source application (HD) &gt; ^
&lt;type of data (ID)&gt; ^ &lt;data subtype (ID)&gt; ^ &lt;encoding (ID)&gt; ^
&lt;data (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Price
Data
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>CP</TD>

<TD align="center"><p>Composite
price
</TD>

<TD align="center"><p>2.8.9</TD>

<TD align="center"><p>In
Version 2.3, replaces the MO data type.  &lt;price (MO)&gt; ^ &lt;price type
(ID)&gt; ^ &lt;from value (NM)&gt; ^  &lt;to value (NM)&gt; ^ &lt;range units
(CE)&gt; ^ &lt;range type (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Patient
Administration /Financial Information
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>FC</TD>

<TD align="center"><p>Financial
class
</TD>

<TD align="center"><p>2.8.18</TD>

<TD align="center"><p>&lt;financial
class (ID)&gt; ^ &lt;effective date (TS)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Extended
Queries 
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>QSC</TD>

<TD align="center"><p>Query
selection criteria
</TD>

<TD align="center"><p>2.8.33</TD>

<TD align="center"><p>&lt;name
of field (ST)&gt; ^ &lt;relational operator (ID)&gt; ^ &lt;value (ST)&gt; ^
&lt;relational conjunction (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>QIP</TD>

<TD align="center"><p>Query
input parameter list
</TD>

<TD align="center"><p>2.8.32</TD>

<TD align="center"><p>&lt;field
name (ST) &gt; ^ &lt;value1 (ST) &amp; value2 (ST) &amp; value3 (ST) ...&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>RCD</TD>

<TD align="center"><p>Row
column definition
</TD>

<TD align="center"><p>2.8.34</TD>

<TD align="center"><p>&lt;HL7
item number (ST)&gt; ^ &lt;HL7 data type (ST)&gt; ^ &lt;maximum column width
(NM)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>Master
Files
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>DLN</TD>

<TD align="center"><p>Driver's
license number
</TD>

<TD align="center"><p>2.8.13</TD>

<TD align="center"><p>&lt;license
number (ST)&gt; ^ &lt;issuing state, province, country (IS)&gt; ^
&lt;expiration date (DT)
</TD>
</TR><TR align="center">
<TD align="center"><p>JCC
</TD>

<TD align="center"><p>Job
code/class
</TD>

<TD align="center"><p>2.8.23</TD>

<TD align="center"><p>&lt;job
code (IS)&gt; ^ &lt;job class (IS)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>VH</TD>

<TD align="center"><p>Visiting
hours
</TD>

<TD align="center"><p>2.8.46</TD>

<TD align="center"><p>&lt;start
day range (ID)&gt; ^ &lt;end day range (ID)&gt; ^ &lt;start hour range (TM)&gt;
^ &lt;end hour range (TM)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Medical
Records/Information Management
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>PPN</TD>

<TD align="center"><p>Performing
person time stamp
</TD>

<TD align="center"><p>2.8.29</TD>

<TD align="center"><p>&lt;ID
number (ST)&gt; ^ &lt;family name (ST)&gt; ^ &amp; &lt;last name prefix
(ST)&gt; ^ &lt;given name (ST)&gt; ^ &lt;middle initial or name (ST)&gt; ^
&lt;suffix (e.g., JR or III) (ST)&gt; ^ &lt;prefix (e.g., DR) (ST)&gt; ^
&lt;degree (e.g., MD) (ST)&gt; ^ &lt;source table (IS)&gt; ^ &lt;assigning
authority (HD)&gt; ^ &lt;name type code(ID)&gt;  ^ &lt;identifier check digit
(ST)&gt; ^ &lt;code identifying the check digit scheme employed (ID )&gt; ^
&lt;identifier type code (IS)&gt; ^ &lt;assigning facility (HD)&gt; ^ &lt;
date/time action performed (TS)&gt; ^ &lt;name representation code (ID)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>Time
Series:
</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>DR</TD>

<TD align="center"><p>Date/time
range
</TD>

<TD align="center"><p>2.8.14</TD>

<TD align="center"><p>Scheduling
Chapter Only:<br>
&lt;range start date/time (TS)&gt; ^ &lt;range end date/time (TS)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>RI</TD>

<TD align="center"><p>Repeat
interval
</TD>

<TD align="center"><p>2.8.35</TD>

<TD align="center"><p>Scheduling
Chapter Only:<br>
&lt;repeat pattern (IS)&gt; ^ &lt;explicit time interval (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>SCV
</TD>

<TD align="center"><p>Scheduling
class value pair
</TD>

<TD align="center"><p>2.8.37</TD>

<TD align="center"><p>Scheduling
Chapter Only:<br>
&lt;parameter class (IS)&gt; ^ &lt;parameter value (ST)&gt;
</TD>
</TR><TR align="center">
<TD align="center"><p>TQ</TD>

<TD align="center"><p>Timing/quantity</TD>

<TD align="center"><p>2.8.43</TD>

<TD align="center"><p>For
timing/quantity specifications for orders, see Chapter 4, Section 4.4.
&lt;quantity (CQ)&gt; ^ &lt;interval (*)&gt; ^ &lt;duration (*)&gt; ^ &lt;start
date/time (TS)&gt; ^ &lt;end date/time (TS)&gt; ^ &lt;priority (ST)&gt; ^
&lt;condition (ST)&gt; ^ &lt;text (TX)&gt; ^ &lt;conjunction (ID)&gt; ^
&lt;order sequencing (*)&gt; ^ &lt;performance duration (CE)&gt; ^ &lt;total
occurrences (NM)&gt;
</TD>
</TR></TABLE>

<blockquote>*
 for subcomponents of these elements please refer to the definition in the text.
</blockquote>
<h3>
<A NAME="Heading22">2.8.1 AD - address</A></h3>

<p><tt>Components:
 &lt;street address (ST)&gt; ^ &lt; other designation (ST)&gt; ^ &lt;city
(ST)&gt; ^ &lt;state or province (ST)&gt; ^ &lt;zip or postal code (ST)&gt; ^
&lt;country (ID)&gt; ^ &lt;address type (ID)&gt; ^ &lt;other geographic
designation (ST)&gt;</tt><br>
Example:<br>
|10 ASH LN^#3^LIMA^OH^48132|</p>

<h4>
<A NAME="Heading23">2.8.1.1 Street address (ST)</A></h4>


<h4>
<A NAME="Heading24">2.8.1.2 The street or mailing address of a person or institution.  </A></h4>


<h4>
<A NAME="Heading25">2.8.1.3 Other designation (ST)</A></h4>

<blockquote>Second
line of address.  In general, it qualifies address.  Examples:  Suite 555 or
Fourth Floor.</blockquote>
<h4>
<A NAME="Heading26">2.8.1.4 City (ST)</A></h4>


<h4>
<A NAME="Heading27">2.8.1.5 State or province (ST)</A></h4>

<p>State
or province should be represented by the official postal service codes for that
country.</p>

<h4>
<A NAME="Heading28">2.8.1.6 Zip or postal code (ST)</A></h4>

<p>Zip
or postal codes should be represented by the official codes for that country.
In the US, the zip code takes the form 99999[-9999], while the Canadian postal
code takes the form A9A-9A9.</p>

<h4>
<A NAME="Heading29">2.8.1.7 Country (ID)</A></h4>

<p>Defines
 the country of the address.   ISO 3166 provides a list of country codes that
may be used<a name="fnB1" href="#fn1">[2]</a>. </p>

<h4>
<A NAME="Heading30">2.8.1.8 Address type (ID)</A></h4>

<p>Type
is optional and defined by <i>HL7</i> <i>table 0190 - Address type</i>.</p>

<h4>
<A NAME="Heading31">2.8.1.9 Other geographic designation (ST)</A></h4>

<p>Other
geographic designation includes county, bioregion, SMSA, etc.
</p>

<center>Table 0190 - Address type
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>C</TD>

<TD align="center"><p>Current
Or Temporary
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Permanent</TD>
</TR><TR align="center">
<TD align="center"><p>M</TD>

<TD align="center"><p>Mailing</TD>
</TR><TR align="center">
<TD align="center"><p>B</TD>

<TD align="center"><p>Firm/Business</TD>
</TR><TR align="center">
<TD align="center"><p>O</TD>

<TD align="center"><p>Office</TD>
</TR><TR align="center">
<TD align="center"><p>H</TD>

<TD align="center"><p>Home</TD>
</TR><TR align="center">
<TD align="center"><p>N</TD>

<TD align="center"><p>Birth
(nee)
</TD>
</TR><TR align="center">
<TD align="center"><p>F</TD>

<TD align="center"><p>Country
Of Origin
</TD>
</TR><TR align="center">
<TD align="center"><p>L</TD>

<TD align="center"><p>Legal
Address
</TD>
</TR></TABLE>


<h3>
<A NAME="Heading32">2.8.2 CD - channel definition</A></h3>

<p><tt>Components:
 &lt;channel identifier (*)&gt; ^ &lt;channel number (NM)&gt; &amp; &lt;channel
name (ST)&gt; ^ &lt;electrode names (CM)&gt; ^ &lt;channel sensitivity/units
(CM)&gt; ^ &lt;calibration parameters (CM)&gt; ^ &lt;sampling frequency
(NM)&gt; ^ &lt;minimum/maximum data values (CM)&gt; </tt><br>
This data type is used for labeling of digital waveform data.  See Chapter 7,
Section 7.15.3, "CD - channel definition," for a complete description of this
data type.
</p>

<h3>
<A NAME="Heading33">2.8.3 CE - coded element  </A></h3>

<p><tt>Components:
 &lt;identifier (ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Example:<br>
|F-11380^CREATININE^I9^2148-5^CREATININE^LN|<br>
This data type transmits codes and the text associated with the code.  To allow
all six components of a CE data type to be valued, the maximum length of this
data type must be at  least 60 (see Section 2.6.2, "Maximum length")<b><i>. </i></b></p>

<h4>
<A NAME="Heading34">2.8.3.1 Identifier (ST)</A></h4>

<p>Sequence
of characters (the code) that uniquely identifies the item being referenced by
the &lt;text&gt;.  Different coding schemes will have different elements here.</p>

<h4>
<A NAME="Heading35">2.8.3.2 Text (ST)</A></h4>

<p>Name
or description of the item in question.  E.g., myocardial infarction or X-ray
impression.  Its data type is string (ST).</p>

<h4>
<A NAME="Heading36">2.8.3.3 Name of coding system (ST)</A></h4>

<p>Each
coding system is assigned a unique identifier.  This component will serve to
identify the coding scheme being used in the identifier component.  The
combination of the <b>identifier</b> and <b>name of coding system</b>
components will be a unique code for a data item  Each system has a unique
identifier. ASTM E1238-94, Diagnostic, procedure, observation, drug ID, and
health outcomes coding systems are identified in the tables in Section 7.1.4,
"Coding schemes."  Others may be added as needed.  When an HL7 table is used
for a CE data type, the <b><i>name of coding system</i></b> component is
defined as <b><i>HL7nnnn</i></b> where <b><i>nnnn</i></b> is the HL7 table
number.
</p>

<h4>
<A NAME="Heading37">2.8.3.4 Alternate components </A></h4>

<p>These
three components are defined analogously to the above for the alternate or
local coding system.  If the Alternate Text component is absent, and the
Alternate Identifier is present, the Alternate Text will be taken to be the
same as the Text component.  If the Alternate Coding System component is
absent, it will be taken to mean the locally-defined system. <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	The presence of two sets of equivalent codes in this data type is semantically
different from a repetition of a CE-type field.  With repetition, several
distinct codes (with distinct meanings) may be transmitted.
</TD>
</TR></TABLE>

<p></p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	For HL7-defined tables which have not been adopted from some existing
standard, the third component, "name of coding system," is constructed by
appending the table number to the string "HL7."  Thus, the field<i>
RXR-2-site</i>, is a CE data type which refers to HL7 table number 0163. Its
"name of coding system" component is "HL70163".
</TD>
</TR></TABLE>
<p><i>Figures
7-2</i> and <i>7-3</i> list many diagnostic, procedure, observation, drug, and
health outcomes coding systems.  Guidelines for their use are presented in
Chapter 7, Section 7.1, "Introduction and Overview."
</p>

<h3>
<A NAME="Heading38">2.8.4 CF - coded element with formatted values</A></h3>

<p>This
data type transmits codes and the formatted text associated with the code.
This data type can be used to transmit for the first time the formatted text
for the <b>canned text</b> portion of a report, for example, a standard
radiologic description for a normal chest X-ray.  The receiving system can
store this information and in subsequent messages only the identifier need be
sent.  Another potential use of this data type is transmitting master file
records that contain formatted text.  This data type has six components as
follows:<br>
<tt>Components:  &lt;identifier (ID)&gt; ^ &lt;formatted text (FT)&gt; ^
&lt;name of coding system (ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^
&lt;alternate formatted text (FT)&gt; ^ &lt;name of alternate coding system
(ST)&gt;</tt><br>
The components, primary and alternate, are defined exactly as in the CE data
type with the exception of the second and fifth components, which are of the
formatted text data type.  Example: <br>
OBX||CF|71020^CXR^CPMC||79989^<br>
\H\Description:\N\\.sp\\ti+4\Heart is not enlarged.  There is no evidence of<br>
pneumonia, effusion, pneumothorax or any masses.\.sp+3\\H\Impression:<br>
\N\\.sp\\.ti+4\Negative chest.^CPMC
</p>

<h3>
<A NAME="Heading39">2.8.5 CK - composite ID with check digit</A></h3>

<p><tt>Components:
 &lt;ID number (NM)&gt; ^ &lt;check digit (NM)&gt; ^ &lt;code identifying the
check digit scheme employed (ID)&gt; ^ &lt; assigning authority
(HD)&gt;</tt><br>
Example:  <br>
|128952^6^M11^ADT01|<br>
This data type is used for certain fields that commonly contain check digits,
e.g., <i>PID-3-patient Identifier list</i>.  If a site is not using check
digits for a particular CK field, the second and third components are not valued.</p>

<h4>
<A NAME="Heading40">2.8.5.1 ID number (NM)</A></h4>


<h4>
<A NAME="Heading41">2.8.5.2 Check digit (NM)</A></h4>

<p>The
check digit in this data type is <u>not</u> an add-on produced by the message
processor.  It is the check digit that is part of the identifying number used
in the sending application.  If the sending application does not include a
self-generated check digit in the identifying number, this component should be
valued null.</p>

<h4>
<A NAME="Heading42">2.8.5.3 Code identifying the check digit scheme employed (ID)</A></h4>

<p>The
check digit scheme codes are defined in <i>HL7</i> <i>table 0061 - Check digit
scheme</i>.
</p>

<center>Table 0061 - Check digit scheme
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>M10</TD>

<TD align="center"><p>Mod
10 algorithm
</TD>
</TR><TR align="center">
<TD align="center"><p>M11</TD>

<TD align="center"><p>Mod
11 algorithm
</TD>
</TR><TR align="center">
<TD align="center"><p>ISO</TD>

<TD align="center"><p>ISO
7064: 1983
</TD>
</TR><TR align="center">
<TD align="center"><p>NPI</TD>

<TD align="center"><p>Check
digit algorithm in the US National Provider Identifier
</TD>
</TR></TABLE>
<p>The
algorithm for calculating a Mod10 check digit is as follows:<br>
Assume you have an identifier = 12345.  Take the odd digit positions, counting
from the right, i.e.,  531, multiply this number by 2 to get 1062.  Take the
even digit positions, starting from the right (i.e., 42),  prepend these to the
1062 to get 421062.  Add all of these six digits together to get 15.  Subtract
this number from the next highest multiple of 10, i.e., 20 - 15 to get 5.  The
Mod10 check digit is 5.  The Mod10 check digit for 401 is 0; for 9999, it's 4;
for 99999999, it's 8.<br>
The algorithm for calculating a Mod11 check digit is as follows:<br>
<b>Terms</b><br>
</p>
<TABLE>

<TR align="left">
<TD align="left"><p>d</TD>

<TD align="left"><p>=</TD>

<TD align="left"><p>digit
of number starting from units digit, followed by 10's position, followed by
100's position, etc.
</TD>
</TR><TR align="left">
<TD align="left"><p>w</TD>

<TD align="left"><p>=</TD>

<TD align="left"><p>weight
of digit position starting with the units position, followed by 10's position,
followed by 100's position etc.  Values for w = 2, 3, 4, 5, 6, 7, 2, 3, 4, 5,
6, 7, etc. (repeats for each group of 6 digits)
</TD>
</TR><TR align="left">
<TD align="left"><p>c</TD>

<TD align="left"><p>=</TD>

<TD align="left"><p>check
digit 
</TD>
</TR></TABLE>
<p><b>Calculation</b><br>
</p>
<TABLE>

<TR align="left">
<TD align="left"><p>(Step
1) m
</TD>

<TD align="left"><p>=</TD>

<TD align="left"><p>sum
of (d * w) for positions 1, 2, etc. starting with units digit<br>
for d = digit value starting with units position to highest order<br>
for w = weight value from 2 to 7 for every six positions starting with units
digit
</TD>
</TR><TR align="left">
<TD align="left"><p>(Step
2) c1
</TD>

<TD align="left"><p>=</TD>

<TD align="left"><p>m
mod 11
</TD>
</TR><TR align="left">
<TD align="left"><p>(Step
3) if c1
</TD>

<TD align="left"><p>=</TD>

<TD align="left"><p>0
then reset c1 = 1
</TD>
</TR><TR align="left">
<TD align="left"><p>(Step
4)
</TD>

<TD align="left"><p>=</TD>

<TD align="left"><p>(11
- c1) mod 10
</TD>
</TR></TABLE>
<p>Example:<br>
if the number is 1234567, then the mod 11 check digit = 4 <br>
The calculations are:<br>
M  = (7*2)+(6*3)+(5*4)+(4*5)+(3*6)+(2*7)+(1*2)<br>
   = 14 + 18 + 20 + 20 + 18 + 14 + 2	<br>
   = 106<br>
c1 = 106 mod 11<br>
   = 7<br>
c  = (11-c1) mod 10<br>
   =  4 mod 10<br>
   =  4<br>
Other variants of these check digit algorithms exist and may be used by local
bilateral site agreement.</p>

<h4>
<A NAME="Heading43">2.8.5.4 Assigning authority (HD)</A></h4>

<p>The
assigning authority is a unique name of the system that creates the data.  It
is an HD data type.  It is equivalent to the application ID of the placer or
filler order number (see Chapter 4).  Assigning authorities are unique across a
given HL7 implementation.
</p>

<h3>
<A NAME="Heading44">2.8.6 CM - composite</A></h3>

<p>A
field that is a combination of other meaningful data fields.  Each portion is
called a <b>component</b>.  The specific components of CM fields are defined
within the field descriptions.  Certain other composites have been separately
identified and are described below.  <b><i>The CM data type is maintained
strictly for backward compatibility and may not be used for the definition of
new fields.</i></b> Wherever a component of an HL7 field is itself an HL7 data
type which contains components, its delimiters are demoted by one.  Thus a
component designated as a CE data type should be encoded as <tt>&lt;identifier
&amp; text &amp; name of coding system&gt;</tt> (see Section 2.8.3, "CE - coded
element").  Note that since HL7 delimiters are not recursive, an HL7 data type
containing components cannot be a subcomponent.  When this level of detail is
needed, each component of the HL7 data type can be encoded as a separate
subcomponent.  For an example of this, see the encoding of the filler order
number in the order sequencing component of the Timing/Quantity data type.
</p>

<h3>
<A NAME="Heading45">2.8.7 CN - composite ID number and name</A></h3>

<p><tt>Components:
 &lt;ID number (ST)&gt; ^ &lt;family name (ST)&gt; ^ &lt;given name (ST)&gt; ^
&lt;middle initial or name (ST)&gt; ^ &lt;suffix (e.g., JR or III) (ST)&gt; ^
&lt;prefix (e.g., DR) (ST)&gt; ^ &lt;degree (e.g., MD) (ST)&gt; ^ &lt;source
table (IS)&gt; ^ &lt;assigning authority (HD)&gt;</tt><br>
A field identifying a person both as a coded value and with a text name.  For
specific fields, individual sites may elect to omit the ID or the name.
Example:  <br>
|12372^RIGGINS^JOHN^""^""^""^MD^ADT1|<br>
|12372^^^^^^^ADT1|<br>
|^RIGGINS^JOHN^""^""^""^MD|</p>

<h4>
<A NAME="Heading46">2.8.7.1 ID number (ST)</A></h4>

<p>Coded
ID according to a user-defined table, defined by the 8th component.  If the
first component is present, either the source table or the assigning authority
must be valued.</p>

<h4>
<A NAME="Heading47">2.8.7.2 Family name (ST)</A></h4>


<h4>
<A NAME="Heading48">2.8.7.3 Given name (ST)</A></h4>


<h4>
<A NAME="Heading49">2.8.7.4 Middle initial or name (ST)</A></h4>


<h4>
<A NAME="Heading50">2.8.7.5 Suffix (ST)</A></h4>

<p>Used
to specify a name suffix (e.g., Jr. or III).</p>

<h4>
<A NAME="Heading51">2.8.7.6 Prefix (ST)</A></h4>

<p>Used
to specify a name prefix (e.g., Dr.).</p>

<h4>
<A NAME="Heading52">2.8.7.7 Degree (ST)</A></h4>

<p>Used
to specify an educational degree (e.g., MD).</p>

<h4>
<A NAME="Heading53">2.8.7.8 Source table (IS)</A></h4>

<p>Refer
to <i>user-defined table 0297 - CN ID source</i>  for suggested values.  Used
to delineate the first component.</p>

<h4>
<A NAME="Heading54">2.8.7.9 Assigning authority (HD)</A></h4>

<p>In
this version an optional 9th component, the assigning authority (HD), has been
added.  It is an HD data type (see Section 2.8.20, "HD - hierarchic designator").
</p>

<h3>
<A NAME="Heading55">2.8.8 CNE - coded with no exceptions</A></h3>

<p><tt>Components:
 &lt;identifier (ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt; ^ &lt;coding system version ID
(ST)&gt; ^ alternate coding system version ID (ST)&gt; ^ &lt;original text (ST)
&gt;  </tt></p>

<h4>
<A NAME="Heading56">2.8.8.1 Identifier (ST)</A></h4>

<p>Sequence
of characters (the code) that uniquely identifies the item being referenced by
the &lt;text&gt;.  Different coding schemes will have different elements here.</p>

<h4>
<A NAME="Heading57">2.8.8.2 Text (ST)</A></h4>

<p>Name
or description of the item in question.  E.g., myocardial infarction or X-ray
impression.  Its data type is string (ST).</p>

<h4>
<A NAME="Heading58">2.8.8.3 Name of coding system (ST)</A></h4>

<p>Each
coding system is assigned a unique identifier.  This component will serve to
identify the coding scheme being used in the identifier component.  The
combination of the <b>identifier</b> and <b>name of coding system</b>
components will be a unique code for a data item  Each system has a unique
identifier. ASTM E1238-94, Diagnostic, procedure, observation, drug ID, and
health outcomes coding systems are identified in the tables in Section 7.1.4,
"Coding schemes."  Others may be added as needed.  When an HL7 table is used
for a CE data type, the <b><i>name of coding system</i></b> component is
defined as <b><i>HL7nnnn</i></b> where <b><i>nnnn</i></b> is the HL7 table
number.</p>

<h4>
<A NAME="Heading59">2.8.8.4 Alternate components (4, 5, 6) (for components 1, 2, 3)</A></h4>

<p>These
three components are defined analogously to the above for the alternate or
local coding system.  If the Alternate Text component is absent, and the
Alternate Identifier is present, the Alternate Text will be taken to be the
same as the Text component.  If the Alternate Coding System component is
absent, it will be taken to mean the locally-defined system. </p>

<h4>
<A NAME="Heading60">2.8.8.5 Coding system version ID (ST)</A></h4>

<p>This
is the version ID for the coding system identified by components 1-3.</p>

<h4>
<A NAME="Heading61">2.8.8.6 Alternate coding system version ID (ST)</A></h4>

<p>This
is the version ID for the coding system identified by components 4-5. It
belongs conceptually to the group of Alternate components (see note 2.8.3.4)
and appears here only for reasons of backwards compatibility.</p>

<h4>
<A NAME="Heading62">2.8.8.7 Original text</A></h4>

<p>The
original text that was available to an automated process or a human before a
specific code was assigned
</p>

<h3>
<A NAME="Heading63">2.8.9 CP - composite price</A></h3>

<p><tt>Components:
 &lt;price (MO)&gt; ^ &lt;price type (ID)&gt; ^ &lt;from value (NM)&gt; ^
&lt;to value (NM)&gt; ^ &lt;range units (CE)&gt; ^ &lt;range type
(ID)&gt;</tt><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	This data type is often used to define a repeating field within a given segment.
</TD>
</TR></TABLE>
<p>Example:<br>

|100.00&amp;USD^UP^0^9^min^P~50.00&amp;USD^UP^10^59^min^P~10.00&amp;USD^UP^60^999^P~50.00&amp;USD^AP~200.00&amp;USD^PF<br>
~80.00&amp;USD^DC|</p>

<h4>
<A NAME="Heading64">2.8.9.1 Price (MO)</A></h4>

<p>The
only required component; usually containing a decimal point.  Note that each
component of the MO data type (Section 2.8.25, "MO - money") is a subcomponent
here.<br>
<tt>Subcomponents of price:  &lt;quantity&gt; &amp; &lt;denomination&gt;</tt></p>

<h4>
<A NAME="Heading65">2.8.9.2 Price type (ID)</A></h4>

<p>A
coded value, data type ID.  Refer to <i>HL7 table 0205 - Price type</i> for
valid values.
</p>

<center>Table 0205 - Price type
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>AP</TD>

<TD align="center"><p>administrative
price or handling fee
</TD>
</TR><TR align="center">
<TD align="center"><p>PF</TD>

<TD align="center"><p>professional
fee for performing provider
</TD>
</TR><TR align="center">
<TD align="center"><p>UP</TD>

<TD align="center"><p>unit
price, may be based on length of procedure or service
</TD>
</TR><TR align="center">
<TD align="center"><p>TF</TD>

<TD align="center"><p>technology
fee for use of equipment
</TD>
</TR><TR align="center">
<TD align="center"><p>DC</TD>

<TD align="center"><p>direct
unit cost
</TD>
</TR><TR align="center">
<TD align="center"><p>IC</TD>

<TD align="center"><p>indirect
unit cost
</TD>
</TR><TR align="center">
<TD align="center"><p>TP</TD>

<TD align="center"><p>total
price
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading66">2.8.9.3 From value (NM)</A></h4>

<p>Each
is an NM data type; together they specify the "range."  The range can be
defined as either time or quantity.  For example, the range can indicate that
the first 10 minutes of the procedure has one price.  Another repetition of the
data type can use the range to specify that the following 10 to 60 minutes of
the procedure is charged at another price per; a final repetition can specify
that the final 60 to N minutes of the procedure at a third price.  <br>
Note that, if the &lt;<tt>price type</tt>&gt; component is TP, both
&lt;<tt>from value</tt>&gt; and &lt;<tt>to value</tt>&gt; may be null.</p>

<h4>
<A NAME="Heading67">2.8.9.4 To value (NM)</A></h4>

<p>See
<i>From value</i> above.</p>

<h4>
<A NAME="Heading68">2.8.9.5 Range units (CE)</A></h4>

<p>A
coded value, data type CE, defined by the standard table of units for either
time or quantity  (see for example, the tables in Section 7.1.4, "Coding
schemes").  This describes the units associated with the range, e.g., seconds,
minutes, hours, days, quantity (e.g., count); it is required if <tt>&lt;from
value&gt;</tt> and  &lt;<tt>to value</tt>&gt; are present.<br>
<tt>Subcomponents of range units:  &lt;identifier (ID)&gt; &amp; &lt;text
(ST)&gt; &amp; &lt;name of coding system (ST)&gt; &amp; &lt;alternate
identifier (ID)&gt; &amp; &lt;alternate text (ST)&gt; &amp; &lt;name of
alternate coding system (ST)&gt;</tt></p>

<h4>
<A NAME="Heading69">2.8.9.6 Range type (ID)</A></h4>

<p><i>Refers
to HL7 table 0298 - CP range type </i>for valid values<i>.</i></p>

<center>Table 0298 - CP range type
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Pro-rate.
 Apply this price to this interval, pro-rated by whatever portion of the
interval has occurred/been consumed
</TD>
</TR><TR align="center">
<TD align="center"><p>F</TD>

<TD align="center"><p>Flat-rate.
 Apply the entire price to this interval, do not pro-rate the price if the full
interval has not occurred/been consumed
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading70">2.8.10 CQ - composite quantity with units </A></h3>

<p><tt>Components:
 &lt;quantity (NM)&gt; ^ &lt;units (CE)&gt;</tt><br>
<b><i>In future versions, CQ fields should be avoided because the same data can
usually be sent as two separate fields, one with the value and one with the
units as a CE data type.  </i></b><br>
Examples:<br>
|123.7^kg|		kilograms is an ISO unit<br>
|150^lb&amp;&amp;ANSI+|	weight in pounds is a customary US unit defined within
ANSI+.</p>

<h4>
<A NAME="Heading71">2.8.10.1 Quantity (NM)</A></h4>


<h4>
<A NAME="Heading72">2.8.10.2 Units (CE)</A></h4>

<p>The
units in which the quantity is expressed.  Field-by-field, default units may be
defined within the specifications.  When the observation is measured in the
default units, the units need not be transmitted.  If the measure is recorded
in units different from the default, the measurement units must be transmitted
as the second component.  If the units are ISO+ units, then units should be
recorded as lowercase abbreviations as specified in Chapter 7.  If the units
are ANSI or local, the units and the source table must be recorded as specified
in Chapter 7.  But in these cases the component separator should be replaced by
the subcomponent delimiter<br>
<tt>Subcomponents for units: &lt;identifier (ID)&gt; &amp; &lt;text (ST)&gt;
&amp; &lt;name of coding system (ST)&gt; &amp; &lt;alternate identifier
(ID)&gt; &amp; &lt;alternate text (ST)&gt; &amp; &lt;name of alternate coding
system (ST)&gt;
</tt></p>

<h3>
<A NAME="Heading73">2.8.11 CWE - coded with exceptions</A></h3>

<p><tt>Components:
 &lt;identifier (ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt; ^ &lt;coding system version ID
(ST)&gt; ^ alternate coding system version ID (ST)&gt; ^ &lt;original text (ST)
&gt;  </tt></p>

<h4>
<A NAME="Heading74">2.8.11.1 Identifier (ST)</A></h4>

<p>Sequence
of characters (the code) that uniquely identifies the item being referenced by
the &lt;text&gt;.  Different coding schemes will have different elements here.</p>

<h4>
<A NAME="Heading75">2.8.11.2 Text (ST)</A></h4>

<p>Name
or description of the item in question.  E.g., myocardial infarction or X-ray
impression.  Its data type is string (ST).</p>

<h4>
<A NAME="Heading76">2.8.11.3 Name of coding system (ST)</A></h4>

<p>Each
coding system is assigned a unique identifier.  This component will serve to
identify the coding scheme being used in the identifier component.  The
combination of the <b>identifier</b> and <b>name of coding system</b>
components will be a unique code for a data item  Each system has a unique
identifier. ASTM E1238-94, Diagnostic, procedure, observation, drug ID, and
health outcomes coding systems are identified in the tables in Section 7.1.4,
"Coding schemes."  Others may be added as needed.  When an HL7 table is used
for a CE data type, the <b><i>name of coding system</i></b> component is
defined as <b><i>HL7nnnn</i></b> where <b><i>nnnn</i></b> is the HL7 table
number.</p>

<h4>
<A NAME="Heading77">2.8.11.4 Alternate components (4, 5, 6) (for components 1, 2, 3)</A></h4>

<p>These
three components are defined analogously to the above for the alternate or
local coding system.  If the Alternate Text component is absent, and the
Alternate Identifier is present, the Alternate Text will be taken to be the
same as the Text component.  If the Alternate Coding System component is
absent, it will be taken to mean the locally-defined system. </p>

<h4>
<A NAME="Heading78">2.8.11.5 Coding system version ID (ST)</A></h4>

<p>This
is the version ID for the coding system identified by components 1-3.</p>

<h4>
<A NAME="Heading79">2.8.11.6 Alternate coding system version ID (ST)</A></h4>

<p>This
is the version ID for the coding system identified by components 4-5. It
belongs conceptually to the group of Alternate components (see note 2.8.4.4)
and appears here only for reasons of backwards compatibility.</p>

<h4>
<A NAME="Heading80">2.8.11.7 Original text (ST)</A></h4>

<p>The
original text that was available to an automated process or a human before a
specific code was assigned</p>

<h4>
<A NAME="Heading81">2.8.11.8 Usage notes: </A></h4>

<p>This
is a loosely coded field.<br>
Components 1-3 &amp; 7 are used in one of three ways:<br>
<b>1)	Coded:</b> The identifier contains a valid code from a coding system.
The coding system must either be present and have a value from the set of
allowed coding systems, or if not present, it will be interpreted to have the
same meaning as if it had been valued with the code meaning "HL7 coding
system."  The set of allowed coding systems for HL7 messages will be maintained
as one of the value sets of the HL7 vocabulary tables.  If the coding system is
any system other than "HL7 coding system", version ID must be valued with an
actual version ID.  If the coding system is "HL7 coding system," version ID may
have an actual value or it may be absent.  If version ID is absent, it will be
interpreted to have the same value as the HL7 version number in the message
header.  Text description is optional, but its use should be encouraged to aid
in readability of the message during testing and debugging.<br>
Example 1a: OBX segment where the observation identifier is a LOINC code and
the observation value is being sent as a CWE value, and the value is taken from
SNOMED International.<br>
OBX|1|CWE|883-9^ABO Group^LN|1|F-D1250^Type O^SNM3^^^^3.4|||N||F&lt;cr&gt;<br>
Example 1b: OBX segment where the observation identifier is a LOINC code and
the observation value is being sent as an CWE value, and the value is taken
from a (currently hypothetical) HL7 table.<br>
OBX|1|CWE|883-9^ABO Group^LN|1|O^Type O^HL7^^^^2.3.1|||N||F&lt;cr&gt;<br>
<b>2)	Uncoded:</b> Text is valued, the identifier has no value, and coding
system and version ID follow the same rules as discussed for option 1.<br>
Example 2: OBX segment where the observation identifier is a LOINC code and the
observation value is being sent as an CWE value, and the value is sent as text
because the correct clinical value, "Wesnerian" was not found in the set of
allowed values.<br>
OBX|1|CWE|883-9^ABO Group^LN|1|^Wesnerian|||A||F&lt;cr&gt;<br>
<b>3)	Data missing:</b> The name of the coding system is "HL7 CE Status,"
version ID is either a real version, or if not present it has the same meaning
as the version in the message header, and the identifier takes its value from
one of the allowed CE field statuses.  The codes for the allowed CE field
statuses are shown below and will be maintained in a table as part of the HL7
vocabulary.  Text description of code is optional.<br>
Example 3: OBX segment where the observation identifier is a LOINC code and the
observation value is being sent as an LCE value, and no value can be sent
because the test was not done.<br>
OBX|1|CWE|883-9^ABO Group^LN|1|NAV^Not Available^HL7 CE
Status^^^^2.3.1|||N||F&lt;cr&gt;<br>
Component 9: This is the original text that was available to an automated
process or a human before a specific code was assigned.  This field is
optional.<br>
Components 3-6 &amp; 8: components 3-6 &amp; 8 are optional.  They are used to
represent the local or user seen code.  If present, components 3-6 &amp; 8 obey
the same rules of use and interpretation as described for components 1-3 &amp;
7 (of the CWE data type).  If both are present, the identifiers in component 4
and component 1 should have exactly the same meaning; i.e. they should be exact
synonyms.<br>
Example 4: OBX segment where the observation identifier is a LOINC code and the
observation value is being sent as an CWE value, and the value is taken from
SNOMED International.  The user seen fields are being used to represent a local
coding system (99LAB) used in the sending system.<br>
OBX|1|CWE|883-9^ABO Group^LN|1|F-D1250^Type O^SNM3^O^O Type
Blood^99LAB^3.4^|||||F&lt;cr&gt;<br>
CWE usage notes: The CWE data type should be used for coded fields that are
optional or where it is permissible to send text for items that are not yet a
part of the approved value set.  In the normal situation, the identifier is
valued with the code from the value set.  If the value of the field is known,
but is not part of the value set, then the value is sent as text, and the
identifier has no value.  If the field has an unknown status, then form 3 of
the field is used, and the appropriate status for the field is selected from
the table of allowed statuses. When no code exists, use values from <i>HL7
table 0353 - CWE statuses</i></p>

<center>Table 0353 -  CWE statuses
</center>
<TABLE BORDER><TR align="left">
<TD align="left"><p>Code</TD>

<TD align="left"><p>Description</TD>
</TR><TR align="left">
<TD align="left"><p>U</TD>

<TD align="left"><p>Unknown</TD>
</TR><TR align="left">
<TD align="left"><p>UASK</TD>

<TD align="left"><p>Asked
but Unknown
</TD>
</TR><TR align="left">
<TD align="left"><p>NAV</TD>

<TD align="left"><p>Not
Available
</TD>
</TR><TR align="left">
<TD align="left"><p>NA</TD>

<TD align="left"><p>Not
Applicable
</TD>
</TR><TR align="left">
<TD align="left"><p>NASK</TD>

<TD align="left"><p>Not
Asked
</TD>
</TR></TABLE>
<p>Where
a text modifier might accompany a code, the "field" in the HL7 message would be
of data type CWE and would be allowed to repeat.  The first instance of the
field would be used, as per option 1; i.e. the identifier would have a valid
code.  The second instance of the repeating field would be used, as per option
2, that is, the text description would take the value of the free text modifier.
</p>

<h3>
<A NAME="Heading82">2.8.12 CX - extended composite ID with check digit</A></h3>

<p><tt>Components:
&lt;ID (ST)&gt; ^ &lt;check digit (ST)&gt; ^ &lt;code identifying the check
digit scheme employed (ID)&gt; ^ &lt; assigning authority (HD)&gt; ^
&lt;identifier type code (IS)&gt; ^ &lt; assigning facility (HD)</tt><br>
Example:<br>
|1234567^4^M11^ADT01^MR^University Hospital|</p>

<h4>
<A NAME="Heading83">2.8.12.1 ID (ST)</A></h4>

<p>Defined
as in the CK data type (see Section 2.8.5, "CK - composite ID with check
digit") except that an ST data type is allowed instead of an NM data type.</p>

<h4>
<A NAME="Heading84">2.8.12.2 Check digit (ST)</A></h4>

<p>Defined
as in the CK data type (see Section 2.8.5, "CK - composite ID with check
digit") except that an ST data type is allowed instead of an NM data type.  The
check digit in this data type is <u>not</u> an add-on produced by the message
processor.  It is the check digit that is part of the identifying number used
in the sending application.  If the sending application does not include a
self-generated check digit in the identifying number, this component should be
valued null.</p>

<h4>
<A NAME="Heading85">2.8.12.3 Code identifying the check digit scheme employed (ID)</A></h4>

<p>Defined
as in the CK data type (see Section 2.8.5, "CK - composite ID with check
digit").  Refer to<i> HL7 table 0061- Check digit scheme</i> for valid
values.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
 The check digit and code identifying check digit scheme are null if ID is
alphanumeric.
</TD>
</TR></TABLE>
<p></p>

<h4>
<A NAME="Heading86">2.8.12.4 Assigning authority (HD)</A></h4>

<p>The
assigning authority is a unique name of the system that creates the data.  It
is an HD data type.  It is equivalent to the application ID of the placer or
filler order number (see Chapter 4).  Assigning authorities are unique across a
given HL7 implementation.</p>

<h4>
<A NAME="Heading87">2.8.12.5 Identifier type code (IS)</A></h4>

<p>A
code corresponding to the type of identifier.  In some cases, this code may be
used as a qualifier to the "Assigning authority" component.  Refer to<i>
user-defined table 0203 - Identifier type</i> for suggested values.
</p>

<center>User-defined table 0203 - Identifier type
</center>
<TABLE>
<TR align="center">
<TD align="center"><p><b><u>Value</u></b></TD>

<TD align="center"><p><b><u>Description</u></b></TD>
</TR><TR align="center">
<TD align="center"><p>AM</TD>

<TD align="center"><p>American
Express
</TD>
</TR><TR align="center">
<TD align="center"><p>AN</TD>

<TD align="center"><p>Account Number 
</TD>
</TR><TR align="center">
<TD align="center"><p>BR</TD>

<TD align="center"><p>Birth Registry Number
</TD>
</TR><TR align="center">
<TD align="center"><p>DI</TD>

<TD align="center"><p>Diner's Club Card
</TD>
</TR><TR align="center">
<TD align="center"><p>DL</TD>

<TD align="center"><p>Driver's
License Number
</TD>
</TR><TR align="center">
<TD align="center"><p>DN</TD>

<TD align="center"><p>Doctor
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>DS</TD>

<TD align="center"><p>Discover Card
</TD>
</TR><TR align="center">
<TD align="center"><p>EI</TD>

<TD align="center"><p>Employee Number
</TD>
</TR><TR align="center">
<TD align="center"><p>EN</TD>

<TD align="center"><p>Employer
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>GI</TD>

<TD align="center"><p>Guarantor
Internal Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>GN</TD>

<TD align="center"><p>Guarantor
External  Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>MS</TD>

<TD align="center"><p>MasterCard</TD>
</TR><TR align="center">
<TD align="center"><p>MA</TD>

<TD align="center"><p>Medicaid
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>MC
</TD>

<TD align="center"><p>Medicare
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>MR</TD>

<TD align="center"><p>Medical
Record Number
</TD>
</TR><TR align="center">
<TD align="center"><p>NE</TD>

<TD align="center"><p>National Employer Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>NI</TD>

<TD align="center"><p>National Unique Individual Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>NH</TD>

<TD align="center"><p>National
Health Plan Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>NI</TD>

<TD align="center"><p>National
Unique Individual Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>PI</TD>

<TD align="center"><p>Patient
Internal Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>PN</TD>

<TD align="center"><p>Person
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>PT</TD>

<TD align="center"><p>Patient
External Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>RR</TD>

<TD align="center"><p>Railroad
Retirement Number
</TD>
</TR><TR align="center">
<TD align="center"><p>SS</TD>

<TD align="center"><p>Social
Security Number
</TD>
</TR><TR align="center">
<TD align="center"><p>UPIN</TD>

<TD align="center"><p>Medicare/HCFA's
Universal Physician Identification Numbers
</TD>
</TR><TR align="center">
<TD align="center"><p>VS</TD>

<TD align="center"><p>VISA</TD>
</TR><TR align="center">
<TD align="center"><p>VN</TD>

<TD align="center"><p>Visit
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>XX</TD>

<TD align="center"><p>Organization
Identifier
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading88">2.8.12.6 Assigning facility (HD)</A></h4>

<p><tt>Subcomponents:
&lt;namespace ID (IS)&gt; &amp; &lt; universal ID (ST)&gt; &amp; &lt;universal
ID type (ID)&gt;</tt><br>
Definition:  The place or location identifier where the identifier was first
assigned to the patient.  This component is not an inherent part of the
identifier but rather part of the history of the identifier: as part of this
data type, its existence is a convenience for certain intercommunicating systems.
</p>

<h3>
<A NAME="Heading89">2.8.13 DLN  - driver's license number</A></h3>

<p><tt>Components:
 &lt;license number (ST)&gt; ^ &lt;issuing state, province, country (IS)&gt; ^
&lt;expiration date (DT)</tt><br>
Definition:  This field contains the driver's license information.  For state
or province refer to official postal codes for that country; for country refer
to ISO 3166 for codes.</p>

<h4>
<A NAME="Heading90">2.8.13.1 Driver's license number (as ST data type)</A></h4>

<p>This
field contains the driver's license number.</p>

<h4>
<A NAME="Heading91">2.8.13.2 Issuing state, province, country (IS)</A></h4>

<p>Issuing
authority for driver's license.  For state or province refer to official postal
codes for that country; for country refer to ISO 3166 for codes.  Refer to
<i>user-defined table 0333 - Driver's license issuing authority</i>.</p>

<h4>
<A NAME="Heading92">2.8.13.3 Expiration date (DT)</A></h4>

<p>Expiration
date (DT) for driver's license.
</p>

<h3>
<A NAME="Heading93">2.8.14 DR - date/time range</A></h3>

<p><tt>Components:
 &lt;range start date/time (TS)&gt; ^ &lt;range end date/time (TS)&gt;</tt></p>

<h4>
<A NAME="Heading94">2.8.14.1 Range start date/time (TS)</A></h4>

<p>Definition:
The first component contains the earliest date/time (time stamp) in the
specified range.</p>

<h4>
<A NAME="Heading95">2.8.14.2 Range end date/time (TS)</A></h4>

<p>The
second component contains the latest date/time in the specified range.  Note
that the TS (time stamp) data type allows the specification of precision.
</p>

<h3>
<A NAME="Heading96">2.8.15 DT - date</A></h3>

<p><tt>Format:
YYYY[MM[DD]]</tt><br>
In prior versions of HL7, this data type was  always specified to be in the
format YYYYMMDD.  In the current and future versions, the precision of a date
may be expressed by limiting the number of digits used with the format
specification YYYY[MM[DD]].  Thus, YYYY is used to specify a precision of
"year," YYYYMM specifies a precision of "month," and YYYYMMDD specifies a
precision of "day."<br>
By site-specific agreement,  YYYYMMDD may be used where backward compatibility
must be maintained.<br>
Examples:<br>
|19880704|<br>
|199503|
</p>

<h3>
<A NAME="Heading97">2.8.16 ED - encapsulated data</A></h3>

<p><tt>Components:
&lt;source application (HD) &gt; ^ &lt;type of data (ID)&gt; ^ &lt;data subtype
(ID))&gt; ^ &lt;encoding (ID)&gt; ^ &lt;data (ST)&gt;</tt><br>
This data type transmits encapsulated data from a source system to a
destination system.  It contains the identity of the source system, the type of
data, the encoding method of the data, and the data itself.  This data type is
similar to the RP (reference pointer) data type of Section 2.8.36, "RP -
reference pointer," except that instead of pointing to the data on another
system, it contains the data which is to be sent to that system.</p>

<h4>
<A NAME="Heading98">2.8.16.1 Source application (HD) </A></h4>

<p>A
unique name that identifies the system which was the source of the data.
Identical format and restrictions as in reference pointer (see Section
2.8.36.2, "Application ID (HD)").<br>
<tt>Subcomponents: &lt;namespace ID (IS)&gt; &amp; &lt; universal ID (ST)&gt;
&amp; &lt;universal ID type (ID)&gt;
</tt></p>

<h4>
<A NAME="Heading99">2.8.16.2 Type of data (ID)</A></h4>

<blockquote>Identical
to "type of data" component in the reference pointer (RP) data type.  (See
Section 2.8.36.4, "2.8.36.4").</blockquote><p>Refer to <i>HL7 table 0191 - Type
of referenced data</i> for valid values.</p>

<h4>
<A NAME="Heading100">2.8.16.3 Data Subtype</A></h4>

<p>Identical
to "subtype" component in the reference pointer (RP) data type.  (See Section
2.8.36.4, "Subtype (ID)").<br>
Refer to <i>HL7 table 0291 - Subtype of referenced data</i> for valid values.
</p>

<h4>
<A NAME="Heading101">2.8.16.4 Encoding  (ID)</A></h4>

<p>The
type of encoding, if present, used to represent successive octets of binary
data as displayable ASCII characters.  Refer to <i>HL7 table 0299 -
Encoding</i> for valid values.</p>

<center>Table 0299 - Encoding
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>no
encoding - data are displayable ASCII characters.
</TD>
</TR><TR align="center">
<TD align="center"><p>Hex</TD>

<TD align="center"><p>hexadecimal
encoding - consecutive pairs of hexadecimal digits represent consecutive single
octets.
</TD>
</TR><TR align="center">
<TD align="center"><p>Base64</TD>

<TD align="center"><p>encoding
as defined by MIME (Multipurpose Internet Mail Extensions) standard RFC 1521.
Four consecutive ASCII characters represent three consecutive octets of binary
data.  Base64 utilizes a 65-character subset of US-ASCII, consisting of both
the upper and lower case alphabetic characters, digits "0" through "9," "+,"
"/," and "=.".
</TD>
</TR></TABLE>
<p>Base64
is defined as follows (adapted from MIME  Internet standard RFC 1521, which has
precedence over this description).  Proceeding from left to right across a
24-bit input group (three octets), each 6-bit group is used as an index into an
array of 64 printable characters.  The character referenced by the index is
placed in the encoded string.  These characters are shown in <i>HL7 table 0290
- MIME base64 encoding characters</i>, and are selected so as to be universally
representable.<br>
Special processing is performed if fewer than 24 bits are available in an input
group at the end of data.  A full encoding quantum is always completed at the
end of data.  When fewer than 24 input bits are available in an input group,
zero bits are added (on the right) to form an integral number of 6-bit
groups.<br>
Output character positions which are not required to represent actual input
data are set to the character "=".  Since all canonically encoded output is an
integral number of octets, only the following cases can arise: (1) the final
quantum of input is an integral multiple of 24 bits; here, the final unit of
encoded output will be an integral multiple of 4 characters with no "="
padding, (2) the final quantum of input is exactly 8 bits; here, the final unit
of encoded output will be two characters followed by two "="padding characters,
or (3) the final quantum of input is exactly 16 bits; here, the final unit of
encoded output will be three characters followed by one "=" padding character.
</p>

<center>Table 0290 - MIME base64 encoding characters
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value/Code</TD>

<TD align="center"><p>Value/Code</TD>

<TD align="center"><p>Value/Code</TD>

<TD align="center"><p>Value/Code</TD>
</TR><TR align="center">
<TD align="center"><p>0
A 
</TD>

<TD align="center"><p>17
R
</TD>

<TD align="center"><p>34
I
</TD>

<TD align="center"><p>51
z
</TD>
</TR><TR align="center">
<TD align="center"><p>1
B 
</TD>

<TD align="center"><p>18
S
</TD>

<TD align="center"><p>35
j
</TD>

<TD align="center"><p>52
0
</TD>
</TR><TR align="center">
<TD align="center"><p>2
C
</TD>

<TD align="center"><p>19
T
</TD>

<TD align="center"><p>36
k
</TD>

<TD align="center"><p>53
1
</TD>
</TR><TR align="center">
<TD align="center"><p>3
D
</TD>

<TD align="center"><p>20
U
</TD>

<TD align="center"><p>37
l
</TD>

<TD align="center"><p>54
2
</TD>
</TR><TR align="center">
<TD align="center"><p>4
E
</TD>

<TD align="center"><p>21
V
</TD>

<TD align="center"><p>38
m
</TD>

<TD align="center"><p>55
3
</TD>
</TR><TR align="center">
<TD align="center"><p>5
F
</TD>

<TD align="center"><p>22
W
</TD>

<TD align="center"><p>39
n
</TD>

<TD align="center"><p>56
4
</TD>
</TR><TR align="center">
<TD align="center"><p>6
G
</TD>

<TD align="center"><p>23
X
</TD>

<TD align="center"><p>40
o
</TD>

<TD align="center"><p>57
5
</TD>
</TR><TR align="center">
<TD align="center"><p>7
H
</TD>

<TD align="center"><p>24
Y
</TD>

<TD align="center"><p>41
p
</TD>

<TD align="center"><p>58
6
</TD>
</TR><TR align="center">
<TD align="center"><p>8
I
</TD>

<TD align="center"><p>25
Z
</TD>

<TD align="center"><p>42
q
</TD>

<TD align="center"><p>59
7
</TD>
</TR><TR align="center">
<TD align="center"><p>9
J
</TD>

<TD align="center"><p>26
a
</TD>

<TD align="center"><p>43
r
</TD>

<TD align="center"><p>60
8
</TD>
</TR><TR align="center">
<TD align="center"><p>10
K
</TD>

<TD align="center"><p>27
b
</TD>

<TD align="center"><p>44
s
</TD>

<TD align="center"><p>61
9
</TD>
</TR><TR align="center">
<TD align="center"><p>11
L
</TD>

<TD align="center"><p>28
c
</TD>

<TD align="center"><p>45
t
</TD>

<TD align="center"><p>62
+
</TD>
</TR><TR align="center">
<TD align="center"><p>12
M
</TD>

<TD align="center"><p>29
d
</TD>

<TD align="center"><p>46
u
</TD>

<TD align="center"><p>63
/
</TD>
</TR><TR align="center">
<TD align="center"><p>13
N
</TD>

<TD align="center"><p>30
e
</TD>

<TD align="center"><p>47
v
</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>14
O
</TD>

<TD align="center"><p>31
f
</TD>

<TD align="center"><p>48
w
</TD>

<TD align="center"><p>(pad)
=
</TD>
</TR><TR align="center">
<TD align="center"><p>15
P
</TD>

<TD align="center"><p>32
g
</TD>

<TD align="center"><p>49
x
</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>16
Q
</TD>

<TD align="center"><p>33
h
</TD>

<TD align="center"><p>50
y
</TD>

<TD align="center"><BR></TD></TR></TABLE>
<p>The
interpretation of the encoded octets by any of the encoding methods, beyond
what is either implicit or specified in the represented data type (such as
their ordering within 16-bit or 32-bit binary words on the destination
application), is determined by the destination application and is beyond the
scope of this Standard.</p>

<h4>
<A NAME="Heading102">2.8.16.5 Data (ST)</A></h4>

<p>Displayable
ASCII characters which constitute the data to be sent from source application
to destination application.  The characters are limited to the legal characters
of the ST data type, as defined in Section 2.8.40, "ST - string data," and, if
encoded binary, are encoded according to the method of Section 2.8.16.2, "Type
of data."</p>
<blockquote>If  the encoding component (see Section 2.8.16.4, "Encoding  (ID)")
= `A' (none), then the data component must be scanned before transmission for
HL7 delimiter characters, and any found must be escaped by using the HL7 escape
sequences defined in Section 2.9, "USE OF ESCAPE SEQUENCES IN TEXT FIELDS ." On
the receiving application, the data field must be de-escaped after being parsed.
If the encoding component (see Section 2.8.16.4, "Encoding  (ID)") does not
equal `A,' then, after encoding, the (encoded) data must be scanned for HL7
delimiter characters, and any found must be escaped by using the HL7 escape
sequences. Only then can the component be added to the HL7 segment/message. On
the receiving application, the data field must be de-escaped after being parsed
out of the message before being decoded. This can be expressed as `encode',
`escape', parse, `de-escape', `decode'.
</blockquote>
<h3>
<A NAME="Heading103">2.8.17 EI - entity identifier</A></h3>

<p><tt>Components:
&lt;entity identifier (ST)&gt; ^ &lt;namespace ID (IS)&gt; ^ &lt;universal ID
(ST)&gt; ^ &lt; universal ID type (ID)&gt; </tt><br>
The entity identifier defines a given entity within a specified series of
identifiers.<br>
The specified series, the <i>assigning authority</i>, is defined by components
2 through 4.  The assigning authority is of the hierarchic designator data
type, but it is defined as three separate components in the EI data type,
rather than as a single component as would normally be the case.  This is in
order to maintain backward compatibility with the EI's use as a component in
several existing data fields. Otherwise, the components 2 through 4 are as
defined in Section 2.8.20, "HD - hierarchic designator."  Hierarchic
designators are unique across a given HL7 implementation.</p>

<h4>
<A NAME="Heading104">2.8.17.1 Entity identifier (ST)</A></h4>

<p>The
first component, <i>entity identifier, </i>is usually defined to be unique
within the series of identifiers created by the <i>assigning authority,
</i>defined by a hierarchic designator, represented by components 2 through 4.
(See Section 2.8.20, "HD - hierarchic designator".)</p>

<h4>
<A NAME="Heading105">2.8.17.2 Namespace ID (IS)</A></h4>

<p>Refer
to <i>user-defined table 0300 - Namespace ID</i> for suggested values.</p>

<h4>
<A NAME="Heading106">2.8.17.3 Universal ID (ST)  </A></h4>

<p>The
HD's second component, <i>universal ID</i> (UID), is a string formatted
according to the scheme defined by the third component, <i>universal ID
type</i> (UID type).  The UID is intended to be unique over time within the UID
type.  It is rigorously defined.  Each UID must belong to one of the
specifically enumerated schemes for constructing UID's (defined by the UID
type).  The UID (second component) must follow the syntactic rules of the
particular universal identifier scheme (defined by the third component).</p>

<h4>
<A NAME="Heading107">2.8.17.4 Universal ID type (ID)  </A></h4>

<p>Refer
to <i>HL7 table 0301 - Universal ID type</i> for valid values.  See Section
2.8.20,  "HD - hierarchic designator," for definition.  
</p>

<h3>
<A NAME="Heading108">2.8.18 FC - financial class</A></h3>

<p><tt>Components:
 &lt;financial class (IS)&gt; ^ &lt;effective date (TS)&gt;</tt></p>

<h4>
<A NAME="Heading109">2.8.18.1 Financial class (IS)</A></h4>

<p>This
component contains 
the
financial class assigned to a person. Refer to <i>user-defined table 0064 -
Financial class</i> for suggested values. </p>

<h4>
<A NAME="Heading110">2.8.18.2 Effective date (TS)</A></h4>

<p>This
component contains the effective date/time of the person's assignment to the
financial class specified in the first component.
</p>

<h3>
<A NAME="Heading111">2.8.19 FT - formatted text data  </A></h3>

<p>This
data type is derived from the string data type by allowing the addition of
embedded formatting instructions.  These instructions are limited to those that
are intrinsic and independent of the circumstances under which the field is
being used.  The actual instructions and their representation are described
later in this chapter.  <b><i>The FT field is of arbitrary length (up to
64k)</i></b> and may contain formatting commands enclosed in escape characters.
Example:<br>
|\.sp\(skip one vertical line)|<br>
For additional examples of formatting commands see Section 2.9, "USE OF ESCAPE
SEQUENCES IN TEXT FIELDS."
</p>

<h3>
<A NAME="Heading112">2.8.20 HD - hierarchic designator</A></h3>

<p><tt>Components:
 &lt;namespace ID (IS)&gt; ^ &lt;universal ID  (ST)&gt; ^ &lt;universal ID type
(ID)&gt;</tt><br>
The HD is designed to be a more powerful application identifier.  It is also
designed to be used either as a local version of a site-defined application
identifier or a publicly-assigned UID.  Syntactically, the HD is a group of two
application identifiers: one defined by the first component, and one defined by
the second and third components. <br>
The HD allows any site to act as an assigning authority (on a local or
user-defined basis), even if it technically does not have the right to issue
new IDs within an identification scheme.  HDs which have defined third
components (defined UID types) must be unique within the series of ID's defined
by that component. <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	The HD is used in fields that in earlier versions of HL7 used the IS data
type.  Thus, a single component HD (only the first component valued) will look
like a simple IS data type for older systems expecting a single component in
the place of the HD data type.<br>
		If the first component for the HD data type is present, the second and third
components are optional.  <b>I</b>f the third component is present, then the
second must also be present (although in this case the first is optional).  The
second and third components must either both be valued (both non-null), or both
be not valued (both null).
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading113">2.8.20.1 Namespace ID (IS)</A></h4>

<p>Refer
to <i>user-defined table 0300 - Namespace ID </i>for suggested values.
</p>

<h4>
<A NAME="Heading114">2.8.20.2 Universal ID (ST)</A></h4>

<p>The
HD's second component, Universal ID (UID), is a string formatted according to
the scheme defined by the third component, Universal ID type (UID type).  The
UID is intended to be unique over time within the UID type.  It is rigorously
defined.  Each UID must belong  to one of the specifically enumerated schemes
for constructing UID's (defined by the UID type).  The UID (second component)
must follow the syntactic rules of the particular universal identifier scheme
(defined by the third component).
</p>

<h4>
<A NAME="Heading115">2.8.20.3 Universal ID type (ID)</A></h4>

<p>The
third component governs the interpretation of the second component of the HD.
If the third component is a known UID refer to <i>HL7 table 0301 - Universal ID
type</i> for valid values, then the second component is a universal ID of that
type.<br>
<center>Table 0301 - Universal ID type</center><br>
</p>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>DNS</TD>

<TD align="center"><p>An
Internet dotted name. Either in ASCII or as integers
</TD>
</TR><TR align="center">
<TD align="center"><p>GUID</TD>

<TD align="center"><p>Same
as UUID.
</TD>
</TR><TR align="center">
<TD align="center"><p>HCD</TD>

<TD align="center"><p>The
CEN Healthcare Coding Scheme Designator. (Identifiers used in DICOM follow this
assignment scheme.)
</TD>
</TR><TR align="center">
<TD align="center"><p>HL7</TD>

<TD align="center"><p>Reserved
for future HL7 registration schemes
</TD>
</TR><TR align="center">
<TD align="center"><p>ISO</TD>

<TD align="center"><p>An
International Standards Organization Object Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>L,M,N</TD>

<TD align="center"><p>These
are reserved for locally defined coding schemes.
</TD>
</TR><TR align="center">
<TD align="center"><p>Random</TD>

<TD align="center"><p>Usually
a base64 encoded string of random bits.  <br>
The uniqueness depends on the length of the bits.  Mail systems often generate
ASCII string  "unique names," from a combination of random bits and system
names.  Obviously, such identifiers will not be constrained to the base64
character set.
</TD>
</TR><TR align="center">
<TD align="center"><p>UUID</TD>

<TD align="center"><p>The
DCE Universal Unique Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>x400</TD>

<TD align="center"><p>An
X.400 MHS format identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>x500</TD>

<TD align="center"><p>An
X.500 directory name
</TD>
</TR></TABLE>
<p><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
    X400, X500, and DNS are not technically universally valid for all time.
Names can be de-registered from an existing user and registered to a new user.
</TD>
</TR></TABLE>
<p>
Examples:<br>
^1.2.34.4.1.5.1.5.1,1.13143143.131.3131.1^ISO<br>
^14344.14144321.4122344.14434.654^GUID<br>
^falcon.iupui.edu^DNS<br>
^40C983F09183B0295822009258A3290582^RANDOM<br>
LAB1					Local use only: an HD that looks like an IS data type.<br>
PathLab^UCF.UC^L 		A locally defined HD in which the middle component is
itself<br>						structured.  This can be considered the combination of <br>
'PathLab' with the locally defined UID system "L".<br>
LAB1^1.2.3.3.4.6.7^ISO 	An HD with an ISO "Object Identifier" as a suffix, and
a <br>						locally defined system name.<br>
^1.2.344.24.1.1.3^ISO 	An HD consisting only of an ISO UID.
</p>

<h3>
<A NAME="Heading116">2.8.21 ID - coded value for HL7 defined tables</A></h3>

<p>The
value of such a field follows the formatting rules for an ST field except that
it is drawn from a table of legal values.  There shall be an HL7 table number
associated with ID data types.  Examples of ID fields include
<i>MSH--12-version ID </i> and <i>OBR-25-result status</i>.  This data type
should be used only for HL7 tables (see Section 2.6.7, "ID number"). The
reverse is not true, since in some circumstances it is more appropriate to use
the CE data type for HL7 tables.
</p>

<h3>
<A NAME="Heading117">2.8.22 IS - coded value for user-defined tables</A></h3>

<p>The
value of such a field follows the formatting rules for an ST field except that
it is drawn from a site-defined (or user-defined) table of legal values.  There
shall be an HL7 table number associated with IS data types.  An example of an
IS field is the <i>Event reason code</i> defined in Section 3.3.1.4, "Event
reason code." This data type should be used only for user-defined tables (see
Section 2.6.7, "ID number").  The reverse is not true, since in some
circumstances, it is more appropriate to use the CE data type for user-defined
tables.
</p>

<h3>
<A NAME="Heading118">2.8.23 JCC - job code/class</A></h3>

<p><tt>Components:
&lt;job code (IS)&gt; ^ &lt;job class (IS)&gt;</tt></p>

<h4>
<A NAME="Heading119">2.8.23.1 Job code (IS)</A></h4>

<p>This
component contains the person's  job code.  Refer to <i>user-defined table 0327
- Job code</i>.</p>

<h4>
<A NAME="Heading120">2.8.23.2 Job class (IS)</A></h4>

<p>This
component contains the person's employee classification.    <i>Refer to
user-defined table 0328 - Employee classification.
</i></p>

<h3>
<A NAME="Heading121">2.8.24 MA - multiplexed array</A></h3>

<p><tt>Components:
 &lt;sample 1 from channel 1 (NM)&gt; ^ &lt;sample 1 from channel 2 (NM)&gt; ^
&lt;sample 1 from channel 3 (NM)&gt; ...~&lt;sample 2 from channel 1 (NM)&gt; ^
&lt;sample 2 from channel 2 (NM)&gt; ^ &lt;sample 2 from channel 3 (NM)&gt;
...~<br> ...</tt><br>
This data type is used to represent channel-multiplexed waveform data, (e.g.,
the digitized values from an analog-to-digital converter or other digital data
source).  Refer to Chapter 7, Section 7.15.2, "MA - multiplexed array," for a
complete description of this data type.
<a name="a28"></a><a name="a6_6"></a><a name="a29"></a></p>

<h3>
<A NAME="Heading122">2.8.25 MO - money  </A></h3>

<p><tt>Components:
 &lt;quantity (NM)&gt; ^ &lt;denomination (ID)&gt;</tt></p>

<h4>
<A NAME="Heading123">2.8.25.1 Quantity (NM)</A></h4>

<p>The
first component is a quantity.</p>

<h4>
<A NAME="Heading124">2.8.25.2 Denomination (ID)</A></h4>

<p>The
second component is the denomination in which the quantity is expressed.  The
values for the denomination component are those specified in ISO-4217.  If the
denomination is not specified, <i>MSH-17-country code</i> is used to determine
the default.<br>
Example:<br>
|99.50^USD|<br>
where USD is the ISO 4217 code for the U.S. American dollar. 
</p>

<h3>
<A NAME="Heading125">2.8.26 NA - numeric array</A></h3>

<p>This
data type is used to represent a series (array) of numeric values, each one
having a data type of NM. Refer to Chapter 7, Section 7.15.1, "NA - numeric
array," for a complete description of this data type.
</p>

<h3>
<A NAME="Heading126">2.8.27 NM - numeric  </A></h3>

<p>A
number represented as a series of ASCII numeric characters consisting of an
optional leading sign ( + or -), the digits and an optional decimal point.  In
the absence of a sign, the number is assumed to be positive.  If there is no
decimal point the number is assumed to be an integer.  Examples:<br>
|999|<br>
|-123.792|<br>
Leading zeros, or trailing zeros after a decimal point, are not significant.
For example, the following two values with different representations, "01.20"
and "1.2", are identical.  Except for the optional leading sign (+ or -) and
the optional decimal point (.), no non-numeric ASCII characters are allowed.
Thus, the value &lt;12 should be encoded as a structured numeric (SN)
(preferred) or as a string (ST) (allowed, but not preferred) data type.
</p>

<h3>
<A NAME="Heading127">2.8.28 PL - person location</A></h3>

<p><tt>Components:
 &lt;point of care  (IS )&gt; ^ &lt;room (IS )&gt; ^ &lt;bed (IS )&gt; ^
&lt;facility (HD)&gt; ^ &lt; location status  (IS )&gt; ^ &lt;person location
type (IS)&gt; ^ &lt;building (IS )&gt; ^ &lt;floor (IS )&gt; ^ &lt;location
description (ST)&gt;</tt><br>
This data type is used to specify a patient location within a healthcare
institution. Which components are valued depends on the needs of the site.  It
is most commonly used for specifying patient locations, but may refer to other
types of persons within a healthcare setting.</p>

<h4>
<A NAME="Heading128">2.8.28.1 Point of care (IS)</A></h4>

<p>Conditional
on person location type (e.g., nursing unit or department or clinic).  After
floor, most general patient location designation.  Refer to <i>user-defined
table 0302 - Point of care</i> for suggested values.  </p>

<h4>
<A NAME="Heading129">2.8.28.2 Room (IS)</A></h4>

<p>Patient
room.  After nursing unit, most general person location designation.  Refer to
<i>user-defined table 0303 - Room</i> for suggested values.  </p>

<h4>
<A NAME="Heading130">2.8.28.3 Bed (IS)</A></h4>

<p>Patient
bed.  After room, most general person location designation.  Refer to
<i>user-defined table 0304 - Bed</i> for suggested values.</p>

<h4>
<A NAME="Heading131">2.8.28.4 Facility (HD)</A></h4>

<p>Most
general person location designation. (See Section 2.8.20, "HD - hierarchic
designator").</p>

<h4>
<A NAME="Heading132">2.8.28.5 Location status (IS)</A></h4>

<p>Location
(e.g., Bed) status.  Refer to <i>user-defined table 0306 - Location status</i>
for suggested values.</p>

<h4>
<A NAME="Heading133">2.8.28.6 Person location type (IS)</A></h4>

<p>Usually
includes values such as nursing unit, department, clinic, SNF, physician's
office.  Refer to <i>user-defined table 0305 - Person location type</i> for
suggested values.</p>

<h4>
<A NAME="Heading134">2.8.28.7 Building (IS)</A></h4>

<p>After
facility, most general person location designation.  Refer to <i>user-defined
table 0307 - Building</i> for suggested values.</p>

<h4>
<A NAME="Heading135">2.8.28.8 Floor (IS)</A></h4>

<p>After
building, most general person location designation.  Refer to <i>user-defined
table 0308 - Floor</i> for suggested values.</p>

<h4>
<A NAME="Heading136">2.8.28.9 Location description (ST)</A></h4>

<p>A
free text description of the location.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note</b>
	The actual order of components allows compatibility with previous versions of
HL7.  Without backward compatibility constraints, the hierarchical, structural
order of components would be: &lt;person location type (IS) &gt; ^ &lt;facility
(HD)&gt;  ^ &lt; building (IS)&gt;  ^ &lt;floor (IS) &gt;  ^  &lt;point of care
(IS) &gt;  ^  &lt;room (IS)&gt; ^ &lt;bed (IS)&gt; ^ &lt;location description
(ST)&gt; ^ &lt; location status  (IS)&gt;.
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading137">2.8.29 PPN - performing person time stamp</A></h3>

<p><tt>Components:
&lt;ID number (ST)&gt; ^ &lt;family name (ST)&gt; &amp; &lt;last name prefix
(ST)&gt; ^ &lt;given name (ST)&gt; ^ &lt;middle initial or name (ST)&gt; ^
&lt;suffix (e.g., JR or III) (ST)&gt; ^ &lt;prefix (e.g., DR) (ST)&gt; ^
&lt;degree (e.g., MD) (ST)&gt; ^ &lt;source table (IS)&gt; ^ &lt;assigning
authority (HD)&gt; ^ &lt;name type code(ID)&gt;  ^ &lt;identifier check digit
(ST)&gt; ^ &lt;code identifying the check digit scheme employed (ID )&gt; ^
&lt;identifier type code (IS)&gt; ^ &lt;assigning facility (HD)&gt; ^ &lt;
date/time action performed (TS)&gt; ^ &lt;name representation code
(ID)&gt;</tt><br>
This data type is the equivalent of an XCN data type joined with a TS data
type.  However,  since HL7 does not support subcomponents in Version 2.3, the
XCN data type has been flattened.</p>

<h4>
<A NAME="Heading138">2.8.29.1 ID number (ST)</A></h4>

<blockquote>Coded
ID according to a user-defined table, defined by the 8<sup>th</sup> component.
If the first component is present, either the source table or the assigning
authority must be valued.</blockquote>
<h4>
<A NAME="Heading139">2.8.29.2 Family name (ST) &amp;  last_name_prefix (ST)</A></h4>


<h5>
<A NAME="Heading140">2.8.29.2.1 Family name. </A></h5>

<p>Family
name.  Surname/last name.</p>

<h5>
<A NAME="Heading141">2.8.29.2.2 Last_name_prefix</A></h5>

<p>International
usage for Germanic languages.  An example of a "last_name_prefix" is the "van"
in "Ludwig van Beethoven."  Since the last_name_prefix doesn't sort completely
alphabetically, it is reasonable to specify it as a separate sub-component of
the PN and extended PN data types (XPN and XCN).</p>

<h4>
<A NAME="Heading142">2.8.29.3 Given name (ST)</A></h4>


<h4>
<A NAME="Heading143">2.8.29.4 Middle initial or name (ST)</A></h4>


<h4>
<A NAME="Heading144">2.8.29.5 Suffix (ST)</A></h4>

<blockquote>Used
to specify a name suffix (e.g., Jr. Or III).</blockquote>
<h4>
<A NAME="Heading145">2.8.29.6 Prefix (ST)</A></h4>

<blockquote>Used
to specify a name prefix (e.g., Dr.).</blockquote>
<h4>
<A NAME="Heading146">2.8.29.7 Degree (ST)</A></h4>

<p>Used
to specify an educational degree (e.g., MD).</p>

<h4>
<A NAME="Heading147">2.8.29.8 Source table (IS)</A></h4>

<blockquote>Refer
to <i>user-defined table 0297 - CN ID</i> <i>source</i> for suggested values.
Used to delineate the first component.</blockquote>
<h4>
<A NAME="Heading148">2.8.29.9 Assigning authority (HD)</A></h4>

<blockquote>In
this version, an optional 9<sup>th</sup> component, the assigning authority
(HD), has been added.  It is an HD data type (see Section 2.8.20, "HD -
hierarchic designator").</blockquote>
<h4>
<A NAME="Heading149">2.8.29.10 Name type code (ID)</A></h4>

<p>A
code that represents the type of name.  Refer to <i>HL7 table 0200 - Name
type</i> for valid values (see Section 2.8.51, "XPN - extended person name").</p>

<h4>
<A NAME="Heading150">2.8.29.11 Identifier check digit (ST)</A></h4>

<p>The
check digit in this data type is not an add-on produced by the message
processor.  It is the check digit that is part of the identifying number used
in the sending application.  If the sending application does not include a
self-generated check digit in the identifying number, this component should be
valued null.</p>

<h4>
<A NAME="Heading151">2.8.29.12 Code identifying the check digit scheme employed (ID)</A></h4>

<p>Refer
<i>to HL7 table 0061 - Check digit scheme</i> for valid values.</p>

<h4>
<A NAME="Heading152">2.8.29.13 Identifier type code (IS)</A></h4>

<p>A
code corresponding to the type of identifier.  In some cases, this code may be
used as a qualifier to the "Assigning authority" component.  Refer <i>to
user-defined table 0203 - Identifier type</i> for suggested values.</p>

<h4>
<A NAME="Heading153">2.8.29.14 Assigning facility (HD)</A></h4>

<p>The
place or location identifier where the identifier was first assigned to the
patient.  This component is not an inherent part of the identifier but rather
part of the history of the identifier:  as part of this data type, its
existence is a convenience for certain intercommunicating systems.</p>

<h4>
<A NAME="Heading154">2.8.29.15 Date/time action performed (TS)</A></h4>

<p>This
component describes when the activity was performed. <br>
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note</b>:
If this field is not null, both the performing person and the time stamp must
be valued.
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading155">2.8.29.16 Name representation code (ID)</A></h4>

<p>Different
name/address types and representations of the same name/address  should be
described by repeating of this field, with different values of the Name/Address
Type and/or Name/Address Representation component.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	This new component remains in "alphabetic" representation with each repetition
of the field using these data types. I.e. even though the name may be
represented in an ideographic character set, this component will remain
represented in an alphabetic character set.
</TD>
</TR></TABLE>

<center>Table 4000 - Name/address representation
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>I</TD>

<TD align="center"><p>Ideographic
(i.e., Kanji)
</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Alphabetic
(i.e., Default or some single-byte)
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Phonetic
(i.e., ASCII, Katakana, Hirigana, etc.)
</TD>
</TR></TABLE>
<blockquote>In
general this component provides an indication of the representation provided by
the data item.  It does not necessarily specify the character sets used. Thus,
even though the representation might provide an indication of what to expect,
the sender is still free to encode the contents using whatever character set is
desired.  This component provides only hints for the receiver, so it can make
choices regarding what it has been sent and what it is capable of displaying.
</blockquote>
<h3>
<A NAME="Heading156">2.8.30 PN - person name</A></h3>

<p><tt>Components:
 &lt;family name (ST)&gt; ^ &lt;given name (ST)&gt; ^ &lt;middle initial or
name (ST)&gt; ^ &lt;suffix (e.g., JR or III) (ST)&gt; ^ &lt;prefix (e.g., DR)
(ST)&gt; ^ &lt;degree (e.g., MD) (ST)&gt;</tt><br>
Example:<br>
|SMITH^JOHN^J^III^DR^PHD|</p>
<blockquote>This data type includes multiple free text components.  Each
component is specified to be an HL7 ST data type.  <b><i>The maximum length of
a PN field is 48 characters including component separators</i></b>.  The
sending system may send upper- and lowercase or all uppercase. The receiving
system may convert to all uppercase if required.</blockquote>
<h4>
<A NAME="Heading157">2.8.30.1 Family name (ST)</A></h4>

<p>Surname/last
name.</p>

<h4>
<A NAME="Heading158">2.8.30.2 Given name (ST)</A></h4>


<h4>
<A NAME="Heading159">2.8.30.3 Middle initial or name (ST)</A></h4>


<h4>
<A NAME="Heading160">2.8.30.4 Suffix (ST)</A></h4>

<p>Used
to specify a name suffix (e.g., Jr. or III).</p>

<h4>
<A NAME="Heading161">2.8.30.5 Prefix (ST) </A></h4>

<p>Used
specify a name prefix (e.g., Dr.).</p>

<h4>
<A NAME="Heading162">2.8.30.6 Degree (ST) </A></h4>

<p>Used
to specify an educational degree (e.g., MD).</p>

<h5>
<A NAME="Heading163">2.8.30.6.1 Internationalization note  </A></h5>

<blockquote>In
countries using ideographic or syllabic (phonetic) character sets, it is
sometimes necessary to send the name in one or both of these formats, as well
as an alphabetic format.  The switching between the different character sets
can be accomplished using a character set such as JIS X 0202 - ISO 2022 which
provides an escape sequence for switching among different character sets and
among single-byte and multi-byte character representations.  When the name
field is repeated, the different repetitions of the name may be represented by
these different character sets. The details are as follows. (See also Section
2.9.2, "Escape sequences supporting multiple character sets for PN, XPN, XCN,
XON, and XAD data types."
HL7 supports the following standards for Japanese characters:
JIS X 0201	for ISO-IR 13 (Japanese Katakana)
		for ISO-IR 14 (Japanese Romaji)
JIS X 0208	for ISO-IR 87 (Japanese Kanji, Hirigana and Katakana)
JIS X 0212 	for ISO-IR 159 (supplementary Japanese Kanji) <br>
HL7 supports the following standards for European characters: 
ISO 8859 (1-9) 	for ISO-IR 100, 101, 109, 110, 144,127, 126, 138 and 148.
Character sets are referenced in HL7 as ASCII, 8859/1,.8859/2, ISO IR14, ISO
IR87, and ISO IR159.  DICOM uses codes laid out in ISO 2375, of the form
'ISO-IR xxx'.  HL7 supports this naming as well, to facilitate interoperability.
HL7 uses the Basic G0 Set of the International Reference Version of ISO
646:1990 (ISO IR-6) as the default character repertoire for character strings.
This is a single-byte character set, identical to ASCII. 
Each repetition of a PN, XPN, XON, XCN, or XAD field is assumed to begin with
the default character set.  If another character set is to be used, the HL7
defined escape sequence used to announce that character set must be at the
beginning of the repetition, and the HL7 defined escape sequence used to start
the default character set must be at the end of the repetition. Note also that
several character sets may be intermixed within a single repetition as long as
the repetition ends with a return to the default character set. 
An application must specify which character sets it supports in the field
"MSH-18 Character Sets" and which character set handling scheme it supports in
the field "MSH-20 Alternate Character Set Handling Scheme."  It is assumed that
the sending and receiving applications are aware of how to map character set
names (i.e., ISO-IR xxx) to escape sequences.
For example, in many Japanese messages there is a mix of Romaji (i.e., Roman
characters), Katakana (phonetic representation of foreign words), Hirigana
(phonetic representation of Japanese words) and Kanji (pictographs).  Such a
message would require 4 character sets be specified in the MSH.</blockquote>
<h4>
<A NAME="Heading164">2.8.30.7 References for internationalization of name</A></h4>

<TABLE>
<TR align="left">
<TD align="left"><p>1.</TD>

<TD align="left"><p>"Understanding
Japanese Information Processing" by Ken Lunde,  O'Reilly Press
</TD>
</TR><TR align="left">
<TD align="left"><p>2.</TD>

<TD align="left"><p>"DICOM
Supplement 9 : Multi-Byte Character Set Support", ACR-NEMA
</TD>
</TR><TR align="left">
<TD align="left"><p>3.</TD>

<TD align="left"><p>ANSI
X3.4:1986	
</TD>

<TD align="left"><p>ASCII
character set
</TD>
</TR><TR align="left">
<TD align="left"><p>4.</TD>

<TD align="left"><p>ISO
646:1990	
</TD>

<TD align="left"><p>Information
Processing - ISO 7-bit coded character set for information interchange
</TD>
</TR><TR align="left">
<TD align="left"><p>5.</TD>

<TD align="left"><p>ISO/IEC
2022:1994	
</TD>

<TD align="left"><p>Information
Technology - Character code structure and extension techniques
</TD>
</TR><TR align="left">
<TD align="left"><p>6.</TD>

<TD align="left"><p>ISO
2375:1986
</TD>

<TD align="left"><p>Data
Processing - Procedure for the registration of escape sequences
</TD>
</TR><TR align="left">
<TD align="left"><p>7.</TD>

<TD align="left"><p>ISO
6429:1990
</TD>

<TD align="left"><p>Information
Processing - Control functions for 7-bit and 8-bit coded character sets
</TD>
</TR><TR align="left">
<TD align="left"><p>8.</TD>

<TD align="left"><p>ISO
8859 (1-9)	
</TD>

<TD align="left"><p>Information
Processing - 8-bit single-byte coded graphic character sets - parts 1-9
</TD>
</TR><TR align="left">
<TD align="left"><p>9.</TD>

<TD align="left"><p>ENV
41 503:1990
</TD>

<TD align="left"><p>Information
systems interconnection - European graphic character repertoires and their coding
</TD>
</TR><TR align="left">
<TD align="left"><p>10.</TD>

<TD align="left"><p>ENV
41 508:1990
</TD>

<TD align="left"><p>Information
systems interconnection - East European graphic character repertoires and their
coding
</TD>
</TR><TR align="left">
<TD align="left"><p>11.</TD>

<TD align="left"><p>JIS
X 0201-1976	
</TD>

<TD align="left"><p>Code
for Information Exchange
</TD>
</TR><TR align="left">
<TD align="left"><p>12.</TD>

<TD align="left"><p>JIS
X 0212-1990	
</TD>

<TD align="left"><p>Code
of the supplementary Japanese Graphic Character set for information interchange
</TD>
</TR><TR align="left">
<TD align="left"><p>13.</TD>

<TD align="left"><p>JIS
X 0208-1990	
</TD>

<TD align="left"><p>Code
for the Japanese Graphic Character set for information interchange
</TD>
</TR><TR align="left">
<TD align="left"><p>14.</TD>

<TD align="left"><p>RFC
1468	
</TD>

<TD align="left"><p>Japanese
Character Encoding for Internet Messages
</TD>
</TR></TABLE>
<blockquote>This
approach is in harmony with DICOM. 
Character Repertoires supported by DICOM are defined in Part 5, section 62E1,
of Supplement 9.  It says, "Values that are text or character strings can be
composed of Graphic and Control Characters.  The Graphic Character set,
independent of its encoding, is referred to as a Character Repertoire.
Depending on the native context in which Application Entities wish to exchange
data using the DICOM standard, different character repertoires will be used.
The Character Repertoires supported by DICOM are defined in ISO 8859."
In addition, DICOM supports the following Character Repertoires for the
Japanese Language :
JIS X 0201-1976  -  Code for Information Exchange
JIS X 0208-1990  -  Code for the Japanese Graphic Character set for information
interchange
JIS X 0212-1990  -  Code of the supplementary Japanese Graphic Character set
for information interchange
</blockquote>
<h3>
<A NAME="Heading165">2.8.31 PT - processing type</A></h3>

<p><tt>Components:
&lt;processing ID (ID)&gt; ^ &lt;processing mode (ID)&gt;</tt></p>
<blockquote>This data type indicates whether to process a message as defined in
HL7 Application (level 7) Processing rules.</blockquote>
<h4>
<A NAME="Heading166">2.8.31.1 Processing ID (ID)</A></h4>

<blockquote>A
value that defines whether the message is part of a production, training, or
debugging system.  Refer to <i>HL7 table 0103 - Processing ID</i> for valid
values.</blockquote>
<h4>
<A NAME="Heading167">2.8.31.2 Processing mode (ID)</A></h4>

<blockquote>A
value that defines whether the message is part of an archival process or an
initial load.  Refer to <i>HL7 table 0207 - Processing mode</i> for valid values.
</blockquote>
<h3>
<A NAME="Heading168">2.8.32 QIP - query input parameter list</A></h3>

<p><tt>Components:
&lt;field name (ST) &gt; ^ &lt;value1 (ST) &amp; value2 (ST) &amp; value3 (ST)
...&gt;</tt><br>
Definition:  This field contains the list of parameter names and values to be
passed to the stored procedure.  </p>

<h4>
<A NAME="Heading169">2.8.32.1 Field name (ST)</A></h4>

<p>This
component contains the field name.<br>
Field naming conventions:<br>
Fields are designated by the "@" symbol concatenated with the HL7 item number
for the field.  If the field is divided into components, the designation may be
suffixed with ".nn," to identify a particular component (a suffix of ".3"
indicates the third component of the field); otherwise, the whole field is
assumed.  If the field is further divided into subcomponents, the designation
is suffixed with ".nn.mm," which identifies the component and subcomponent
requested by relative position.<br>
Site-specific fields may be used, provided that they begin with the letter
<b>"Z." </b>In this case, site-specific item numbers must be defined that do
not conflict with existing HL7 item numbers.<br>
Values for this field are defined in the function-specific chapters of this
specification.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
If the "@" is being used as one of the delimiter characters defined in
<i>MSH-2-encoding characters</i>, it must be "escaped ." (See Section  2.9.1,"
Formatting codes".)
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading170">2.8.32.2 Value1 &amp; value2 &amp; value3 (ST)</A></h4>

<p>This
component contains the field value or values in the form "value1&amp; value2
&amp; value3 ..."</p>
<blockquote>A single valued parameter contains only a single subcomponent in
the second component:  thus no subcomponent delimiters are needed (e.g.,
<tt>&lt;field name&gt; ^ &lt;value&gt;</tt>).  A simple list of values (i.e., a
one-dimensional array) may be passed instead of a single value by separating
each value with the subcomponent delimiter: ,"<tt>&lt;field name&gt;</tt> ^
<tt>&lt;value1 &amp; value2 &amp;...&gt;</tt>"
</blockquote>
<h3>
<A NAME="Heading171">2.8.33 QSC - query selection criteria</A></h3>

<p><tt>Components:
&lt;name of field (ST)&gt; ^ &lt;relational operator (ID)&gt; ^ &lt;value
(ST)&gt; ^ &lt;relational conjunction (ID)&gt;</tt><br>
Definition:  This field indicates the conditions that qualify the rows to be
returned in the query response.  (This field conveys the same information as
the "WHERE" clause in the corresponding SQL expression of the query, but is
formatted differently.)</p>

<h4>
<A NAME="Heading172">2.8.33.1 Name of field (ST)</A></h4>

<p>The
name of the field that is participating as a qualifier (usually the "key").
Refer to Section 2.8.32, "QIP - query input parameter list," for field naming
conventions.</p>

<h4>
<A NAME="Heading173">2.8.33.2 Relational operator (ID)</A></h4>

<p>Refer
to <i>HL7 table 0209 - Relational operator</i> for valid values.</p>

<center>Table 0209 - Relational operator
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Relational
operator
</TD>

<TD align="center"><p>Value</TD>
</TR><TR align="center">
<TD align="center"><p>EQ</TD>

<TD align="center"><p>Equal</TD>
</TR><TR align="center">
<TD align="center"><p>NE</TD>

<TD align="center"><p>Not
Equal
</TD>
</TR><TR align="center">
<TD align="center"><p>LT</TD>

<TD align="center"><p>Less
than
</TD>
</TR><TR align="center">
<TD align="center"><p>GT</TD>

<TD align="center"><p>Greater
than
</TD>
</TR><TR align="center">
<TD align="center"><p>LE</TD>

<TD align="center"><p>Less
than or equal
</TD>
</TR><TR align="center">
<TD align="center"><p>GE</TD>

<TD align="center"><p>Greater
than or equal
</TD>
</TR><TR align="center">
<TD align="center"><p>CT</TD>

<TD align="center"><p>Contains</TD>
</TR><TR align="center">
<TD align="center"><p>GN</TD>

<TD align="center"><p>Generic</TD>
</TR></TABLE>

<h4>
<A NAME="Heading174">2.8.33.3 Value (ST)</A></h4>

<p>The
value to which the field will be compared.</p>

<h4>
<A NAME="Heading175">2.8.33.4 Relational conjunction (ID)</A></h4>

<p>Refer
to<i> HL7 table 0210 - Relation conjunction</i> for valid values.  The
relational conjunction, defined as follows: If more than one comparison is to
be made to select qualifying rows, a conjunction relates this repetition of the
field to the next.</p>

<center>Table 0210 - Relational conjunction
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Relational
conjunction
</TD>

<TD align="center"><p>Note</TD>
</TR><TR align="center">
<TD align="center"><p>AND</TD>

<TD align="center"><p>Default</TD>
</TR><TR align="center">
<TD align="center"><p>OR</TD>

<TD align="center"><BR></TD></TR></TABLE>
<p>*
When applied to strings, the relational operators LT, GT, LE, and GE imply an
alphabetic comparison.<br>
*	A "generic" comparison selects a record for inclusion in the response when
the beginning of the designated field matches the select string.<br>
*	Where a repeating field is specified as an operand, a match on any instance
of that field qualifies the row for inclusion in the response message.<br>
*	AND takes precedence over OR.  More sophisticated precedence rules require
that the query be expressed as an embedded query language message or a stored
procedure query message (see Section 2.19, "ENHANCED MODE QUERY MESSAGES," and
also Sections 2.24.15.4, "," and 2.24.20, "SPR - stored procedure request
definition segment."
</p>

<h3>
<A NAME="Heading176">2.8.34   RCD - row column definition</A></h3>

<p><tt>Components:
&lt;HL7 item number (ST)&gt; ^ &lt;HL7 data type (ST)&gt; ^ &lt;maximum column
width (NM)&gt; </tt><br>
Definition: Each repetition of this field consists of three components:</p>

<h4>
<A NAME="Heading177">2.8.34.1 HL7 item number (ST)</A></h4>

<p>The
HL7 item number, which identifies the field occupying the column.  (Refer to
Section 2.8.32, "QIP - query input parameter list," for item numbering
conventions.)</p>

<h4>
<A NAME="Heading178">2.8.34.2 HL7 data type (ST)</A></h4>

<p>The
two or three character HL7 data type, as defined in Section 2.8, "DATA TYPES."</p>

<h4>
<A NAME="Heading179">2.8.34.3 Maximum column width (NM)</A></h4>

<p>The
maximum width of the column, as dictated by the responding system.  (This may
vary from the HL7-defined maximum field length.)
</p>

<h3>
<A NAME="Heading180">2.8.35 RI - repeat interval</A></h3>

<p><tt>Components:
 &lt;repeat pattern (IS)&gt; ^ &lt;explicit time interval (ST)&gt;</tt><br>
Definition:  This field contains the interval between repeating appointments.
The default setting indicates that the appointment should occur once, when the
component is not valued.  The definition of this field is equivalent to the
definition of the Interval component of the Quantity/Timing field given in
Chapter 4, Section 4.4.2 "Interval component (CM)."</p>

<h4>
<A NAME="Heading181">2.8.35.1 Repeat pattern (IS)</A></h4>

<p>The
first component is defined by <i>user-defined table 0335 - Repeat pattern</i>.
See Section  4.4.2.1 "Repeat pattern,"  for further details.</p>

<h4>
<A NAME="Heading182">2.8.35.2 Explicit time interval (ST)</A></h4>

<p>The
second component explicitly lists the actual times referenced by the code in
the first subcomponent, in the following format: HHMM,HHMM,HHMM,....  This
second subcomponent will be used to clarify the first subcomponent in cases
where the actual administration times vary within an institution. See Section
4.4.2.2, "Explicit time interval subcomponent," for further details.
</p>

<h3>
<A NAME="Heading183">2.8.36 RP - reference pointer</A></h3>

<p><tt>Components:
 &lt;pointer (ST) &gt; ^ &lt; application ID (HD)&gt; ^ &lt;type of data
(ID)&gt; ^ &lt;subtype (ID)&gt;</tt><br>
This data type transmits information about data stored on another system.  It
contains a reference pointer that uniquely identifies the data on the other
system, the identity of the other system, and the type of data.</p>

<h4>
<A NAME="Heading184">2.8.36.1 Pointer (ST)</A></h4>

<p>A
unique key assigned by the system that stores the data.  The key, which is an
ST data type, is used to identify and access the data.
</p>

<h4>
<A NAME="Heading185">2.8.36.2 Application ID (HD)</A></h4>

<p><tt>Subcomponents:
&lt;namespace ID (IS)&gt; &amp; &lt; universal ID (ST)&gt; &amp; &lt;universal
ID type (ID)&gt;</tt><br>
A unique designator of the system that stores the data.  It is an HD data type
(See Section 2.8.20, "HD - hierarchic designator").  It is equivalent to the
application ID of the placer or filler order number (see Chapter 4).
Application ID's must be unique across a given HL7 implementation.
</p>

<h4>
<A NAME="Heading186">2.8.36.3 Type of data (ID)</A></h4>

<p>An
ID data type that declares the general type of data.  Refer to <i>HL7 table
0191- Type of referenced</i> <i>data</i> for valid values.
</p>

<center>Table 0191 - Type of referenced data
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>SI</TD>

<TD align="center"><p>Scanned
image (HL7 v 2.2 only)
</TD>
</TR><TR align="center">
<TD align="center"><p>NS</TD>

<TD align="center"><p>Non-scanned
image (HL7 v 2.2 only)
</TD>
</TR><TR align="center">
<TD align="center"><p>SD</TD>

<TD align="center"><p>Scanned
document (HL7 v 2.2 only)
</TD>
</TR><TR align="center">
<TD align="center"><p>TX</TD>

<TD align="center"><p>Machine
readable text document (HL7 v 2.2 only)
</TD>
</TR><TR align="center">
<TD align="center"><p>FT</TD>

<TD align="center"><p>Formatted
text (HL7 v 2.2 only)
</TD>
</TR><TR align="center">
<TD align="center"><p>SGML</TD>

<TD align="center"><p>Structured
Generalized Markup Language (HL7 v 2.3.1 only)
</TD>
</TR><TR align="center">
<TD align="center"><p>Image</TD>

<TD align="center"><p>Image
data  (HL7 v 2.3)
</TD>
</TR><TR align="center">
<TD align="center"><p>Audio</TD>

<TD align="center"><p>Audio
data  (HL7 v 2.3)
</TD>
</TR><TR align="center">
<TD align="center"><p>Application</TD>

<TD align="center"><p>Other
application data, typically uninterpreted binary data  (HL7 v 2.3)
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading187">2.8.36.4 Subtype (ID)</A></h4>

<p>An
ID data type declaring the format for the data of subcomponent &lt;main
type&gt;.  Refer to <i>HL7 table 0291</i> - <i>Subtype of referenced data</i>
for valid values.<br>
<center>Table 0291 - Subtype of referenced data</center><br>
</p>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>TIFF</TD>

<TD align="center"><p>TIFF
image data
</TD>
</TR><TR align="center">
<TD align="center"><p>PICT</TD>

<TD align="center"><p>PICT
format image data 
</TD>
</TR><TR align="center">
<TD align="center"><p>DICOM</TD>

<TD align="center"><p>Digital
Imaging and Communications in Medicine
</TD>
</TR><TR align="center">
<TD align="center"><p>FAX</TD>

<TD align="center"><p>Facsimile
data
</TD>
</TR><TR align="center">
<TD align="center"><p>JOT</TD>

<TD align="center"><p>Electronic
ink data (Jot 1.0 standard)
</TD>
</TR><TR align="center">
<TD align="center"><p>BASIC</TD>

<TD align="center"><p>ISDN
PCM audio data
</TD>
</TR><TR align="center">
<TD align="center"><p>Octet-stream</TD>

<TD align="center"><p>Uninterpreted
binary data
</TD>
</TR><TR align="center">
<TD align="center"><p>PostScript</TD>

<TD align="center"><p>PostScript
program
</TD>
</TR><TR align="center">
<TD align="center"><p>JPEG</TD>

<TD align="center"><p>Joint
Photographic Experts Group 
</TD>
</TR><TR align="center">
<TD align="center"><p>GIF</TD>

<TD align="center"><p>Graphics
Interchange Format<i> 
</i></TD>
</TR><TR align="center">
<TD align="center"><p>HTML</TD>

<TD align="center"><p>Hypertext
Markup Language
</TD>
</TR><TR align="center">
<TD align="center"><p>XML</TD>

<TD align="center"><p>Extensible
Markup Language (HL7 v 2.3.1 only)
</TD>
</TR><TR align="center">
<TD align="center"><p>RTF</TD>

<TD align="center"><p>Rich
Text Format
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading188">2.8.36.5 Type-subtype combinations</A></h4>

<p>Possible
subtypes are specific to main types (though in principle the same subtype could
be used for more than one main type), and so are defined under their main
types.<br>
Additional subtypes may be added to this Standard.  In addition, private,
non-standard subtypes may be defined by agreement between cooperating parties.
All private, non-standard subtypes should begin with the letter <b>Z</b> to
distinguish them from the standard subtypes.</p>

<h5>
<A NAME="Heading189">2.8.36.5.1 Image subtypes</A></h5>

<p><tt>TIFF
= TIFF image data</tt><br>
TIFF (Tagged Image File Format) is one of the common formats for scanned
images.  Its first version was developed in 1986 by Aldus Corporation as a
standard for encoding scanned images.  The official version of the TIFF
standard is now maintained by Adobe Corporation.  TIFF format is specified in
the document "TIFF, Revision 6.0." Adobe Systems Incorporated, 1585 Charleston
Road, P.O. Box 7900, Mountain View, CA  94039-7900.  <br>
415-961-4400<br>
The subtype "TIFF" implies recognition of that trademark and all the rights it
entails. <br>
<tt>PICT = PICT format image data</tt><br>
PICT is one of the common formats for scanned images.  PICT is a graphics
format developed by Apple Computer, Inc., Cupertino, California.  PICT format
is officially defined in the book set "Inside Macintosh," published by
Addison-Wesley Publishing Company, Reading, Massachusetts.<br>
<tt>DICOM = the Digital Imaging and Communications in Medicine (DICOM)
standard</tt><br>
DICOM is the format developed jointly by the American College of Radiology
(ACR) and the National Electrical Manufacturers Association (NEMA) as the
standard for interchange of radiological images and ancillary data.  It is
standardized as NEMA PS3, and is available from:<br>
NEMA<br>2101 L Street NW<br>Washington, DC 20037<br>
DICOM specifies a complete communications standard, including a generic
messaging service for two-way exchange of imaging-related information between
applications, as well as transfer of the actual images. In HL7, the use of
DICOM data is limited to images only.<br>
Images in this subtype shall be encoded according to the Generic DICOM File
Format defined in DICOM Part 10, Media Storage and File Format (NEMA PS3.10).
This shall be in accordance with the Image Information Object Definitions of
DICOM Part 3 (NEMA PS3.3), Data Structure and Semantics of DICOM Part 5 (NEMA
PS3.5), and the Data Dictionary of DICOM Part 6 (NEMA PS3.6). <br>
The Generic DICOM File Format consists of two parts: a DICOM File Meta
Information Header, immediately followed by a DICOM Data Set.  The DICOM Data
Set contains the image or images  specified according to DICOM Part 10.  The
DICOM File Meta Information Header contains, among other information, a
Transfer Syntax UID (Unique Identifier) which completely specifies the encoding
of the Data Set according to DICOM Part 5.  This encoding defines big endian
vs. little endian byte ordering, as well as image compression via the JPEG
(Joint Photographics Experts Group) standard (ISO/IS 10918-1 and 10918-2).  The
transfer syntax of the File Meta Information Header itself is little endian
byte ordered, as required by DICOM Part 10.<br>
<tt>FAX = facsimile data</tt><br>
Facsimile data as specified by CCITT standards F1.60, F1.80, F1.82, and
F1.84.<br>
<tt>Jot = electronic ink data, as specified by the Jot 1.0 standard</tt><br>
The JOT standard, proposed jointly by Slate Corporation, Microsoft, Apple,
Lotus, GO, and General Magic, allows handwritten notes, sketches, signatures
and other free-form written data to be transmitted.  It is the standard by
which portable pen computers or workstations equipped with stylus-input tablets
can represent and exchange information.  <br>
It represents electronic ink as a series of stylus strokes, and therefore
contains necessary information for potential automatic handwriting recognition,
which would be lost if converted to other image representations.  It may,
however, be readily converted to another image representation for purposes of
printing or display.<br>
The JOT 1.0 standard is available from:<br>
Software Publishers Association<br>1730 M Street Northwest, Suite
700<br>Washington, DC 20036-4510<br>202-452-1600</p>

<h5>
<A NAME="Heading190">2.8.36.5.2 Audio subtypes</A></h5>

<p><tt>basic
= ISDN PCM audio data</tt><br>
Telephone quality audio data, encoded as 8-bit ISDN mu-law Pulse Code
Modulation sampled at 8 kHz, according to CCITT Fascicle III.4, Recommendation
G.711.  This subtype may be used for voice mail messages as well as voice
dictation.</p>

<h5>
<A NAME="Heading191">2.8.36.5.3 Application subtypes</A></h5>

<p><tt>octet-stream
= uninterpreted binary data</tt><br>
This subtype is for binary data which has none of the other standard formats as
given by Section 2.8.36.3, "Type of data (ID)."  Its interpretation by the
system utilizing the data must be mutually agreed upon by sending and receiving
parties.<br>
<tt>PostScript = PostScript program</tt><br>
A PostScript language program typically representing a formatted document for
printing on a PostScript printer, or for display on a computer screen via a
PostScript interpreter. <br>
PostScript consists of the original specification, PostScript level 1,
described in "PostScript Language Reference Manual," Addison-Wesley, 1985, and
a more advanced variant, PostScript level 2, described in "PostScript Language
Reference Manual," Addison-Wesley, Second Edition, 1990.  PostScript is a
registered trademark of Adobe Systems, Inc.  Use of the subtype "PostScript"
implies recognition of that trademark and all the rights it entails.<br>
Other types may be added as needed.<br>
Example:<br>
|1234A321634BC^EFC^SD|
</p>

<h3>
<A NAME="Heading192">2.8.37 SCV - scheduling class value pair</A></h3>

<p><tt>Components:
 &lt;parameter class (IS)&gt; ^ &lt;parameter value (ST)&gt;</tt><br>
For use only with the scheduling chapter. <br>
Definition:  This field is used to communicate parameters and preferences to
the filler application regarding the selection of an appropriate <i>time slot,
resource, location, or filler override criterion</i>  for an appointment.  </p>

<h4>
<A NAME="Heading193">2.8.37.1 Parameter class (IS)</A></h4>

<p>The
first component of this field is a code identifying the parameter or preference
being passed to the filler application.  </p>

<h4>
<A NAME="Heading194">2.8.37.2 Parameter value (IS)</A></h4>

<p>The
second component is the actual data value for that parameter. <br>
For example, if a filler application allows preference parameters to be passed
to specify a preferred start time, a preferred end time, and preferred days of
the week for the appointment, it may define the following parameter class codes
and valid data sets.<br>
<center>User-defined Table 0294 - Time selection criteria parameter class
codes</center><br>
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b><u>Parameter
Class
</u></b></TD>

<TD align="left"><p><b><u>Description:
 Valid Values
</u></b></TD>
</TR><TR align="left">
<TD align="left"><p>PREFSTART</TD>

<TD align="left"><p>The
preferred start time for the appointment request, service or resource.   Any
legal time specification in the format HHMM, using 24-hour clock notation
</TD>
</TR><TR align="left">
<TD align="left"><p>PREFEND</TD>

<TD align="left"><p>The
preferred end time for the appointment request, service or resource.  Any legal
time specification in the format HHMM, using 24-hour clock notation
</TD>
</TR><TR align="left">
<TD align="left"><p>MON</TD>

<TD align="left"><p>An
indicator that Monday is or is not preferred for the day on which the
appointment will occur.  OK = Preferred appointment day<br>NO = Day is not
preferred
</TD>
</TR><TR align="left">
<TD align="left"><p>TUE</TD>

<TD align="left"><p>An
indicator that Tuesday is or is not preferred for the day on which the
appointment will occur.  OK = Preferred appointment day<br>NO = Day is not
preferred
</TD>
</TR><TR align="left">
<TD align="left"><p>WED</TD>

<TD align="left"><p>An
indicator that Wednesday is or is not preferred for the day on which the
appointment will occur. OK = Preferred appointment day<br>NO = Day is not
preferred
</TD>
</TR><TR align="left">
<TD align="left"><p>THU</TD>

<TD align="left"><p>An
indicator that Thursday is or is not preferred for the day on which the
appointment will occur.  OK = Preferred appointment day<br>NO = Day is not
preferred
</TD>
</TR><TR align="left">
<TD align="left"><p>FRI</TD>

<TD align="left"><p>An
indicator that Friday is or is not preferred for the day on which the
appointment will occur.  OK = Preferred appointment day<br>NO = Day is not
preferred
</TD>
</TR><TR align="left">
<TD align="left"><p>SAT</TD>

<TD align="left"><p>An
indicator that Saturday is or is not preferred for the day on which the
appointment will occur.  OK = Preferred appointment day<br>NO = Day is not
preferred
</TD>
</TR><TR align="left">
<TD align="left"><p>SUN</TD>

<TD align="left"><p>An
indicator that Sunday is or is not preferred for the day on which the
appointment will occur.  OK = Preferred appointment day<br>NO = Day is not
preferred
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading195">2.8.38 SI - sequence ID</A></h3>

<p>A
non-negative integer in the form of an NM field.  The uses of this data type
are defined in the chapters defining the segments and messages in which it
appears.
</p>

<h3>
<A NAME="Heading196">2.8.39 SN - structured numeric</A></h3>

<p><tt>Components:
 &lt;comparator (ST)&gt; ^ &lt;num1 (NM)&gt; ^ &lt;separator/suffix (ST)&gt; ^
&lt;num2 (NM)&gt;</tt><br>
The structured numeric data type is used to unambiguously express numeric
clinical results along with qualifications.  This enables receiving systems to
store the components separately, and facilitates the use of numeric database
queries.  The corresponding sets of values indicated with the
&lt;comparator&gt; and &lt;separator/suffix&gt; components are intended to be
the authoritative and complete set of values.  If additional values are needed
for the  &lt;comparator&gt; and &lt;separator/suffix&gt; components, they
should be submitted to HL7 for inclusion in the Standard. <br>
If &lt;num1&gt; and &lt;num2&gt; are both non-null, then the separator/suffix
must be non-null.  If the separator is "-", the data range is inclusive; e.g.,
&lt;num1&gt; - &lt;num2&gt; defines a range of numbers <i>x</i>, such that:
&lt;num1&gt; &lt;=<i>x</i>&lt;= &lt;num2&gt;.</p>

<h4>
<A NAME="Heading197">2.8.39.1 &lt;comparator&gt;  =  "&gt;" or "&lt;" or "&gt;=" or "&lt;=" or "=" or "&lt;&gt;"</A></h4>

<p>Defined
as greater than, less than, greater than or equal, less than or equal, equal,
and not equal, respectively.  If this component is not valued, it defaults to
equal ("=").</p>

<h4>
<A NAME="Heading198">2.8.39.2 &lt;num1&gt;  (NM)</A></h4>

<p>A
number. </p>

<h4>
<A NAME="Heading199">2.8.39.3 &lt;separator/suffix&gt;  (ST)</A></h4>

<p>"-"
or "+" or "/" or "." or ":"<br>
Examples:<br>
|&gt;^100|				(greater than 100)<br>
|^100^-^200|		(equal to range of 100 through 200)<br>
|^1^:^228|          (ratio of 1 to 128, e.g., the results of a serological
test)<br>
|^2^+|              (categorical response, e.g., occult blood positivity)</p>

<h4>
<A NAME="Heading200">2.8.39.4 &lt;num2&gt; (NM)</A></h4>

<p>A
number or null depending on the measurement.
</p>

<h3>
<A NAME="Heading201">2.8.40 ST - string data</A></h3>

<p>String
data is left justified with trailing blanks optional.  Any displayable
(printable) ACSII characters (hexadecimal values between 20 and 7E, inclusive,
or ASCII decimal values between 32 and 126), except the defined delimiter
characters.  Example:<br>
|almost any data at all|<br>
To include any HL7 delimiter character (except the segment terminator) within a
string data field, use the appropriate HL7 escape sequence (see Section 2.9.1,
"Formatting codes").<br>
<b>Usage note</b>:  the ST data type is intended for short strings (e.g., less
than 200 characters).  For longer strings the TX  or FT data types should be
used (see Sections 2.8.45, "TX - text data," or 2.8.19, "FT - formatted text
data").
</p>

<h3>
<A NAME="Heading202">2.8.41 TM - time</A></h3>

<p><tt>Format:
HH[MM[SS[.S[S[S[S]]]]]][+/-ZZZZ]</tt><br>
In prior versions of HL7, this data type was always specified to be in the
format HHMM[SS[.SSSS]][+/-ZZZZ] using a 24 hour clock notation.  In the current
and future versions, the precision of a time may be expressed by limiting the
number of digits used with the format specification as shown above.  By
site-specific agreement, HHMM[SS[.SSSS]][+/-ZZZZ] may be used where backward
compatibility must be maintained.<br>
Thus, HH is used to specify a precision of "hour," HHMM is used to specify a
precision of "minute," HHMMSS is used to specify a precision of seconds, and
HHMMSS.SSSS is used to specify a precision of  ten-thousandths of a second.
<br>
In each of these cases, the time zone is an optional component. The fractional
seconds could be sent by a transmitter who requires greater precision than
whole seconds.  Fractional representations of minutes, hours or other higher
orders units of time are not permitted.  <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
     The time zone [+/-ZZZZ], when used, is restricted to legally-defined time
zones and is represented in HHMM format.
</TD>
</TR></TABLE>
<p>The
time zone of the sender may be sent optionally as an offset from the
coordinated universal time (previously known as Greenwich Mean Time).  Where
the time zone is not present in a particular TM field but is included as part
of the date/time field in the MSH segment, the MSH value will be used as the
default time zone.  Otherwise, the time is understood to refer to the local
time of the sender.  Midnight is represented as 0000.  Examples:<br>
|235959+1100|		1 second before midnight in a time zone eleven <br>					hours
ahead of Universal Coordinated Time (i.e.,<br>					 east of Greenwich).<br>
|0800|				Eight AM, local time of the sender.<br>
|093544.2312|		44.2312 seconds after Nine thirty-five AM, local time<br>
of sender. <br>
|13|				1pm (with a precision of hours), local time of sender.
</p>

<h3>
<A NAME="Heading203">2.8.42 TN - telephone number</A></h3>

<p>For
use in the United States and conforming countries, the telephone number is
always in the form:<br>
<tt>Format:  [NN] [(999)]999-9999[X99999][B99999][C any text]</tt><br>
The optional first two digits are the country code.  The optional <b>X</b>
portion gives an extension.  The optional <b>B</b> portion gives a beeper code.
The optional <b>C</b> portion may be used for comments like, <b>After 6:00</b>.
While no explicit limit is placed on the text field, receiving systems may be
expected to truncate values that are more than 10 characters long.  To
accommodate the variability of institutional phone systems, the length of the
extension and beeper numbers may be extended by local agreement.  Examples: <br>
|(415)925-0121X305|<br>
|234-4532CWEEKENDS|
</p>

<h3>
<A NAME="Heading204">2.8.43 TQ - timing quantity</A></h3>

<p>Describes
when a service should be performed and how frequently.  See Chapter 4 (Section
4.4, "QUANTITY/TIMING (TQ) DEFINITION") for a complete description of this data
type.
</p>

<h3>
<A NAME="Heading205">2.8.44 TS - time stamp  </A></h3>

<p><tt>Format:
 YYYY[MM[DD[HHMM[SS[.S[S[S[S]]]]]]]][+/-ZZZZ]^&lt;degree of
precision&gt;</tt><br>
Contains the exact time of an event, including the date and time.  The date
portion of a time stamp follows the rules of a date field and the time portion
follows the rules of a time field.  The specific data representations used in
the HL7 encoding rules are compatible with ISO 8824-1987(E).  <br>
<b>In prior versions of HL7, an optional second component indicates the degree
of precision of the time stamp (Y = year, L = month, D = day, H = hour, M =
minute, S = second).  This optional second component is retained only for
purposes of backward compatibility.  </b><br>
By site-specific agreement,
YYYYMMDD[HHMM[SS[.S[S[S[S]]]]]][+/-ZZZZ]^&lt;degree of precision&gt; may be
used where backward compatibility must be maintained.<br>
In the current and future versions of HL7, the precision is indicated by
limiting the number of digits used, unless the optional second component is
present.  Thus, YYYY is used to specify a precision of "year," YYYYMM specifies
a precision of "month," YYYYMMDD specifies a precision of "day," YYYYMMDDHH is
used to specify a precision of "hour," YYYYMMDDHHMM is used to specify a
precision of "minute," YYYYMMDDHHMMSS is used to specify a precision of
seconds, and YYYYMMDDHHMMSS.SSSS is used to specify a precision of ten
thousandths of a second.  In each of these cases, the time zone is an optional
component.  Maximum length of the time stamp is 26.  Examples:<br>
|19760704010159-0500|	1:01:59 on July 4, 1976 in the Eastern <br>						Standard
Time zone.<br>
|19760704010159-0400|	1:01:59 on July 4, 1976 in the Eastern <br>						Daylight
Saving Time zone.<br>
|198807050000|			Midnight of the night extending from July 4 to<br>						July
5, 1988 in the local time zone of the sender. <br>
|19880705|				Same as prior example, but precision extends<br>						only to the
day.  Could be used for a <br>						birthdate, if the time of birth is
unknown.<br>
The HL7 Standard strongly recommends that all systems routinely send the time
zone offset but does not require it.  All HL7 systems are required to accept
the time zone offset, but its implementation is application specific.  For many
applications the time of interest is the local time of the sender.  For
example, an application in the Eastern Standard Time zone receiving
notification of an admission that takes place at 11:00 PM in San Francisco on
December 11 would prefer to treat the admission as having occurred on December
11 rather than advancing the date to December 12.
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
     The time zone [+/-ZZZZ], when used, is restricted to legally-defined time
zones and is represented in HHMM format.
</TD>
</TR></TABLE>
<p>One
exception to this rule would be a clinical system that processed patient data
collected in a clinic and a nearby hospital that happens to be in a different
time zone.  Such applications may choose to convert the data to a common
representation.  Similar concerns apply to the transitions to and from daylight
saving time.  HL7 supports such requirements by requiring that the time zone
information be present when the information is sent.  It does not, however,
specify which of the treatments discussed here will be applied by the receiving
system. 
</p>

<h3>
<A NAME="Heading206">2.8.45 TX - text data  </A></h3>

<p>String
data meant for user display (on a terminal or printer).  Such data would not
necessarily be left justified since leading spaces may contribute greatly to
the clarity of the presentation to the user.  Because this type of data is
intended for display, it may contain certain escape character sequences
designed to control the display.  Escape sequence formatting is defined later
in this chapter in Section 2.9, "USE OF ESCAPE SEQUENCES IN TEXT FIELDS."
Leading spaces should be included.  Trailing spaces should be removed.
Example:<br>
|  leading spaces are allowed.|<br>
Since TX data is intended for display purposes, the repeat delimiter, when used
with a TX data field, implies a series of repeating lines to be displayed on a
printer or terminal.  Therefore, the repeat delimiters are regarded as
paragraph terminators or hard carriage returns (e.g., they would display as
though a CR/LF were inserted in the text (DOS type system) or as though a LF
were inserted into the text (UNIX style system)).<br>
A receiving system would word-wrap the text between repeat delimiters in order
to fit it into an arbitrarily sized display window but start any line beginning
with a repeat delimiter on a new line.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Usage
note: </b>The maximum length of a TX data field is 64K.
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading207">2.8.46 VH - visiting hours </A></h3>

<p><tt>Components:
 &lt;start day range (ID)&gt; ^ &lt;end day range (ID)&gt; ^ &lt;start hour
range (TM)&gt; ^ &lt;end hour range (TM)&gt;</tt><br>
Definition:  This data type contains the hours when a patient location is open
for visiting.  Refer to<i> HL7 table 0267 - Days of the week</i> for valid
values for the first two components.
</p>

<h4>
<A NAME="Heading208">2.8.46.1 Start day range (ID)</A></h4>

<p>Starting
day of visiting hours range.  See <i>HL7 table 0267 - Days of the week</i> for
values.
</p>

<h4>
<A NAME="Heading209">2.8.46.2 End day range (ID)</A></h4>

<p>Ending
day of visiting hours range.  Starting day of visiting hours range.  <i>See HL7
table 0267 - Days of the week</i> for values<br>
<center>Table  0267 - Days of the Week</center><br>
</p>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>SAT</TD>

<TD align="center"><p>Saturday</TD>
</TR><TR align="center">
<TD align="center"><p>SUN</TD>

<TD align="center"><p>Sunday</TD>
</TR><TR align="center">
<TD align="center"><p>MON</TD>

<TD align="center"><p>Monday</TD>
</TR><TR align="center">
<TD align="center"><p>TUE</TD>

<TD align="center"><p>Tuesday</TD>
</TR><TR align="center">
<TD align="center"><p>WED</TD>

<TD align="center"><p>Wednesday</TD>
</TR><TR align="center">
<TD align="center"><p>THU</TD>

<TD align="center"><p>Thursday</TD>
</TR><TR align="center">
<TD align="center"><p>FRI</TD>

<TD align="center"><p>Friday</TD>
</TR></TABLE>

<h4>
<A NAME="Heading210">2.8.46.3 Start hour range (TM)</A></h4>

<p>Starting
hour on starting day of visiting hours range (see first component, 2.8.46.1,
"Start day range").</p>

<h4>
<A NAME="Heading211">2.8.46.4 End hour range (TM)</A></h4>

<p>Ending
hour on ending day of visiting hours range (see second component, 2.8.46.2,
"End day range").</p>

<h3>
<A NAME="Heading212">2.8.47 VID - version identifier</A></h3>

<p><tt>Components:
 &lt;version ID(ID)&gt; ^ &lt;internationalization code (CE)&gt; ^
&lt;international version ID (CE)</tt></p>

<h4>
<A NAME="Heading213">2.8.47.1 Version ID (ID)</A></h4>

<p>Used
to identify the HL7 version.  Refer <i>to HL7 table 0104 - Version ID</i> for
valid values.</p>

<h4>
<A NAME="Heading214">2.8.47.2 Internationalization code (CE)</A></h4>

<p>Used
to identify the international affiliate country code.  Refer to ISO country
codes where appropriate.</p>

<h4>
<A NAME="Heading215">2.8.47.3 International version ID (CE)</A></h4>

<p>This
field identifier international affiliate's version and is used when the
international affiliate has more than a single local version associated with a
single US version.
</p>

<h3>
<A NAME="Heading216">2.8.48 XAD - extended address</A></h3>

<p><tt>Components:
 &lt;street address (ST)&gt; ^ &lt;other designation (ST)&gt; ^ &lt;city
(ST)&gt; ^ &lt;state or province (ST)&gt; ^ &lt;zip or postal code(ST)&gt; ^
&lt;country (ID)&gt; ^ &lt; address type (ID)&gt;<b> </b>^ &lt;other geographic
designation (ST)&gt;^<b> </b>&lt;county/parish code (IS)&gt; ^ &lt;census tract
(IS)&gt; ^ &lt;address representation code(ID)&gt; </tt><br>
Example:<br>
|1234 Easy St.^Ste. 123^San Francisco^CA^95123^USA^B^^SF^|</p>

<h4>
<A NAME="Heading217">2.8.48.1 Street address (ST)</A></h4>

<p>The
street or mailing address of a person or institution.</p>

<h4>
<A NAME="Heading218">2.8.48.2 Other designation (ST)</A></h4>

<blockquote>Second
line of address.  In general, it qualifies address.  Examples:  Suite 555 or
Fourth Floor.</blockquote>
<h4>
<A NAME="Heading219">2.8.48.3 City (ST)</A></h4>


<h4>
<A NAME="Heading220">2.8.48.4 State or province (ST)</A></h4>

<p>State
or province should be represented by the official postal service codes for that
country.</p>

<h4>
<A NAME="Heading221">2.8.48.5 Zip or postal code (ST)</A></h4>

<p>Zip
or postal codes should be represented by the official codes for that country.
In the US, the zip code takes the form 99999[-9999], while the Canadian postal
code takes the form A9A-9A9.</p>

<h4>
<A NAME="Heading222">2.8.48.6 Country (ID)</A></h4>

<p>Defines
the country of the address.  ISO 3166 provides a list of country codes that may
be used.</p>

<h4>
<A NAME="Heading223">2.8.48.7 Address type (ID)</A></h4>

<p>Address
type is optional and defined by <i>HL7 table 0190 - Address type</i>.</p>

<h4>
<A NAME="Heading224">2.8.48.8 Other geographic designation (ST)</A></h4>

<p>Other
geographic designation includes county, bioregion, SMSA, etc.</p>

<h4>
<A NAME="Heading225">2.8.48.9 County/parish code (IS)</A></h4>

<p>A
code that represents the county in which the specified address resides. Refer
to <i>user-defined table 0289 - County/parish</i>.  When this component is used
to represent the county (or parish), component 8 "other geographic designation"
should not duplicate it (i.e., the use of "other geographic designation" to
represent the county is allowed only for the purpose of backward compatibility,
and should be discouraged in this and future versions of HL7).<br>
Allowable values:  codes defined by government.</p>

<h4>
<A NAME="Heading226">2.8.48.10 Census tract (IS)</A></h4>

<p>A
code that represents the census track in which the specified address resides.
Refer to <i>user-defined table 0288 - Census tract</i>.<br>
Allowable Values:  codes defined by government.</p>

<h4>
<A NAME="Heading227">2.8.48.11 Address representation code (ID) </A></h4>

<p>Different
name/address types and representations of the same name/address  should be
described by repeating of this field, with different values of the Name/Address
Type and/or Name/Address Representation component.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	Also note that this new component remains in "alphabetic" representation with
each repetition of the fields using these data types. I.e. even though the
address may be represented in an ideographic character set, this component will
remain represented in an alphabetic character set.
</TD>
</TR></TABLE>
<p></p>

<center>Table 4000 - Name/address representation
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>I</TD>

<TD align="center"><p>Ideographic
(i.e., Kanji)
</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Alphabetic
(i.e., Default or some single-byte)
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Phonetic
(i.e., ASCII, Katakana, Hirigana, etc.)
</TD>
</TR></TABLE>
<blockquote>In
general this component provides an indication of the representation provided by
the data item.  It does not necessarily specify the character sets used. Thus,
even though the representation might provide an indication of what to expect,
the sender is still free to encode the contents using whatever character set is
desired.  This component provides only hints for the receiver, so it can make
choices regarding what it has been sent and what it is capable of displaying<A HREF="#Heading1"></A>.</blockquote>
<h3>
<A NAME="Heading228">2.8.49 XCN - extended composite ID number and name for persons</A></h3>

<p><tt>Components:
&lt;ID number (ST)&gt; ^ &lt;family name (ST) &gt; &amp; &lt; last_name_prefix
(ST)&gt; ^ &lt;given name (ST)&gt; ^ &lt;middle initial or name (ST)&gt; ^
&lt;suffix (e.g., JR or III) (ST)&gt; ^ &lt;prefix (e.g., DR) (ST)&gt; ^
&lt;degree (e.g., MD) (ST)&gt; ^ &lt;source table (IS)&gt; ^ &lt;assigning
authority (HD)&gt; ^ &lt;name type code(ID)&gt;  ^ &lt;identifier check digit
(ST)&gt; ^ &lt;code identifying the check digit scheme employed (ID )&gt; ^
&lt;identifier type code (IS)&gt; ^ &lt;assigning facility (HD)&gt; ^ &lt; name
representation code(ID)&gt;</tt><br>
<tt>Subcomponents of assigning authority:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
<tt>Subcomponents of assigning facility:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
Example:<br>
|1234567^Smith^John^J^III^DR^PHD^ADT01^^L^4^M11^MR|</p>

<h4>
<A NAME="Heading229">2.8.49.1 ID number (ST)</A></h4>

<p>This
string refers to the coded ID according to a user-defined table, defined by the
9<sup>th</sup> component.  If the first component is present, either the source
table or the assigning authority must be valued.</p>

<h4>
<A NAME="Heading230">2.8.49.2 Family name (ST) &amp; last_name_prefix (ST)</A></h4>


<h5>
<A NAME="Heading231">2.8.49.2.1 Family name </A></h5>

<p>Surname/last
name.</p>

<h5>
<A NAME="Heading232">2.8.49.2.2 Last_name_prefix  </A></h5>

<p>Internationalization
usage for Germanic languages. An example of a  "last_name_prefix" is the "van"
in "Ludwig van Beethoven."  Since the last_name_prefix doesn't sort completely
alphabetically, it is reasonable to specify it as a separate sub-component of
the PN and extended PN data types (XPN and XCN). <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	To "translate" these two subcomoponents to a single last name, prepend the
last_name_prefix to the Family name component. If the last_name_prefix is not
null, the last_name_prefix should not also be present as part of the Family
name component. 
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading233">2.8.49.3 Given name (ST)</A></h4>


<h4>
<A NAME="Heading234">2.8.49.4 Middle initial or name (ST)</A></h4>


<h4>
<A NAME="Heading235">2.8.49.5 Suffix (ST)</A></h4>

<p>Used
to specify a name suffix (e.g., Jr. or III).</p>

<h4>
<A NAME="Heading236">2.8.49.6 Prefix (ST) </A></h4>

<p>Used
to specify a name prefix (e.g., Dr.).</p>

<h4>
<A NAME="Heading237">2.8.49.7 Degree (ST) </A></h4>

<p>Used
to specify an educational degree (e.g., MD).</p>

<h4>
<A NAME="Heading238">2.8.49.8 Source table (IS)</A></h4>

<p>Refer
to <i>user-defined table 0297 - CN ID source</i> for suggested values.  Used to
delineate the first component.</p>

<h4>
<A NAME="Heading239">2.8.49.9 Assigning authority (HD)</A></h4>

<p>
In this version an optional 9th component, the assigning authority (HD), has
been added.  It is an HD data type (see Section 2.8.20, "HD - hierarchic
designator").</p>

<h4>
<A NAME="Heading240">2.8.49.10 Name type code (ID)</A></h4>

<p>A
code that represents the type of name.  Refer to <i>HL7 table 0200 - Name
type</i> for valid values (see Section 2.8.51, "XPN - extended person name").</p>

<h4>
<A NAME="Heading241">2.8.49.11 Identifier check digit (ST)</A></h4>

<p>The
check digit in this data type is not an add-on produced by the message
processor.  It is the check digit that is part of the identifying number used
in the sending application.  If the sending application does not include a
self-generated check digit in the identifying number, this component should be
valued null.</p>

<h4>
<A NAME="Heading242">2.8.49.12 Code identifying the check digit scheme employed (ID)</A></h4>

<p>
 Refer <i>to HL7 table 0061 - Check digit scheme</i> for valid values.</p>

<h4>
<A NAME="Heading243">2.8.49.13 Identifier type code (IS)</A></h4>

<p>A
code corresponding to the type of identifier.  In some cases, this code may be
used as a qualifier to the "Assigning authority" component.  Refer <i>to
user-defined table 0203 - Identifier type</i> for suggested values.</p>

<h4>
<A NAME="Heading244">2.8.49.14 Assigning facility (HD)</A></h4>

<p>The
place or location identifier where the identifier was first assigned to the
person.  This component is not an inherent part of the identifier but rather
part of the history of the identifier:  as part of this data type, its
existence is a convenience for certain intercommunicating systems.</p>

<h4>
<A NAME="Heading245">2.8.49.15 Name representation code (ID)</A></h4>

<p>Different
name/address types and representations of the same name/address  should be
described by repeating of this field, with different values of the Name/Address
Type and/or Name/Address Representation component.
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	This new component remains in "alphabetic" representation with each repetition
of the field using these data types. I.e. even though the name may be
represented in an ideographic character set, this component will remain
represented in an alphabetic character set.
</TD>
</TR></TABLE>

<center>Table 4000 - Name/address representation
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>I</TD>

<TD align="center"><p>Ideographic
(i.e., Kanji)
</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Alphabetic
(i.e., Default or some single-byte)
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Phonetic
(i.e., ASCII, Katakana, Hirigana, etc.)
</TD>
</TR></TABLE>
<blockquote>In
general this component provides an indication of the representation provided by
the data item.  It does not necessarily specify the character sets used. Thus,
even though the representation might provide an indication of what to expect,
the sender is still free to encode the contents using whatever character set is
desired.  This component provides only hints for the receiver, so it can make
choices regarding what it has been sent and what it is capable of displaying.
</blockquote>
<h3>
<A NAME="Heading246">2.8.50 XON - extended composite name and identification number for organizations</A></h3>

<p><tt>Components:
 &lt;organization name (ST)&gt; ^ &lt;organization name type code (IS)&gt; ^
&lt;ID number (NM)&gt; ^ &lt;check digit (NM)&gt; ^ &lt;code identifying the
check digit scheme employed (ID)&gt; ^ &lt;assigning authority  (HD)&gt; ^
&lt;identifier type code (IS)&gt; ^ &lt;assigning facility ID (HD)&gt; ^
&lt;name nepresentation code(ID)&gt;</tt><br>
<tt>Subcomponents of assigning authority:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
<tt>Subcomponents of assigning facility:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
Example:<br>
|HL7 Health Center^L^6^M11^HCFA|</p>

<h4>
<A NAME="Heading247">2.8.50.1 Organization name (ST)</A></h4>

<p>The
name of the specified organization.</p>

<h4>
<A NAME="Heading248">2.8.50.2 Organization name type code (IS)</A></h4>

<p>A
code that represents the type of name i.e., legal name, display name.  Refer to
<i>user-defined table 0204 - Organizational name type</i> for suggested values.
</p>

<center>User-defined table 0204 - Organizational name type
</center>
<TABLE>
<TR align="center">
<TD align="center"><p><b><u>Value</u></b></TD>

<TD align="center"><p><b><u>Description</u></b></TD>
</TR><TR align="center">
<TD align="center"><p>A
</TD>

<TD align="center"><p>Alias
Name
</TD>
</TR><TR align="center">
<TD align="center"><p>L</TD>

<TD align="center"><p>Legal
Name
</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Display
Name
</TD>
</TR><TR align="center">
<TD align="center"><p>SL</TD>

<TD align="center"><p>Stock
Exchange Listing Name
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading249">2.8.50.3 ID number (NM)</A></h4>


<h4>
<A NAME="Heading250">2.8.50.4 Check digit (NM)</A></h4>

<p>The
check digit in this data type is <u>not</u> an add-on produced by the message
processor.  It is the check digit that is part of the identifying number used
in the sending application.  If the sending application does not include a
self-generated check digit in the identifying number, this component should be
valued null.</p>

<h4>
<A NAME="Heading251">2.8.50.5 Code identifying the check digit scheme employed (ID)</A></h4>

<p>The
check digit scheme codes are defined in <i>HL7 table 0061 - Check digit
scheme</i>.</p>

<h4>
<A NAME="Heading252">2.8.50.6 Assigning authority (HD)</A></h4>

<p>The
assigning authority is a unique name of the system that creates the data.  It
is an HD data type.  It is equivalent to the application ID of the placer or
filler order number (see Chapter 4).  Assigning authorities are unique across a
given HL7 implementation.</p>

<h4>
<A NAME="Heading253">2.8.50.7 Identifier type code (IS)</A></h4>

<p>A
code corresponding to the type of identifier.  In some cases, this code may be
used as a qualifier to the "Assigning authority" component.  Refer to
<i>user-defined table 0203 - Identifier type</i> for suggested values.</p>

<h4>
<A NAME="Heading254">2.8.50.8 Assigning facility ID (HD)</A></h4>

<p>The
assigning facility is a unique identifier of the system that creates the data.
It is an HD data type.  It is equivalent to the application ID of the placer or
filler order number (see Chapter 4).  Assigning authorities are unique across a
given HL7 implementation.</p>

<h4>
<A NAME="Heading255">2.8.50.9 Name representation code (ID)</A></h4>

<p>Different
name/address types and representations of the same name/address  should be
described by repeating of this field, with different values of the Name/Address
Type and/or Name/Address Representation component.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	This new component remains in "alphabetic" representation with each repetition
of the field using these data types. I.e. even though the name may be
represented in an ideographic character set, this component will remain
represented in an alphabetic character set.
</TD>
</TR></TABLE>

<center>Table 4000 - Name/address representation
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>I</TD>

<TD align="center"><p>Ideographic
(i.e., Kanji)
</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Alphabetic
(i.e., Default or some single-byte)
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Phonetic
(i.e., ASCII, Katakana, Hirigana, etc.)
</TD>
</TR></TABLE>
<blockquote>In
general this component provides an indication of the representation provided by
the data item.  It does not necessarily specify the character sets used. Thus,
even though the representation might provide an indication of what to expect,
the sender is still free to encode the contents using whatever character set is
desired.  This component provides only hints for the receiver, so it can make
choices regarding what it has been sent and what it is capable of displaying.
</blockquote>
<h3>
<A NAME="Heading256">2.8.51 XPN - extended person name</A></h3>

<p><tt>Components:
 &lt;family name (ST)&gt; &amp; &lt; last_name_prefix (ST)&gt; ^ &lt;given name
(ST)&gt; ^ &lt;middle initial or name (ST)&gt; ^ &lt;suffix (e.g., JR or III)
(ST)&gt; ^ &lt;prefix (e.g., DR) (ST)&gt; ^ &lt;degree (e.g., MD) (IS)&gt; ^<b>
</b>&lt;name type code (ID) &gt; ^ &lt;name representation code
(ID)&gt;</tt><br>
Example:<br>
|Smith^John^J^III^DR^PHD^L|</p>

<h4>
<A NAME="Heading257">2.8.51.1 Family name (ST) &amp; last_name_prefix (ST)</A></h4>


<h5>
<A NAME="Heading258">2.8.51.1.1 Family name. </A></h5>

<p>Surname/last
name.</p>

<h5>
<A NAME="Heading259">2.8.51.1.2 Last_name_prefix.  </A></h5>

<p>Internationalization
usage for Germanic languages. An example of a "Last_name_prefix" is the "van"
in "Ludwig van Beethoven."  Since the Last_name_prefix doesn't sort completely
alphabetically, it is reasonable to specify it as a separate sub-component of
the PN and extended PN data types (XPN and XCN). <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
     To "translate" these two subcomoponents to a single last name, prepend the
Last_name_prefix to the Family name component. If the last_name_prefix is not
null, the last_name_prefix should not also be present as part of the Family
name component.
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading260">2.8.51.2 Given name (ST)</A></h4>


<h4>
<A NAME="Heading261">2.8.51.3 Middle initial or name (ST)</A></h4>


<h4>
<A NAME="Heading262">2.8.51.4 Suffix (ST)</A></h4>

<p>Used
to specify a name suffix (e.g., Jr. or III).</p>

<h4>
<A NAME="Heading263">2.8.51.5 Prefix (ST)</A></h4>

<p>Used
to specify a name prefix (e.g., Dr.).</p>

<h4>
<A NAME="Heading264">2.8.51.6 Degree (IS)</A></h4>

<p>Used
to specify an educational degree (e.g., MD).  Refer to <i>user-defined table
0360 - Degree</i> for suggested values.</p>

<center>User-defined table 0360 - Degree
</center>
<TABLE BORDER><TR align="left">
<TH align="left"><p>Value</p>
<BR></TH>
<TH align="left"><p>Description</p>
<BR></TH></TR><TR align="left">
<TD align="left"><p>AAS</TD>

<TD align="left"><p>Associate
of Applied Science
</TD>
</TR><TR align="left">
<TD align="left"><p>AA</TD>

<TD align="left"><p>Associate
of Arts
</TD>
</TR><TR align="left">
<TD align="left"><p>ABA</TD>

<TD align="left"><p>Associate
of Business Administration
</TD>
</TR><TR align="left">
<TD align="left"><p>AE</TD>

<TD align="left"><p>Associate
of Engineering
</TD>
</TR><TR align="left">
<TD align="left"><p>AS</TD>

<TD align="left"><p>Associate
of Science
</TD>
</TR><TR align="left">
<TD align="left"><p>BA</TD>

<TD align="left"><p>Bachelor
of Arts
</TD>
</TR><TR align="left">
<TD align="left"><p>BBA</TD>

<TD align="left"><p>Bachelor
of Business Administration
</TD>
</TR><TR align="left">
<TD align="left"><p>BE</TD>

<TD align="left"><p>Bachelor
or Engineering
</TD>
</TR><TR align="left">
<TD align="left"><p>BFA</TD>

<TD align="left"><p>Bachelor
of Fine Arts
</TD>
</TR><TR align="left">
<TD align="left"><p>BN</TD>

<TD align="left"><p>Bachelor
of Nursing
</TD>
</TR><TR align="left">
<TD align="left"><p>BS</TD>

<TD align="left"><p>Bachelor
or Science
</TD>
</TR><TR align="left">
<TD align="left"><p>BSL</TD>

<TD align="left"><p>Bachelor
of Science - Law
</TD>
</TR><TR align="left">
<TD align="left"><p>BT</TD>

<TD align="left"><p>Bachelor
of Theology
</TD>
</TR><TR align="left">
<TD align="left"><p>CER</TD>

<TD align="left"><p>Certificate</TD>
</TR><TR align="left">
<TD align="left"><p>DIP</TD>

<TD align="left"><p>Diploma</TD>
</TR><TR align="left">
<TD align="left"><p>DBA</TD>

<TD align="left"><p>Doctor
of Business Administration
</TD>
</TR><TR align="left">
<TD align="left"><p>DED</TD>

<TD align="left"><p>Doctor
of Education
</TD>
</TR><TR align="left">
<TD align="left"><p>PHE</TD>

<TD align="left"><p>Doctor
of Engineering
</TD>
</TR><TR align="left">
<TD align="left"><p>PHD</TD>

<TD align="left"><p>Doctor
of Philosophy
</TD>
</TR><TR align="left">
<TD align="left"><p>PHS</TD>

<TD align="left"><p>Doctor
of Science
</TD>
</TR><TR align="left">
<TD align="left"><p>MD</TD>

<TD align="left"><p>Doctor
of Medicine
</TD>
</TR><TR align="left">
<TD align="left"><p>DO</TD>

<TD align="left"><p>Doctor
of Osteopathy
</TD>
</TR><TR align="left">
<TD align="left"><p>HS</TD>

<TD align="left"><p>High
School Graduate
</TD>
</TR><TR align="left">
<TD align="left"><p>JD</TD>

<TD align="left"><p>Juris
Doctor
</TD>
</TR><TR align="left">
<TD align="left"><p>MA</TD>

<TD align="left"><p>Master
of Arts
</TD>
</TR><TR align="left">
<TD align="left"><p>MBA</TD>

<TD align="left"><p>Master
of Business Administration
</TD>
</TR><TR align="left">
<TD align="left"><p>MCE</TD>

<TD align="left"><p>Master
of Civil Engineering
</TD>
</TR><TR align="left">
<TD align="left"><p>MDI</TD>

<TD align="left"><p>Master
of Divinity
</TD>
</TR><TR align="left">
<TD align="left"><p>MED</TD>

<TD align="left"><p>Master
of Education
</TD>
</TR><TR align="left">
<TD align="left"><p>MEE</TD>

<TD align="left"><p>Master
of Electrical Engineering
</TD>
</TR><TR align="left">
<TD align="left"><p>ME</TD>

<TD align="left"><p>Master
of Engineering
</TD>
</TR><TR align="left">
<TD align="left"><p>MFA</TD>

<TD align="left"><p>Master
of Fine Arts
</TD>
</TR><TR align="left">
<TD align="left"><p>MME</TD>

<TD align="left"><p>Master
of Mechanical Engineering
</TD>
</TR><TR align="left">
<TD align="left"><p>MS</TD>

<TD align="left"><p>Master
of Science
</TD>
</TR><TR align="left">
<TD align="left"><p>MSL</TD>

<TD align="left"><p>Master
of Science -Law
</TD>
</TR><TR align="left">
<TD align="left"><p>MT</TD>

<TD align="left"><p>Master
of Theology
</TD>
</TR><TR align="left">
<TD align="left"><p>NG</TD>

<TD align="left"><p>Non-Graduate</TD>
</TR><TR align="left">
<TD align="left"><p>SEC</TD>

<TD align="left"><p>Secretarial
Certificate
</TD>
</TR><TR align="left">
<TD align="left"><p>TS</TD>

<TD align="left"><p>Trade
School Graduate
</TD>
</TR></TABLE>
<p></p>

<h4>
<A NAME="Heading265">2.8.51.7 Name type code (ID) </A></h4>

<p>A
code that represents the type of name.  Refer to <i>HL7 table 0200 - Name
type</i> for valid values.
</p>

<center>Table 0200 - Name type
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Alias
Name
</TD>
</TR><TR align="center">
<TD align="center"><p>L</TD>

<TD align="center"><p>Legal
Name
</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Display
Name
</TD>
</TR><TR align="center">
<TD align="center"><p>M</TD>

<TD align="center"><p>Maiden
Name 
</TD>
</TR><TR align="center">
<TD align="center"><p>C</TD>

<TD align="center"><p>Adopted
Name
</TD>
</TR><TR align="center">
<TD align="center"><p>B</TD>

<TD align="center"><p>Name
of Birth
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Name
of Partner/Husband
</TD>
</TR></TABLE>
<p><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
The content of Legal Name is country specific. In the US the legal name is the
same as the current married name.
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading266">2.8.51.8 Name representation code (ID)</A></h4>

<p>Different
name/address types and representations of the same name/address  should be
described by repeating of this field, with different values of the Name/Address
Type and/or Name/Address Representation component.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	This new component remains in "alphabetic" representation with each repetition
of the field using these data types. I.e. even though the name may be
represented in an ideographic character set, this component will remain
represented in an alphabetic character set.
</TD>
</TR></TABLE>
<p></p>

<center>Table 4000 - Name/address representation
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>I</TD>

<TD align="center"><p>Ideographic
(i.e., Kanji)
</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Alphabetic
(i.e., Default or some single-byte)
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Phonetic
(i.e., ASCII, Katakana, Hirigana, etc.)
</TD>
</TR></TABLE>
<blockquote>In
general this component provides an indication of the representation provided by
the data item.  It does not necessarily specify the character sets used. Thus,
even though the representation might provide an indication of what to expect,
the sender is still free to encode the contents using whatever character set is
desired.  This component provides only hints for the receiver, so it can make
choices regarding what it has been sent and what it is capable of displaying.
</blockquote>
<h3>
<A NAME="Heading267">2.8.52 XTN - extended telecommunication number</A></h3>

<p><tt>Components:
 [<b>N</b>NN] [(999)]999-9999 [X99999] [B99999] [C any text] ^
&lt;telecommunication use code (ID)&gt; ^ &lt;telecommunication equipment type
(ID)&gt; ^ &lt;email address (ST)&gt; ^ &lt;country code (NM)&gt; ^
&lt;area/city code (NM)&gt; ^ &lt;phone number (NM)&gt; ^ &lt;extension
(NM)&gt; ^ &lt;any text (ST)&gt;</tt><br>
Example:<br>
(415)555-3210^ORN^FX^</p>

<h4>
<A NAME="Heading268">2.8.52.1 [(999)] 999-9999 [X99999] [C any text]</A></h4>

<p>Defined
as the TN data type ( see Section 2.8.42, "TN - telephone number"), except that
the length of the country access code has been increased to three.</p>

<h4>
<A NAME="Heading269">2.8.52.2 Telecommunication use code (ID) </A></h4>

<p>A
code that represents a specific use of a telecommunication<b> </b>number.
Refer <i>to HL7 table 0201 - Telecommunication use code</i> for valid values.
</p>

<center>Table 0201 - Telecommunication<b> </b>use code
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>PRN</TD>

<TD align="center"><p>Primary
Residence Number
</TD>
</TR><TR align="center">
<TD align="center"><p>ORN</TD>

<TD align="center"><p>Other
Residence Number
</TD>
</TR><TR align="center">
<TD align="center"><p>WPN</TD>

<TD align="center"><p>Work
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>VHN</TD>

<TD align="center"><p>Vacation
Home Number
</TD>
</TR><TR align="center">
<TD align="center"><p>ASN</TD>

<TD align="center"><p>Answering
Service Number
</TD>
</TR><TR align="center">
<TD align="center"><p>EMR</TD>

<TD align="center"><p>Emergency
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>NET</TD>

<TD align="center"><p>Network
(email) Address
</TD>
</TR><TR align="center">
<TD align="center"><p>BPN</TD>

<TD align="center"><p>Beeper
Number
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading270">2.8.52.3 Telecommunication equipment type (ID)</A></h4>

<p>A
code that represents the type of telecommunication<b> </b>equipment.  Refer
<i>to HL7 table 0202 - Telecommunication equipment type</i> for valid values.
</p>

<center>Table 0202 - Telecommunication<b> </b>equipment type
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>PH</TD>

<TD align="center"><p>Telephone</TD>
</TR><TR align="center">
<TD align="center"><p>FX</TD>

<TD align="center"><p>Fax</TD>
</TR><TR align="center">
<TD align="center"><p>MD</TD>

<TD align="center"><p>Modem</TD>
</TR><TR align="center">
<TD align="center"><p>CP</TD>

<TD align="center"><p>Cellular
Phone
</TD>
</TR><TR align="center">
<TD align="center"><p>BP</TD>

<TD align="center"><p>Beeper</TD>
</TR><TR align="center">
<TD align="center"><p>Internet</TD>

<TD align="center"><p>Internet
Address: Use Only If Telecommunication<b> </b>Use Code Is NET
</TD>
</TR><TR align="center">
<TD align="center"><p>X.400</TD>

<TD align="center"><p>X.400
email address: Use Only If Telecommunication<b> </b>Use Code Is NET
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading271">2.8.52.4 Email address (ST)</A></h4>

<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Internationalization
note:</b>  To make this data type interoperate with CEN's Telecommunication
data attribute group,  we allow use of the second component for email
addresses.  The presence of an email address is specified by the addition of
the value <i>NET</i> to the Phone Use Code table, and the type of Internet
address is specified with the values <i>Internet</i> and <i>X.400</i> to the
Phone Equipment Type table.  When used for an Internet address, the first
component  of the XTN  data type will be null.  If the @-sign is being used as
a subcomponent delimiter, the HL7 subcomponent escape sequence may be used when
encoding an Internet address (see Section 2.9.1., "Formatting codes").
</TD>
</TR></TABLE>
<p></p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
Components five through nine reiterate the basic function of the first
component in a delimited form that allows the expression of both local and
international telephone numbers.  In Version 2.3, the recommended form for the
telephone number is to use the delimited form rather than the unstructured form
supported by the first component (which is left in for backward compatibility
only).
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading272">2.8.52.5 Country code (NM)</A></h4>


<h4>
<A NAME="Heading273">2.8.52.6 Area/city code (NM)</A></h4>


<h4>
<A NAME="Heading274">2.8.52.7 Phone number (NM)</A></h4>


<h4>
<A NAME="Heading275">2.8.52.8 Extension (NM)</A></h4>


<h4>
<A NAME="Heading276">2.8.52.9 Any text (ST)</A></h4>


<h2>
<A NAME="Heading277">2.9 USE OF ESCAPE SEQUENCES IN TEXT FIELDS</A></h2>


<h3>
<A NAME="Heading278">2.9.1 Formatting codes</A></h3>

<p>When
a field of type TX, FT, or CF is being encoded, the escape character may be
used to signal certain special characteristics of portions of the text field.
The escape character is whatever display ASCII character is specified in the
Escape Character component of <i>MSH-2-encoding characters</i>.  For purposes
of this section, the character \ will be used to represent the character so
designated in a message.  An <b>escape sequence</b> consists of the escape
character followed by an escape code ID of one character, zero (0) or more data
characters, and another occurrence of the escape character.  The following
escape sequences are defined:<br>
</p>
<TABLE>
<TR align="left">
<TD align="left"><p>\H\</TD>

<TD align="left"><p>start
highlighting
</TD>
</TR><TR align="left">
<TD align="left"><p>\N\</TD>

<TD align="left"><p>normal
text (end highlighting)
</TD>
</TR><TR align="left">
<TD align="left"><p>\F\</TD>

<TD align="left"><p>field
separator
</TD>
</TR><TR align="left">
<TD align="left"><p>\S\</TD>

<TD align="left"><p>component
separator
</TD>
</TR><TR align="left">
<TD align="left"><p>\T\</TD>

<TD align="left"><p>subcomponent
separator
</TD>
</TR><TR align="left">
<TD align="left"><p>\R\</TD>

<TD align="left"><p>repetition
separator
</TD>
</TR><TR align="left">
<TD align="left"><p>\E\</TD>

<TD align="left"><p>escape
character
</TD>
</TR><TR align="left">
<TD align="left"><p>\Xdddd...\</TD>

<TD align="left"><p>hexadecimal
data
</TD>
</TR><TR align="left">
<TD align="left"><p>\Zdddd...\</TD>

<TD align="left"><p>locally
defined escape sequence
</TD>
</TR></TABLE>
<p>The
<b>escape sequences</b> for field separator, component separator, subcomponent
separator, repetition separator, and escape character are also valid within an
ST data field.<br>
No escape sequence may contain a nested escape sequence. 
</p>

<h3>
<A NAME="Heading279">2.9.2 Escape sequences supporting multiple character sets for PN, XPN, XCN, XON, and XAD data types</A></h3>

<blockquote>The
following HL7 escape sequences are defined to support multiple character sets
for fields of the  PN and XPN data type. They allow HL7 parsers to use escape
codes (defined in the standards used below), without breaking, and without
being non-conformant, to the HL7 escape paradigm defined in this section.
\Cxxyy\	single-byte character set escape sequence with two hexadecimal values,
xx and yy, that indicate the escape sequence defined for one of the character
repertoires supported for the current message (i.e., ISO-IR xxx).
\Mxxyyzz\	multi-byte character set escape sequence with three hexadecimal
values, xx, yy and zz.  zz is optional.
Common character set escape sequences include the following which are defined
in the standards mentioned:
Single-byte character sets:
</blockquote><TABLE>
<TR align="left">
<TD align="left"><p>\C2842\</TD>

<TD align="left"><p>ISO-IR
6 G0 (ISO 646 : ASCII)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D41\</TD>

<TD align="left"><p>ISO-IR
100 (ISO 8859 : Latin Alphabet 1)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D42\</TD>

<TD align="left"><p>ISO-IR
101 (ISO 8859 : Latin Alphabet 2)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D43\</TD>

<TD align="left"><p>ISO-IR
109 (ISO 8859 : Latin Alphabet 3)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D44\</TD>

<TD align="left"><p>ISO-IR
110 (ISO 8859 : Latin Alphabet 4)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D4C\</TD>

<TD align="left"><p>ISO-IR
144 (ISO 8859 : Cyrillic)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D47\</TD>

<TD align="left"><p>ISO-IR
127 (ISO 8859 : Arabic)
</p>
<BR></TD></TR><TR align="left">
<TD align="left"><p>\C2D46\</TD>

<TD align="left"><p>ISO-IR
126 (ISO 8859 : Greek)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D48\</TD>

<TD align="left"><p>ISO-IR
138 (ISO 8859 : Hebrew)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2D4D\</TD>

<TD align="left"><p>ISO-IR
148 (ISO 8859 : Latin Alphabet 5)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C284A\</TD>

<TD align="left"><p>ISO-IR
14 (JIS X 0201 -1976: Romaji)
</TD>
</TR><TR align="left">
<TD align="left"><p>\C2949\</TD>

<TD align="left"><p>ISO-IR
13 (JIS X 0201 : Katakana)
</TD>
</TR></TABLE>
<blockquote>Multi-byte
codes :
</blockquote><TABLE>
<TR align="left">
<TD align="left"><p>\M2442\</TD>

<TD align="left"><p>ISO-IR
87 (JIS X 0208 : Kanji, hirigana and katakana)
</TD>
</TR><TR align="left">
<TD align="left"><p>\M242844\</TD>

<TD align="left"><p>ISO-IR
159 (JIS X 0212 : Supplementary Kanji) 
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading280">2.9.3 Highlighting</A></h3>

<p>In
designating highlighting, the sending application is indicating that the
characters that follow somehow should be made to stand out, but leaving the
method of doing so to the receiving application.  Depending on device
characteristics and application style considerations, the receiving application
may choose reverse video, boldface, underlining, blink, an alternate color or
another means of highlighting the displayed data.  For example the message
fragment:<br>
DSP|     TOTAL CHOLESTEROL    \H\240*\N\   [90 - 200]<br>
might cause the following data to appear on a screen or report:<br>
TOTAL CHOLESTEROL        <b>240*</b>    [90 - 200]<br>
whereas another system may choose to show the 240* in red.
</p>

<h3>
<A NAME="Heading281">2.9.4 Special character</A></h3>

<p>The
special character escape sequences (\F\, \S\, \R\, \T\, and \E\) allow the
corresponding characters to be included in the data in a text field, though the
actual characters are reserved.  For example, the message fragment<br>
DSP|	TOTAL CHOLESTEROL     180  \F\90 - 200\F\<br>
DSP|	\S\----------------\S\<br>
would cause the following information to be displayed, given suitable
assignment of separators:<br>
TOTAL CHOLESTEROL     180  |90 - 200|<br>
^----------------^
</p>

<h3>
<A NAME="Heading282">2.9.5 Hexadecimal</A></h3>

<p>When
the hexadecimal escape sequence (\Xdddd...\) is used the X should be followed
by 1 or more pairs of hexadecimal digits (0, 1,  . . . , 9, A,  . . . , F).
Consecutive pairs of the hexadecimal digits represent 8-bit binary values.  The
interpretation of the data is entirely left to an agreement between the sending
and receiving applications that is beyond the scope of this Standard.
</p>

<h3>
<A NAME="Heading283">2.9.6 Formatted text</A></h3>

<p>If
the field is of the formatted text (FT) data type, formatting commands also may
be surrounded by the escape character.  Each command begins with the <b>.</b>
(period) character.  The following formatting commands are available:<br>
</p>
<TABLE>
<TR align="left">
<TD align="left"><p>.sp
&lt;number&gt;
</TD>

<TD align="left"><p>End
current output line and skip &lt;number&gt; vertical spaces.  &lt;number&gt; is
a positive integer or absent.  If &lt;number&gt; is absent, skip one space.
The horizontal character position remains unchanged. Note that for purposes of
compatibility with previous versions of HL7, "^\.sp\" is equivalent to "\.br\."
</TD>
</TR><TR align="left">
<TD align="left"><p>.br</TD>

<TD align="left"><p>Begin
new output line.  Set the horizontal position to the current left margin and
increment the vertical position by 1.
</TD>
</TR><TR align="left">
<TD align="left"><p>.fi</TD>

<TD align="left"><p>Begin
word wrap or fill mode.  This is the default state.  It can be changed to a
no-wrap mode using the .nf command.
</TD>
</TR><TR align="left">
<TD align="left"><p>.nf</TD>

<TD align="left"><p>Begin
no-wrap mode.
</TD>
</TR><TR align="left">
<TD align="left"><p>.in
&lt;number&gt;
</TD>

<TD align="left"><p>Indent
&lt;number&gt; of spaces, where &lt;number&gt; is a positive or negative
integer. This   command cannot appear after the first printable character of a
line.
</TD>
</TR><TR align="left">
<TD align="left"><p>.ti
&lt;number&gt;
</TD>

<TD align="left"><p>Temporarily
indent &lt;number&gt; of spaces where number is a positive or negative integer.
This command cannot appear after the first printable character of a line.
</TD>
</TR><TR align="left">
<TD align="left"><p>.sk
&lt; number&gt;
</TD>

<TD align="left"><p>Skip
&lt;number&gt; spaces to the right.
</TD>
</TR><TR align="left">
<TD align="left"><p>.ce</TD>

<TD align="left"><p>End
current output line and center the next line.
</TD>
</TR></TABLE>
<p>The
component separator that marks each line defines the extent of the temporary
indent command (.ti), and the beginning of each line in the no-wrap mode (.nf).
Examples of formatting instructions that are NOT included in this data type
include:  width of display, position on page or screen, and type of output
devices.<br>
<i>Figure 2-3</i> is an example of the FT data type from a radiology impression
section of a radiology report:
</p>

<center>Figure 2-3.  Formatted text as transmitted
</center>
<TABLE BORDER><TR align="left">
<TD align="left"><p>|\.in+4\\.ti-4\
1.  The cardiomediastinal silhouette is now within normal limits.^\.sp\\.ti-4\
2.   Lung fields show minimal ground glass appearance.^\.sp\\.ti-4\ 3.  A loop
of colon visible in the left upper quadrant is distinctly abnormal with the
appearance of mucosal effacement suggesting colitis.\.in-4\|
</TD>
</TR></TABLE>
<p><i>Figure
2-4</i> shows one way of presenting the data in<i> Figure 2-3</i>.  The
receiving system can create many other interpretations by varying the right
margin.  
</p>

<center>Figure 2-4.  Formatted text in one possible presentation
</center>
<TABLE>
<TR align="left">
<TD align="left"><p><tt>1.
The cardiomediastinal silhouette is now within normal limits.</tt><br>
<tt>2.	Lung fields show minimal ground glass appearance.</tt><br>
<tt>3.	A loop of colon visible in the left upper quadrant is distinctly
abnormal with the appearance of mucosal effacement suggesting colitis.
</tt></TD>
</TR></TABLE>

<h3>
<A NAME="Heading284">2.9.7 Local</A></h3>

<p>When
the local escape sequence (\Zdddd...\) is used the Z should be followed by
characters that are valid in a TX field.  The interpretation of the data is
entirely left to an agreement between the sending and receiving applications
that is beyond the scope of this Standard.  
</p>

<h2>
<A NAME="Heading285">2.10 MESSAGE CONSTRUCTION RULES</A></h2>

<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	These message construction rules define the standard HL7 encoding rules,
creating variable length delimited messages.  Although only one set of encoding
rules is defined as a standard in HL7 Version 2.3, other encoding rules are
possible (but since they are non-standard, they may only be used by a
site-specific agreement).
</TD>
</TR></TABLE>
<p>Step
1	Construct the segments in the order defined for the message.  Each message is
constructed as follows:<br>
a)	the first three characters are the segment ID code<br>
b)	each data field in sequence is inserted in the segment in the following
manner:<br>
1)	a field separator is placed in the segment<br>
2)	if the value is not present, no further characters are required<br>
3)	if the value is present, but null, the characters "" (two consecutive double
quotation marks) are placed in the field</p>
<blockquote>4)  	otherwise, place the characters of the value in the segment.
As many characters can be included as the maximum defined for the data field.
It is not necessary, and is undesirable, to pad fields to fixed lengths.
Padding to fixed lengths is permitted.  Encode the individual data fields as
shown in Section 2.8, "DATA TYPES."</blockquote><p>5)	if the field definition
calls for a field to be broken into components, the following rules are
used:<br>
i)	if more than one component is included they are separated by the component
separator<br>
ii)	components that are present but null are represented by the characters
""<br>
iii)	components that are not present are treated by including no characters in
the component<br>
iv)	components that are not present at the end of a field need not be
represented by component separators.  For example, the two data fields are
equivalent:<br>
|ABC^DEF^^| and |ABC^DEF|.<br>
6)	if the component definition calls for a component to be broken into
subcomponents, the following rules are used:<br>
i)	if more than one subcomponent is included they are separated by the
subcomponent separator<br>
II)	subcomponents that are present but null are represented by the characters
""<br>
iii)	subcomponents that are not present are treated by including no characters
in the subcomponent<br>
iv)	subcomponents that are not present at the end of a component need not be
represented by subcomponent separators.  For example, the two data components
are equivalent:<br>
^XXX&amp;YYY&amp;&amp;^ and ^XXX&amp;YYY^.<br>
7)	if the field definition permits repetition of a field, the following rules
are used, the repetition separator is used only if more than one occurrence is
transmitted and is placed between occurrences.  (If three occurrences are
transmitted, two repetition separators are used.)  In the example below, two
occurrences of telephone number are being sent:<br>
|234-7120~599-1288B1234|<br>
c)	repeat Step 1b while there are any fields present to be sent.  If all the
data fields remaining in the segment definition are not present there is no
requirement to include any more delimiters.<br>
d)	end each segment with an ASCII carriage return character<br>
Step 2	Repeat Step 1 until all segments have been generated.<br>
The following rules apply to receiving HL7 messages and converting their
contents to data values:<br>
a)	ignore segments, fields, components, subcomponents, and extra repetitions of
a field that are present but were not expected<br>
b)	treat segments that were expected but are not present as consisting entirely
of fields that are not present<br>
c)	treat fields and components that are expected but were not included in a
segment as not present. 
</p>

<h3>
<A NAME="Heading286">2.10.1 Encoding rules notes</A></h3>

<p>If
a segment is to be continued across messages, use the extended encoding rules.
These rules are defined in terms of the more general message continuation
protocol (see Section 2.23.2, "Continuation messages and segments").
</p>

<h3>
<A NAME="Heading287">2.10.2 Version compatibility definition</A></h3>

<p>The
above rules for receiving HL7 messages and converting their contents to data
values allow the following definition of a backward compatibility requirement
between the 2.x versions of HL7:<br>
a)	New messages may be introduced.<br>
b) 	New segments may be introduced to an existing message.  In general these
will be introduced at the end of a message, but they may be introduced
elsewhere within the message if the segment hierarchy makes this necessary.<br>
c)    New fields may be added at the end of a segment, new components may be
added at the end of a field, new subcomponents may be added at the end of a
component, and a non-repeating field may be made repeating.<br>
If a non-repeating field is made repeating, the first instance of that
repeating field must have the same meaning as the non-repeating field had in
the prior version of HL7.<br>
	For existing fields in existing segments, data types may be changed by the
above rule (Section 2.10.2,c) if the leftmost (prior version) part of the field
has the same meaning as it had in the prior version of HL7.  In other words, if
the new parts of the field (those that are part of the new data type) are
ignored, what remains is the old field (defined by the old data type), which
has the same meaning as it had in the prior version of HL7.</p>

<h2>
<A NAME="Heading288">2.11 CHAPTER FORMATS FOR DEFINING HL7 MESSAGES</A></h2>

<p>Subsequent
chapters of this document describe messages that are exchanged among
applications in functionally-specific situations.  Each chapter is organized as
follows:<br>
a)	<b>purpose</b>.  This is an overview describing the purpose of the chapter,
general information and concepts.<br>
b)	<b>trigger events and messages</b>.  There is a list of the trigger events.
For each trigger event the messages that are exchanged when the trigger event
occurs are defined using the HL7 abstract message syntax as follows:<br>
Each message is defined in special notation that lists the segment IDs in the
order they would appear in the message.  Braces, { . . . }, indicate one or
more repetitions of the enclosed group of segments.  (Of course, the group may
contain only a single segment.)  Brackets, [  . . . ], show that the enclosed
group of segments is optional.  If a group of segments is optional and may
repeat it should be enclosed in brackets and braces, { [ . . . ] }. <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
[{...}] and {[...]} are equivalent.
</TD>
</TR></TABLE>
<p>Whenever
braces or brackets enclose more than one segment ID a special stylistic
convention is used to help the reader understand the hierarchy of repetition.
For example, the first segment ID appears on the same line as the brace, two
columns to the right.  The subsequent segment IDs appear under the first.  The
closing brace appears on a line of its own in the same column as the opening
brace.  This convention is an optional convenience to the user.  If there is
conflict between its use and the braces that appear in a message schematic, the
braces define the actual grouping of segments that is permitted.<br>
c)	<b>message segments</b>.  The segments defined in a chapter are then listed
in a functional order designed to maximize conceptual clarity.<br>
d)	<b>examples</b>.  Complete messages are included.<br>
e)	<b>implementation considerations</b>.  Special supplementary information is
presented here.  This includes issues that must be addressed in planning an
implementation. <br>
f)	<b>outstanding issues</b>.  Issues still under consideration or requiring
consideration are listed here.<br>
Consider the hypothetical triggering event <b>a widget report is requested</b>.
It might be served by the Widget Request (WRQ) and Widget Report (WRP)
messages.  These would be defined in the Widget chapter (say Chapter XX).  The
Widget Request message might consist of the following segments: Message Header
(MSH), Widget ID (WID).  The Widget Report message might consist of the
following segments: Message Header (MSH),  Message acknowledgment (MSA), one or
more Widget Description (WDN) Segments each of which is followed by a single
Widget Portion segment (WPN) followed by zero or more Widget Portion Detail
(WPD) segments.  
</p>

<h3>
<A NAME="Heading289">2.11.1 HL7 abstract message syntax example</A></h3>

<p>The
schematic form for this hypothetical exchange of messages is shown in <i>Figure
2-5</i>:
</p>

<center>Figure 2-5.  Hypothetical schematic message
</center>
<TABLE BORDER><TR align="left">
<TD align="left"><p><tt>Trigger
Event: WIDGET REPORT IS REQUESTED</tt><br>
<tt><u>WRQ            Widget Request           Chapter</u></tt><br>
<tt>MSH            Message Header              2</tt><br>
<tt>WID            Widget ID                   XX</tt><br>
<tt><u>WRP            Widget Report            Chapter</u></tt><br>
<tt>MSH            Message Header              2</tt><br>
<tt>MSA            Message acknowledgment      2</tt><br>
<tt>{ WDN          Widget Description          XX</tt><br>
<tt>  WPN          Widget Portion              XX</tt><br>
<tt>  { [WPD] }    Widget Portion Detail       XX</tt><br>
<tt>}
</tt></TD>
</TR></TABLE>
<p>The
WID, WDN, WPN, and WPD segments would be defined by the widget committee in the
widget chapter, as designated by the Arabic numeral XX in the right column.
The MSH and MSA segments, although included in the widget messages, are defined
in another chapter.  They are incorporated by reference into the widget chapter
by the chapter number XX.<br>
On the other hand, the widget committee might decide that the WPN and WPD
segments should appear in pairs, but the pairs are optional and can repeat.
Then the schematic for the WRP message would be as shown in <i>Figure 2-6</i>.
</p>

<center>Figure 2-6.  WPN and WPD segments in pairs
</center>
<TABLE>
<TR align="left">
<TD align="left"><p><tt><u>WRP
           Widget Report               Chapter</u></tt><br>
<tt>MSH            Message Header                 2</tt><br>
<tt>MSA            Message acknowledgment         XX</tt><br>
<tt>{ WDN          Widget Description             XX</tt><br>
<tt>  [ { WPN      Widget Portion                 XX</tt><br>
<tt>      WPD      Widget Portion Detail          XX</tt><br>
<tt>   } ]</tt><br>
<tt>}
</tt></TD>
</TR></TABLE>
<p>If
the widget committee determined that at least one pair of WPN and WPD segments
must follow a WDN, then the notation would be as shown in <i>Figure 2-7</i>.
</p>

<center>Figure 2-7.  At least one pair of WPN and WPD
</center>
<TABLE>
<TR align="left">
<TD align="left"><p><tt><u>WRP
           Widget Report               Chapter</u></tt><br>
<tt>MSH            Message Header                 2</tt><br>
<tt>MSA            Message acknowledgment         XX</tt><br>
<tt>{ WDN          Widget Description             XX</tt><br>
<tt>  {  WPN       Widget Portion                 XX</tt><br>
<tt>     WPD       Widget Portion Detail          XX</tt><br>
<tt>  }</tt><br>
<tt>}</tt> 
</TD>
</TR></TABLE>

<h2>
<A NAME="Heading290">2.12 APPLICATION (LEVEL 7) PROCESSING RULES</A></h2>


<h3>
<A NAME="Heading291">2.12.1 Original and enhanced processing rules</A></h3>

<p>The
processing rules described here apply to all exchanges of messages, whether or
not the HL7 encoding rules or Lower Layer Protocols are used.  They represent
the primary message processing mode.  Certain variants are documented in
Section 2.12.2, "APPLICATION (LEVEL 7) PROCESSING RULES."  These include:<br>
a)	the application processing rules for a special processing mode, deferred
processing.  This mode remains in the specification only for backward
compatibility.<br>
b)	an optional sequence number protocol<br>
c)	an optional protocol for continuing a very long message<br>
The processing rules were extended in Version 2.2 of the Standard.  The
extensions provide a greater degree of flexibility in the way that messages can
be acknowledged, as specified by several new fields in the Message Header
segment.  To provide backward compatibility with prior versions,  the absence
of these fields implies that the extended processing rules are not used.  In
the remainder of this section the extended mode is called the enhanced
acknowledgment mode; the prior version is called the original acknowledgment
mode. <br>
Because the protocol describes an exchange of messages, it is described in
terms of two entities, the initiating and responding systems.  Each is both a
sender and receiver of messages.  The initiating system sends first and then
receives, while the responding system receives and then sends.<br>
In overview this exchange proceeds as follows:<br>
Step 1	the initiating system constructs an HL7 message from application data
and sends it to the responding system<br>
Step 2	responder receives message and <br>
2.1	when the original acknowledgment rules apply:<br>
a)	validates the message syntactically and against the detailed rules described
in Section 2.12.1.1, "Initiation."  If it fails, a reject message is
constructed by the protocol software and returned to the initiator; if it does
not fail, continue to the next step (2.1,b)<br>
b)	passes the message  to the application, which:<br>
1)	creates a response message, or<br>
2)	creates an error message, or<br>
3)	creates a reject message<br>
c)	sends the response, error, or reject message<br>
Initiator passes the message to the initiating application.<br>
2.2	when enhanced acknowledgment rules apply:<br>
a)	the responding system receives the message and commits it to safe storage.
This means that the responding system accepts the responsibility for the
message in a manner that releases the sending system from any obligation to
resend the message.  The responding system now checks the message header record
to determine whether or not the initiating system requires an accept
acknowledgment message indicating successful receipt and secure storage of the
message.  If it does, the accept acknowledgment message is constructed and
returned to the initiator.<br>
b)	at this point, the requirements of the applications involved in the
interface determine whether or not more information needs to be exchanged.
This exchange is referred to as an application acknowledgment and includes
information ranging from simple validation to a complex application-dependent
response.  If the receiving system is expected to return application-dependent
information, it initiates another exchange when this information is available.
This time, the roles of initiator and responder are reversed.<br>
The details follow.
</p>

<h4>
<A NAME="Heading292">2.12.1.1 Initiation</A></h4>

<p>The
initiating application creates a message with data values as defined in the
appropriate chapter of this Standard.  The fields shown below should be valued
in the MSH segment (as defined under the MSH segment definition of this
chapter).  The message is encoded according to the applicable rules and sent to
the lower level protocols, which will attempt to deliver it to the responding
application.  (For definitions of the MSH fields see Section 2.24.1, "MSH -
message header segment.")<br>
</p>
<TABLE>
<TR align="center">
<TD align="center"><p><b><u>Field</u></b></TD>

<TD align="center"><p><b><u>Notes
</u></b></TD>
</TR><TR align="left">
<TD align="left"><p><i>MSH-3-sending
application
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><i>MSH-4-sending
facility
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><i>MSH-5-receiving
application
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><i>MSH-6-receiving
facility
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><br>
<i>MSH-7-date/time of message
</i></TD>

<TD align="left"><p><br>
This field is not used in the processing logic of the HL7 protocol.  It is
optional.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSH-9-message
type
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><i>MSH-10-message
control ID
</i></TD>

<TD align="left"><p>Unique
identifier used to relate the response to the initial message.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSH-11-processing
ID 
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><i>MSH-12-version
ID
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><i>MSH-13-sequence
number
</i></TD>

<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p><i>MSH-14-continuation
pointer
</i></TD>

<TD align="left"><p>Used
in implementation of message continuation protocol.  See Sections 2.23.2,
"Continuation messages and segments," 2.14.3, "Continuation of unsolicited
display update message," and 2.15.4, "Interactive continuation or cancellation
of response messages: original mode (display and record-oriented) and enhanced
mode (display, tabular, and event replay)."
</TD>
</TR></TABLE>
<p>Certain
other fields in the MSH segment are required for the operation of the HL7
encoding rules; they will not be relevant if other encoding rules are
employed.<br>
The event code in the second component of <i>MSH-9-message type</i> is
redundantly shown elsewhere in some messages.  For example, the same
information is in the EVN segment of the ADT message.  This is for
compatibility with prior versions of the HL7 protocol.  Newly-defined messages
should only show the event code in <i>MSH-9-message type</i>.
</p>

<h4>
<A NAME="Heading293">2.12.1.2 Response</A></h4>

<p>The
protocol software in the responding system does one of the following:
</p>

<h5>
<A NAME="Heading294">2.12.1.2.1 When the original acknowledgment rules apply </A></h5>

<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
Both <i>MSH-15-accept acknowledgment type</i> and <i>MSH-16-application
acknowledgment type</i> are null or not present.
</TD>
</TR></TABLE>
<p>a)
accepts the message<br>
b)	validates it against at least the following criteria:<br>
1)	the value in <i>MSH-9-message type</i> is one that is acceptable to the
receiver<br>
2)	the value in <i>MSH-12-version ID</i> is acceptable to the receiver<br>
3)	the value in <i>MSH-11-processing ID</i> is appropriate for the application
process handling the message<br>
If any of these edits fail, the protocol software rejects the message.  That
is, it creates an ACK message with <b>AR</b> in <i>MSA-1-acknowledgment
code</i>.<br>
c)	if the message passes the edits, the message is passed to the receiving
application, which performs one of these functions:<br>
1)	process the message successfully, generating the functional response message
with a value of <b>AA</b> in <i>MSA-1-acknowledgment code</i>. <br>
- OR -<br>
2)	send an error response, providing error information in functional segments
to be included in the response message with a value of <b>AE</b> in
<i>MSA-1-acknowledgment code</i>. <br>
- OR -<br>
3)	fail to process (reject) the message for reasons unrelated to its content or
format (system down, internal error, etc.).  For most such problems it is
likely that the responding system will be able to accept the same message at a
later time.  The implementors must decide on an application-specific basis
whether the message should be automatically sent again.  The response message
contains a value of <b>AR</b> in <i>MSA-1-acknowledgment code</i>.  <br>
d)	passes the message to the initiating system<br>
e)	the protocol software in the initiating system passes the response message
to the initiating application<br>
In all the responses described above the following values are put in the MSA
segment. Note that the field definitions for the MSA segment fields are in
Section 2.24.2, "MSA - message acknowledgment segment":<br>
</p>
<TABLE>
<TR align="center">
<TD align="center"><p><b><u>Field</u></b></TD>

<TD align="center"><p><b><u>Notes
</u></b></TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-1-acknowledgment
code
</i></TD>

<TD align="left"><p>As
described above.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-2-message
control ID
</i></TD>

<TD align="left"><p><i>MSH-10-message
control ID</i> from MSH segment of incoming message.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-3-text
message
</i></TD>

<TD align="left"><p>Text
description of error.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-4-expected
sequence number
</i></TD>

<TD align="left"><p>As
described in Section 2.23.1, "Sequence number protocol," (if the sequence
number protocol is being used).
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-5-delayed
acknowledgment type
</i></TD>

<TD align="left"><p>For
use only as described in Section 2.12.2, "Application (level 7) processing
rules, deferred processing two phase reply (original acknowledgment mode only)."
</TD>
</TR></TABLE>
<p>The
MSH segment in the response is constructed anew following the rules used to
create the initial message described above.  In particular, <i>MSH-7-date/time
of message</i> and <i>MSH-10-message control ID</i> refer to the response
message; they are not echoes of the fields in the initial message.
<i>MSH-5-receiving application</i>, <i>MSH-6-receiving facility</i>, and
<i>MSH-11-processing ID</i> contain codes that are copied from <i>MSH-3-sending
application</i>, <i>MSH-4-sending facility</i> and <i>MSH-11-processing ID</i>
in the initiating message.</p>

<h5>
<A NAME="Heading295">2.12.1.2.2 When enhanced acknowledgment rules apply </A></h5>

<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
At least one of <i>MSH-15-accept acknowledgment type</i> or
<i>MSH-16-application acknowledgment type</i> is not null.
</TD>
</TR></TABLE>
<p>a)
accepts the message<br>
b)	makes an initial determination as to whether or not the message can be
accepted, based on factors such as:<br>
1)	the status of the interface<br>
2)	the availability of safe storage onto which the message can be saved<br>
3)	the syntactical correctness of the message, if the design of the receiving
system includes this type of validation at this phase<br>
4)	the values of <i>MSH-9-message type</i>, <i>MSH-12-version ID</i>, and
<i>MSH-11-processing ID</i>, if the design of the receiving system includes
this type of validation at this phase<br>
c)	examines the Message Header segment (MSH) to determine whether or not the
initiating system requires an accept acknowledgment.<br>
If it does, the responding system returns a general acknowledgment message
(ACK) with:<br>
1)	a commit accept (CA) in <i>MSA-1-acknowledgment code</i> if the message can
be accepted for processing<br>
2)	a commit reject (CR) in <i>MSA-1-acknowledgment code</i> if the one of the
values of <i>MSH-9-message type</i>, <i>MSH-12-version ID</i> or
<i>MSH-11-processing ID</i> is not acceptable to the receiving application<br>
3)	a commit error (CE) in <i>MSA-1-acknowledgment code</i> if the message
cannot be accepted for any other reason (e.g., sequence number
error)<br><br>For this response, the following values are put in the MSA
segment. Note that the field definitions for the MSA segment fields are in
Section 2.24.2, "MSA - message acknowledgment segment"): <br>
</p>
<TABLE>
<TR align="center">
<TD align="center"><p><b><u>Field</u></b></TD>

<TD align="center"><p><b><u>Notes
</u></b></TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-2-message
control ID
</i></TD>

<TD align="left"><p><i>MSH-10-message
control ID</i> from the incoming message.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-1-acknowledgment
code
</i></TD>

<TD align="left"><p>As
described above.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-3-text
message
</i></TD>

<TD align="left"><p>Text
description of error.
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-4-expected
sequence number
</i></TD>

<TD align="left"><p>As
described in Section 2.23.1, "Sequence Number Protocol" (if the sequence number
protocol is being used).
</TD>
</TR></TABLE>
<p>The
MSH segment in the response is constructed anew following the rules used to
create the initial message described above.  In particular, <i>MSH-7-date/time
of message</i> and <i>MSH-10-message control ID</i> refer to the response
message; they are not echoes of the fields in the initial message.
<i>MSH-5-receiving application</i>, <i>MSH-6-receiving facility</i>, and
<i>MSH-11-processing ID</i> contain codes that are copied from <i>MSH-3-sending
application</i>, <i>MSH-4-sending facility</i> and <i>MSH-11-processing ID</i>
in the initiating message.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
<i>	MSH-15-accept acknowledgment type</i> and <i>MSH-16-application
acknowledgment type</i> are not valued (not present or null).  At this point,
the accept portion of this message exchange is considered complete.
</TD>
</TR></TABLE>
<p>d)
If the message header segment indicates that the initiating system also
requires an application acknowledgment, this will be returned as the initial
message of a later exchange. <br>
For this response, the following values are put in the MSA segment. Note that
the field definitions for the MSA segment fields are in Section 2.24.2, "MSA -
message acknowledgment segment): <br>
</p>
<TABLE>
<TR align="center">
<TD align="center"><p><b><u>Field</u></b></TD>

<TD align="center"><p><b><u>Notes</u></b></TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-2-message
control ID
</i></TD>

<TD align="left"><p>Identifies
the initial message from the original initiating system as defined in Section
2.12.1.1, "Initiation."
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-1-acknowledgment
code
</i></TD>

<TD align="left"><p>Uses
the application (processing) acknowledgment codes as described in Section
2.12.1.2.1, "When the original acknowledgment rules apply."
</TD>
</TR><TR align="left">
<TD align="left"><p><i>MSA-3-text
message
</i></TD>

<TD align="left"><p>Text
description of error.
</TD>
</TR></TABLE>
<p>For
this message, the receiving system acts as the initiator.  Since the message it
sends is application-specific, the layouts of these application-level response
messages are defined in the relevant application-specific chapter.  If needed,
this application acknowledgment message can itself require (in <i>MSH-15-accept
acknowledgment type</i>) an accept acknowledgment message (MSA).
<i>MSH-16-application acknowledgment type</i>, however, is always null, since
the protocol does not allow the application acknowledgment message to have an
application acknowledgment.<br>
At this point, the application acknowledgment portion of this message exchange
is considered complete. <br>
If the processing on the receiving system goes through multiple stages,
chapter-defined messages may be used to relay status or informational changes
to other systems (including the original initiating system).  Such messages are
not part of the acknowledgment scheme for the original message, but are
considered to be independent messages triggered by events on the (original)
responding system. <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	The original acknowledgment protocol is equivalent to the enhanced
acknowledgment protocol with <i>MSH-15-accept acknowledgment type</i> = NE and
<i>MSH-16-application acknowledgment type</i> = AL, and with the application
acknowledgment message defined so that it never requires an accept
acknowledgment (<i>MSH-15-accept acknowledgment type</i> = NE).
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading296">2.12.2 Application (level 7) processing rules, deferred processing two phase reply (original acknowledgment mode only)</A></h3>

<p><b><i>(This
section remains in the specification only for reasons of providing backward
compatibility: it is to be used only with the original acknowledgment protocol.
For the original acknowledgment protocol, it creates a generic form of an
asynchronous application level acknowledgment, the MCF message.)</i></b><br>
The application processing rules for deferred processing are described here.
In this mode the responding system sends an acknowledgment to the initiating
system that means the message has been placed in some type of secure
environment (e.g., disk storage), and the receiving system commits to
processing it within a reasonable amount of time, if a) the message contains
the necessary information, and b) nothing causes the message's request for
action to be canceled before the responding system processes the request.  
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	Neither of these two conditions is completely checked at the time of the first
acknowledgment.  They are both checked at the time of processing.  
</TD>
</TR></TABLE>
<p>The
receipt of the first delayed acknowledgment by the initiating system means that
the responding system has taken responsibility for the subsequent processing of
the message.  This also implies that the initiating system no longer needs to
keep the particular message in its current form to send out later.  For
example, if the sending system were maintaining a queue of outgoing messages,
the particular message could be deleted from the output queue at this point.<br>
The receipt of the second delayed acknowledgment message informs the initiating
application of either:  a) the application's successful processing of the
initial message, or b) an error that prevented its processing.  If the
receiving application needs to return detailed change of status information, an
application-specific message will be used.  An example of the latter is the
General Order message (ORM) described in Chapter 4.<br>
The general delayed acknowledgment protocol is implemented on a site-specific
and application-specific basis as needed.  At a particular site, for a given
transaction type the choices are:<br>
a)	do not allow deferred acknowledgments<br>
b)	all messages will have a deferred acknowledgment<br>
c)	only exceptional cases (errors) will receive the deferred acknowledgment<br>
In overview the processing for options b) and c) proceeds as follows:<br>
Initiator receives message from sending application and sends it to the
responding system.<br>
The responding system receives the message from the initiating system and<br>
a)	partially validates it syntactically and against the detailed rules
described in Section 2.12.1, "Original and enhanced processing rules."  This
validation need not be complete but should be sufficient to determine the
application that will ultimately respond to the message.  If this validation
fails, a reject message is constructed by the protocol software and returned to
the initiator.<br>
b)	(if the message passes this validation) stores it and constructs a response
message that simply acknowledges receipt.  <i>MSA-5-delayed acknowledgment
type</i> then has a value of <b>D</b>.<br>
c)	subsequently passes the message to the application, which:<br>
1)	creates a response message, or<br>
2)	creates an error message, or<br>
3)	creates a reject message<br>
d)	The protocol software sends the response, error, or reject message to the
initiating system as an unsolicited update with no value present in
<i>MSA-5-delayed acknowledgment type</i>.  <br>
The protocol software of the initiating system responds to the response, error,
or reject message with simple acknowledgment and passes it to the initiating
application.<br>
The details follow.</p>

<h4>
<A NAME="Heading297">2.12.2.1 Initiation</A></h4>

<p>The
rules for creating the initial message are exactly as defined in Section
2.12.1, "Original and enhanced processing rules," for the original
acknowledgment rules.</p>

<h4>
<A NAME="Heading298">2.12.2.2 Response</A></h4>

<p>The
processing in the responding system follows this pattern:<br>
a)	the protocol software accepts the message and validates it against at least
the following criteria:<br>
1)	the value in <i>MSH-9-message type</i> is one that is acceptable to the
receiver<br>
2)	the value in <i>MSH-12-version ID</i> is acceptable to the receiver<br>
3)	the value in <i>MSH-11-processing ID</i> is appropriate for the application
process handling the message<br>
If any of these edits fail, the protocol software rejects the message.  That
is, it creates an ACK message with <b>AR</b> in <i>MSA-1-acknowledgment
code</i>.<br>
b)	If the message passes the edits, the protocol software stores it and a
generates a response message of type ACK with a value of <b>AA</b> in
<i>MSA-1-acknowledgment code</i> and <b>D</b> in <i>MSA-5-delayed
acknowledgment type</i>.<br>
c)	Subsequently the protocol software passes the message to the application,
which performs one of these functions:<br>
1)	processes the message successfully, generating the functional response
message (message type MCF) with a value of <b>AA</b> in <i>MSA-1-acknowledgment
code</i>.  <br>
- OR -<br>
2)	creates an error response, providing error information in functional
segments to be included in the response message, which has a value of <b>AE</b>
in <i>MSA-1-acknowledgment code</i>. <br>
- OR -<br>
3)	fails to process (rejects) the message for reasons unrelated to its content
or format (system down, internal error, etc.)  For most such problems it is
likely that the responding system will be able to accept the same message at a
later time.  The implementors must decide on an application-specific basis
whether the message should be automatically sent again.  The MSA segment of the
response message contains a value of <b>AR</b> in <i>MSA-1-acknowledgment
code</i>.  <br>
d)	the application passes the message to the protocol software, which
constructs a message of type MCF with <b>F</b> in <i>MSA-5-delayed
acknowledgment type</i>.<br>
e)	the protocol software passes the message to the initiating system as an
unsolicited update.<br>
f)	the protocol software in the initiating system passes the response message
to the initiating application and generates a simple ACK message.  No value is
present in <i>MSA-5-delayed acknowledgment type</i>.<br>
All other values are put in the MSA segment as described in Section 2.12.1,
"Original and enhanced processing rules."
</p>

<h2>
<A NAME="Heading299">2.13 ACKNOWLEDGEMENT MESSAGES</A></h2>

<p>Acknowledgment
messages may be defined on an application basis.  However the simple general
acknowledgment message (ACK) may be used where the application does not define
a special message (application level acknowledgment) and in other cases as
described in Section 2.12.1, "Original and enhanced processing rules."
<b><i>The MCF message is included only for backward compatibility with HL7
Version 2.1 (see Section </i></b><b><i>2.12.2,</i></b><i>
<b>"</b></i>Application (level 7) processing rules, deferred processing two
phase reply (original acknowledgment mode only)<b><i>").
</i></b></p>

<h3>
<A NAME="Heading300">2.13.1 ACK - general acknowledgment</A></h3>

<p>The
simple general acknowledgment (ACK) can be used where the application does not
define a special application level acknowledgment message or where there has
been an error that precludes application processing.  It is also used for
accept level acknowledgments.  The details are described in Section 2.12.1,
"Original and enhanced processing rules."<br>
<tt><u>ACK					General acknowledgment	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2
</tt></p>

<h3>
<A NAME="Heading301">2.13.2 MCF -  delayed acknowledgment</A></h3>

<p><b><i>This
message remains in the specification only for reasons of backward compatibility
with HL7 Version 2.1.  </i></b>It is used as part of the protocol which creates
a generic form of an asynchronous application level acknowledgment, the MCF
message.  See Section 2.12.1.2, "Response."<br>
The first MCF message, sent after the initial receipt has the following
structure.<br>
<tt><u>MCF					Delayed Acknowledgment	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2</tt><br>
The second MCF message, sent after application processing, has this
structure:<br>
<tt><u>MCF					Delayed Acknowledgment	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2
</tt></p>

<h2>
<A NAME="Heading302">2.14 DISPLAY MESSAGES</A></h2>


<h3>
<A NAME="Heading303">2.14.1 Display vs. record-oriented messages</A></h3>

<p>HL7
messages may contain:<br>
a)	data in a format suitable for display purposes (display-oriented data),
or<br>
b)	data in a format which explicitly denotes field content (record-oriented)<br>
This record-oriented data appears in two forms: tabular (defined in Section
2.15, "QUERIES," of this chapter);  and application-message segment-oriented
(defined in the various application sections of this document, see Chapters
3-12).<br>
A display message can be generated to fit a variety of needs for unsolicited
updates between systems.  These are situations where the update information
does not need to be captured by the receiving system's database, but only
displayed, either on a visual medium (such as a PC, workstation or a CRT) or on
printed medium. <br>
The Unsolicited Display Message describes the display-oriented message.  It is
the unsolicited version of the generalized Response display message (see
Section 2.15, "QUERIES").  It is acknowledged by a general acknowledgment
message (ACK).<br>
The content and format of record-oriented messages require
functionally-specific capabilities.  The technical committees responsible for
functionally-specific chapters define them within those chapters.
</p>

<h3>
<A NAME="Heading304">2.14.2 UDM/ACK - unsolicited display update message (event Q05) </A></h3>

<p>There
is a simple HL7 message that allows for unsolicited display update messages to
be sent in HL7 format from one system to another.<br>
Trigger events for the unsolicited update are generally the completion of a
particular action (concerning a given patient).  For example, a lab test might
be completed, generating a STAT unsolicited display message to be sent to the
appropriate location.<br>
<tt><u>Q05/UDM				Unsolicited Display Message	Chapter</u></tt><br>
<tt>MSH 					Message Header	2</tt><br>
<tt>URD					Results/Update Definition	2</tt><br>
<tt>[ URS ]				Results/Update Selection Criteria	2</tt><br>
<tt>  {  DSP  }			Display Data	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt><br>
<tt><u>Q05/ACK				General Acknowledgment	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2
</tt></p>

<h3>
<A NAME="Heading305">2.14.3 Continuation of unsolicited display update message</A></h3>

<p>Like
other types of HL7 messages, the UDM message can be continued by use of the DSC
segment and <i>MSH-14-continuation pointer</i>.  Thus if a UDM needs to be
continued as three separate UDM messages, the first message would contain:<br>
MSH    		(no continuation pointer)<br>
URD <br>
[URS] 	<br>
{  DSP  }  <br>
DSC    		(with continuation pointer)<br>
The second message would contain:<br>
MSH    		(continuation pointer (to first message))<br>
{  DSP  }<br>
DSC    		(with continuation pointer)<br>
The last message would then contain:<br>
MSH    		(continuation pointer (to second message))<br>
{  DSP  }<br>
				(no DSC, since last)
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	This scheme works equally well with non-display messages, such as the
Unsolicited Update ORU message (see Chapter 7).
</TD>
</TR></TABLE>
<p>Since
these are unsolicited messages, intervening messages (from other systems) may
be sent to the receiving application while the sections of the particular
message are being continued.  <i>MSH-14-continuation pointer</i> enables the
receiving system to keep track of extraneous intervening messages.
</p>

<h2>
<A NAME="Heading306">2.15 QUERIES</A></h2>


<h3>
<A NAME="Heading307">2.15.1 Display vs. record-oriented queries (original mode, embedded query language, virtual table, and stored procedure queries); and event replay requests</A></h3>

<p>This
section addresses the framework defined for responses to queries formatted as
display or record-oriented (original mode, tabular, and event replay response
messages).  The detailed content of the record-oriented query and response
messages is defined by the technical committees responsible for the
functionally-specific chapters: their basic forms are defined in this chapter. 
</p>

<h3>
<A NAME="Heading308">2.15.2 Message definition</A></h3>

<p>This
section defines the following message:<br>
*	a generalized query, compatible with previous releases of HL7 (henceforth
referred to as the original query)<br>
*	An Embedded Query Language query, which supports free-form select statements,
based on the query language of choice (e.g., SQL)<br>
*	a virtual table request query which supports queries against server database
tables (virtual or actual) based on specific selection criteria<br>
*	a stored procedure request, which enables an application on one system to
execute a stored procedure on another system, which is coded to extract
specific data<br>
*	a generalized display response message in which the responding system formats
the data for direct output to a display device (in both original and enhanced
modes)<br>
*	an event replay request message, which is used to request data formatted as
an event replay response<br>
*	a tabular response message in which the responding system formats the data in
a relational format, as rows and columns<br>
*	an event replay response,  in which the responding system formats the data on
the basis of an application-specific segment-oriented (record-oriented)
message<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note
:</b>	The response paradigm and basic form of the original mode record-oriented
query are  defined in this chapter, while the detailed forms are defined in the
functionally-specific chapters. 
</TD>
</TR></TABLE>
<p>The
following represents typical examples of queries supported by the Standard:<br>
a)	for data regarding a single patient, e.g., send all lab results for patient
#123456<br>
b)	for data regarding multiple patients, e.g., send the list of patients whose
attending physician is Dr. #123<br>
c)	for data that is not patient related, e.g., send the age specific normal
values for serum protein.<br>
The variety of potential queries is almost unlimited.  There was no attempt
here to define a Standard that would cover every possible query.  Instead, the
Standard embraces the most common queries that are likely to occur in a
hospital.  For each common query there is a corresponding unsolicited update.
See Section 2.14.2, "UDM/ACK - unsolicited display update message (event
Q05)."<br>
In particular, there is no implication that a specific system must support
generalized queries to comply with the Standard.  Rather, these transactions
provide a format, or a set of tools to support queries to the extent desired by
the institution.  The resources available and local policies will influence the
type of queries that are implemented.
</p>

<h3>
<A NAME="Heading309">2.15.3 Immediate vs. deferred response</A></h3>

<p>Responses
to queries can be either immediate or deferred.  The query describes this as
the expected response time.  In the immediate mode, the responding process
gives the response immediately or in a short period during which the requesting
process will wait for the response.
</p>

<h3>
<A NAME="Heading310">2.15.4 Interactive continuation or cancellation of response messages: original mode (display and record-oriented) and enhanced mode (display, tabular, and event replay) </A></h3>

<p>One
use of queries is to retrieve data from one application for presentation to
users of another.  This approach might be used for users of a patient care
system retrieving data from lab or other ancillaries.  It also might permit
users of a pharmacy system to retrieve a patient's lab results from the lab
system or non-pharmacy order data from the patient care system.  Almost any
other application system could be the source of data or the system initiating
the query for its users.<br>
Of particular interest is the case where the inquiring user formulates the
query online at the terminal of one system and waits while that system sends
the query to another.  He gets the response and displays it at their terminal.
When the user is formulating such a query she may only have limited
understanding of what data is available for a given patient.  Sometimes the
user's preference would be to make a simple query such as give me recent data
in reverse chronological sequence rather than give me data for yesterday, since
there may be some data available for today, or there may be data from two days
ago that is of interest.  The user will look at the data returned and simply
quit looking at it after he or she has found the part that is of interest.
(The time frames or the sort sequence may differ, or the user may wish to
impose some selectivity on the response, but the general principle remains the
same.  The user would prefer to make a vague statement of the interest, have
the data presented in order of decreasing likelihood of interest, and quit when
he or she has seen enough.)<br>
While beneficial to the user, this way of requesting data could be very
burdensome when the resulting query takes place over an inter-application
interface.  If the responding system were to retrieve, format, and send all the
data the user might like to see, the processing load would be extremely high
and the response time unacceptable.<br>
The continuation query provides a way to permit the users to formulate queries
loosely while limiting the processing burden on the responding system.  The
initial query specifies the general constraints of the query and an amount of
data to be returned.  (For example, the query might be for lab results for
patient #12379 and 44 lines would be requested.)  The responding system
retrieves and formats the specified amount of data and returns it with a
special key field, <i>DSC-1-continuation pointer</i>.  The initiating system
presents the requested data to the user and retains the continuation pointer
field for use if another query is needed.  The internal structure of the value
is not known to the initiating system.  <br>
If, after viewing the data, the user requests more, the initiating system sends
the query again in a format that is identical with the first, except that the
<i>DSC-1-continuation pointer</i> value is included and the requested amount of
data may be changed.  The responding system uses the continuation pointer field
as a key into its database to continue retrieval and formatting of the results.
If the user does not request more data, no further messages are exchanged.<br>
The initiating system may also explicitly terminate the query by sending a
"cancel query" message.  This message is formatted just like a continuation
query, except that the event-type (<i>MSH-9-message type</i>) is set equal to
CNQ.  Although the effect to the initiating system is the same as if it had not
sent any message (no further query data is received), receipt of this message
by the responding system enables it to discard any unsent continuation data
that might be queued.
</p>

<h3>
<A NAME="Heading311">2.15.5 Logical display break points</A></h3>

<p>Often
the lines of display text will fall into logical groups that differ from the
physical size of screen or printer page.  For example, a complete battery or an
entire radiology report might be thought of as comprising a logical group,
though they might have as few as six or as many as 120 lines.  Knowledge of the
logical break points in the display data can be useful to the application
system that is displaying or printing data.  For this reason, <i>DSP-4-logical
break point</i> is used.  The sending application (the one that formats the
data) places the logical break points where appropriate.  If there is a
particular ancillary result ID associated with the data delineated by
<i>DSP-4-logical break point</i>, the value of this ID also can be returned in
<i>DSP-5-result ID</i>.  Then if the user selects the area of the display
delineated by <i>DSP-4-logical break point</i>, the displaying system can query
for the associated <i>DSP-5-result ID</i>.
</p>

<h2>
<A NAME="Heading312">2.16 QUERY TRIGGER EVENTS AND MESSAGE DEFINITIONS</A></h2>

<p>These
are the trigger event types associated with queries:<br>
a)	a need occurs for immediate access to data that may be available from
another application, this may be an initial request for data or a
continuation<br>
b)	a need occurs for deferred access to data that may be available from another
application<br>
Where an original-style query is involved, these trigger events are served by
the query message (QRY). When display data is involved, these trigger events
are served by the Query (QRY) and Display Response (DSR) and General
Acknowledgment (ACK) messages.  When the query is for record-oriented data, the
QRY message is used, but the response message is specific to a functional area.
Record-oriented queries are described in detail in the relevant application
chapters.  Display-oriented response are described in detail in this chapter.
<br>
Although the query message of an event replay message is described in detail in
this chapter, event replay response messages will be described in detail in the
relevant application chapters. <br>
Where an Embedded Query Language query is involved, these trigger events are
served by the Embedded Query Language query (EQQ).<br>
Where a virtual table query is involved, these trigger events are served by the
Virtual Table Query (VQQ).<br>
Where a stored procedure request is involved, these trigger events are served
by the Stored Procedure request (SPQ) message.<br>
For each of these query messages, one of the following response messages is
used.<br>
When display data is involved, these queries are responded to with the Display
Response (DSR) message.<br>
When tabular data is involved, these queries are responded to with the Tabular
Data Response (TBR).<br>
Where an event replay query is involved, these trigger events are served by the
Event Replay Query (ERQ) and the Event Replay Response (RQQ) messages.<br>
Where an original QRY query message is used to request record-oriented data,
the response message is specific to a functional area.  Application-segment
record-oriented queries are described in other chapters (3-8).<br>
Display-oriented, tabular response messages, and event replay response messages
are described here.<br>
Each trigger event is listed below, with the applicable form of message exchange.</p>

<h2>
<A NAME="Heading313">2.17 ORIGINAL MODE QUERIES</A></h2>


<h3>
<A NAME="Heading314">2.17.1 QRY/DSR - original mode display query -  immediate response (event Q01)</A></h3>

<p><br>
<tt><u>Q01/QRY				Query Message	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>QRD					Query Definition	2</tt><br>
<tt>[ QRF ]				Query Filter	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt><br>
<tt><u>Q01/DSR				Display Response Message	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2</tt><br>
<tt>[ QAK ]				Query Acknowledgment	2</tt><br>
<tt>QRD					Query Definition	2</tt><br>
<tt>[ QRF ]				Query Filter	2</tt><br>
<tt>{ DSP }				Display Data	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt><br>
The QRF and QRD segments from the QRY are echoed back in the response.  The DSC
segment contains the continuation pointer, if it is not null
(<i>DSC-1-continuation pointer</i>).
</p>

<h4>
<A NAME="Heading315">2.17.1.1 Original mode display query variants</A></h4>

<p>If
a display query has more than a single type of response (i.e., a DSR message
with a different meaning, requiring different processing on the querying
system), the second component of the Message Type field of the MSH segment may
be used to indicate the response event type.  For example, an ancillary name
search display query may be defined using the query event code of DNM.  The
display response to such a query may be either a list of name matches (response
event type is DNM) or the ancillary's display results for an exact match to the
name query (response event type is NRS).  See<i> HL7</i> <i>table 0003 - Event
type code</i> and field notes for <i>MSH-9-message type</i>.</p>

<h2>
<A NAME="Heading316">2.18 ORIGINAL MODE DEFERRED ACCESS</A></h2>

<p>For
clarity, A is the system initiating the query and B is the system sending the
responses.  Multiple queries and responses are permitted within single
messages.  The responses to a given query may be broken into several separate
DSR messages.  A single DSR message may contain responses to more than one QRY.
</p>

<h3>
<A NAME="Heading317">2.18.1 QRY/QCK - deferred query (event Q02)</A></h3>

<p>For
clarity, A is the system initiating the query and B is the system sending the
responses.  Multiple queries and responses are permitted within single
messages.  The responses to a given query may be broken into several separate
DSR messages.  A single DSR message may contain responses to more than one
QRY.<br>
<tt><u>Q02/QRY (A to B)		Query Message	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>QRD					Query Definition	2</tt><br>
<tt>[ QRF ]				Query Filter	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt><br>
<tt><u>Q02/QCK (B to A)		Query General Acknowledgment	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2</tt><br>
[ QAK ]				Query Acknowledgment	2
</p>

<h3>
<A NAME="Heading318">2.18.2 DSR/ACK - deferred response to a query (event Q03) </A></h3>

<p>Later,
perhaps more than once.<br>
<tt><u>Q03/DSR (B to A)		Display Response Message	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>[MSA]				Message Acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2</tt><br>
<tt>[ QAK ]				Query Acknowledgment	2</tt><br>
<tt>QRD					Query Definition	2</tt><br>
<tt>[ QRF ]				Query Filter	2</tt><br>
<tt>{ DSP }				Display Data	</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt><br>
<tt><u>Q03/ACK (A to B)		General Acknowledgment	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2</tt><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note</b>:
All record-oriented original mode and all enhanced mode queries follow the
immediate and deferred acknowledgment modes defined in Section 2.18.1, "QRY/QCK
- deferred query (event Q02)."
</TD>
</TR></TABLE>

<h2>
<A NAME="Heading319">2.19 ENHANCED MODE QUERY MESSAGES</A></h2>


<h3>
<A NAME="Heading320">2.19.1 EQQ - embedded query language query (event Q04)</A></h3>

<p><br>
<tt><u>Q04/EQQ				Embedded Query Language Query 	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>EQL					EQL Definition	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt></p>

<h3>
<A NAME="Heading321">2.19.2 VQQ - virtual table query (event Q07)</A></h3>

<p><br>
<tt><u>Q07/VQQ				Virtual Table Query	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>VTQ					VTQ Definition	2</tt><br>
<tt>[ RDF ]				Table Row Definition	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt></p>

<h3>
<A NAME="Heading322">2.19.3 SPQ - stored procedure request (event Q08)</A></h3>

<p><br>
<tt><u>Q08/SPQ				Stored Procedure Request	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>SPR					Store Procedure Request	2</tt><br>
<tt>[ RDF ]				Table Row Definition	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt></p>

<h3>
<A NAME="Heading323">2.19.4 RQQ - event replay query (event Q09)</A></h3>

<p><tt><u>Q09/RQQ
			Event Replay Query	Chapter </u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>ERQ					Event Replay Query	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2
</tt></p>

<h2>
<A NAME="Heading324">2.20 ENHANCED QUERY MODE RESPONSE MESSAGES</A></h2>


<h3>
<A NAME="Heading325">2.20.1 EDR - enhanced display response</A></h3>

<p><br>
<tt><u>EDR				Enhanced Display Response 	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ ERR ]				Error	2</tt><br>
<tt>QAK					Query Acknowledgment	2</tt><br>
<tt>{ DSP }				Display Data	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt></p>

<h3>
<A NAME="Heading326">2.20.2 TBR - tabular data response </A></h3>

<p><a name="DDE_LINK2"></a><br>
<tt><u>TBR					Tabular Data Response 	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ERR]				Error	2</tt><br>
<tt>QAK					Query Acknowledgment	2</tt><br>
<tt>RDF					Table Row Definition	2</tt><br>
<tt>{ RDT }				Table Row Data	2</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt></p>

<h3>
<A NAME="Heading327">2.20.3 ERP - event replay response</A></h3>

<p><br>
<tt><u>ERP					Event Replay Response	Chapter</u></tt><br>
<tt>MSH					Message Header	2</tt><br>
<tt>MSA					Message Acknowledgment	2</tt><br>
<tt>[ERR]				Error	2</tt><br>
<tt>QAK					Query Acknowledgment	2</tt><br>
<tt>ERQ					Event Replay Query	2</tt><br>
<tt>	...</tt><br>
<tt>	...</tt><br>
<tt>[ DSC ]				Continuation Pointer	2</tt><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	The remainder of this message is defined by the contents of the corresponding
segment-oriented record-oriented unsolicited update message, excluding the MSH,
as defined by the function-specific chapters of this specification.  The input
parameter list may be satisfied by more than one record-oriented unsolicited
update message: in this case, the segment group after the ERQ segment may repeat.
</TD>
</TR></TABLE>
<p></p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
When this message is continued, the continuation messages should include the
MSH, MSA, [ERR], QAK, ERQ, and [DSC] segments, as well as the segments
indicated by the ellipsis (...) in the response definition and the DSC should
be used only at the end of the group corresponding to the record-oriented
unsolicited update message.
</TD>
</TR></TABLE>
<p>Enhanced
mode record-oriented response messages note:  The RDF segment from the EQQ, VQQ
and SPQ messages, and the ERQ segment from the EQQ message, are echoed back in
their respective responses.  The DSC segment contains the continuation pointer,
if it is not null (<i>DSC-1-continuation pointer</i>).
</p>

<h2>
<A NAME="Heading328">2.21 QUERY MESSAGE IMPLEMENTATION CONSIDERATIONS</A></h2>


<h3>
<A NAME="Heading329">2.21.1 Original mode implementation considerations</A></h3>

<p>a)
The particular allowable values for the filters in the QRD and QRF segments are
determined among cooperating applications during implementation.<br>
b)	The format chosen for the query segments is very general.  This might be
read by prospective implementors to imply that the requirement for using the
Standard is the ability to respond to a wide variety of inquiries.  This is not
the intent.  The format here can be used with specific restrictions in any
interface.</p>

<h3>
<A NAME="Heading330">2.21.2 Enhanced mode implementation considerations: definition of tables and "virtual tables"</A></h3>

<p>a)
	The particular allowable values for the EQL, VTQ, SPR, and RDF segments are
determined among cooperating applications during implementation.<br>
b) 	The formats chosen for the query messages are very general.  This might be
read by prospective implementors to imply that the requirement for using the
Standard is the ability to respond to a wide variety of inquiries.  This is not
the intent.  The format here can be used with specific restrictions in any
interface.<br>
c) 	The contents of the tables expressed as TBR response messages are defined
by the functional chapters.  Where an existing HL7 segment contains the fields
needed to form a row of a tabular response, the segment ID can be referenced.
For example, if a table of patients is needed, where each row represents a
patient and each column a field from the PID segment, then the PID can be
referenced as a table, also sometimes referred to as a "virtual table."<br>
Where each row is comprised of fields from multiple HL7 segments, the
functional chapters may define additional tables.  For example, a table may be
defined to respond to insurance queries where each row represents a patient,
and is comprised of columns derived from the PID segment and the insurance
segments <i>(IN1-IN4).
</i></p>

<h2>
<A NAME="Heading331">2.22 QUERY ERROR RESPONSE</A></h2>

<p>If
an application detects an error while processing a query, it responds by
returning an Application Error (AE) or Application Reject (AR) condition in the
MSA segment of the applicable query response message (DSR, TBR or ERP).  The
responding application values <i>MSA-6 error condition</i> with the appropriate
error code and message.  The continuation (DSC) segment is not sent or, if it
is, its continuation pointer field (<i>DSC-1</i>-<i>continuation pointer</i>)
is null.  If the QAK segment is being used, the field <i>QAK-2-query response
status</i> is valued appropriately with either AE (application error) or AR
(application reject).
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
If the responding application successfully processes the query, but is unable
to find any qualifying data, this is not an error condition.  The responding
application returns an Application Accept (AA) in the MSA segment of the query
response message, but does not return any data segments (DSP, RDT, or event
replay segments).  The continuation (DSC) segment is not sent or, if it is, its
continuation pointer field (<i>DSC-1-</i> <i>continuation pointer)</i> is null.
If the QAK segment is being used, the field <i>QAK-2-query response status</i>
is valued with NF (no data found, no errors).
</TD>
</TR></TABLE>

<h2>
<A NAME="Heading332">2.23 SPECIAL HL7 PROTOCOLS</A></h2>

<p>This
section contains several extensions to the basic HL7 message protocol.  These
extensions represent implementation choices, and are to be used on a
site-specific and application-specific basis as needed.
</p>

<h3>
<A NAME="Heading333">2.23.1 Sequence number protocol</A></h3>

<p>For
certain types of data transactions between systems the issue of keeping
databases synchronized is critical.  An example is an ancillary system such as
lab, which needs to know the locations of all inpatients to route stat results
correctly.  If the lab receives an ADT transaction out of sequence, the
census/location information may be incorrect.  Although it is true that a
simple one-to-one acknowledgment scheme can prevent out-of-sequence
transactions between any two systems, only the use of sequence numbers can
prevent duplicate transactions.  <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	Although this sequence number protocol is limited to the use of sequence
numbers on a single transaction stream between two applications, this
sequencing protocol is sufficiently robust to allow the design of
HL7-compatible store-and-forward applications.
</TD>
</TR></TABLE>
<p>a)
definitions, initial conditions:<br>
1)	the system receiving the data stream is expected to store the sequence
number of the most recently accepted transaction in a secure fashion before
acknowledging that transaction. This stored sequence number allows comparison
with the next transaction's sequence number, and the implementation of
fault-tolerant restart capabilities.<br>
2)	the initiating system keeps a queue of outgoing transactions indexed by the
sequence number.  The length of this queue must be negotiated as part of the
design process for a given link.  The minimum length for this queue is one.<br>
3)	the sequence number is a positive (non-zero) integer; and it is incremented
by one (by the initiating system) for each successive transaction. <br>
b)	starting the link:<br>
1)	the value of 0 (zero) for a sequence number is reserved: it is allowed only
when the initiating system (re-)starts the link.<br>
2)	if the receiving system gets a transaction with a 0 (zero) in the sequence
number field, it should respond with a general acknowledgment message whose MSA
contains a sequence number one greater than the sequence number of the last
transaction it accepted in the Expected Sequence Number field.  If this value
does not exist (as on the first startup of a given link), the MSA should
contain a sequence number of -1, meaning that the receiving system will use the
positive, non-zero sequence number of the first transaction it accepts as its
initial sequence number (see resynching the link, item <b>e</b> below). <br>
3)	the initiating system then sends the transaction indexed by the expected
sequence number (if that expected transaction is still on its queue).
Otherwise the link is frozen until an operator intervenes.<br>
c)	normal operation of the link:<br>
As it accepts each transaction, the receiving system securely stores the
sequence number (which agrees with its expected sequence number), and then
acknowledges the message by echoing the sequence number in <i>MSA-4-expected
sequence number</i>.<br>
d)	error conditions (from point of view of initiating system).  These are
generated by the receiving system, by its comparison of the sequence number
sent out (with the MSH in <i>MSH-13-sequence number</i>) with the expected
sequence number (<i>MSA-4-expected sequence number</i> received with the
MSA).<br>
1)<b>	expected sequence number is one greater than current value</b>.  The
previous acknowledgment was lost.  That transaction was sent again.  Correct by
sending next transaction.<br>
2)<b>	expected sequence number less than current value</b>. Initiating system
can try starting again by issuing a transaction with a sequence number of zero;
or freeze the link for operator intervention.<br>
3)<b>	other errors</b>: freeze the link for operator intervention<br>
e)	forcing resynchronization of sequence numbers across the link.  The value of
-1 for a sequence number is reserved: it is allowed only when the initiating
system is resynching the link.  Thus if the receiving system gets a value of -1
in the sequence number field, it should return a general acknowledgment message
with a -1 in the expected sequence number field.  The receiving system then
resets its sequence number, using the non-zero positive sequence number of the
next transaction it accepts.<br>
f)	notes<br>
When the initiating system sends a message with a sequence number of <b>0</b>
or <b>-1</b> (see b or e above), the segments beyond the MSH need not be
present in the message, or, if present, all fields can be null.  In terms of
the responding system, for these two cases, only a General acknowledgment
message is needed.
</p>

<h3>
<A NAME="Heading334">2.23.2 Continuation messages and segments</A></h3>

<p>See
Section 2.15.4, "Interactive continuation or cancellation of response messages:
original mode (display and record-oriented) and enhanced mode (display,
tabular, and event replay)," for a discussion of the continuation pointer
segment and the continuation pointer field, and their use in the continuation
of responses to queries and in the continuation of unsolicited update
messages.<br>
Besides the need to continue a message, there are occasional implementation
conditions that force the continuation of a segment across messages.  Such
continued segments require the use of the ADD segment as follows:<br>
a)	the segment being continued (call it ANY for this example) is ended at an
arbitrary character position and terminated with the standard segment
terminator (carriage return).<br>
b)	the following segment is the ADD segment.  When it follows a segment being
continued, the ADD segment contains no fields.  Whether the message being
continued is a response to a query, or an unsolicited update, the receiving
system will use the continuation pointer (with the ADD segment) to continue the
message.<br>
c)	when a response (to a query) is continued, the first segment after the QRD
and QRF (on a continued query) will be the ADD segment.  All the fields after
the ADD segment identifier (fields 1-N) will be the continuation of the ANY
segment.  The receiving system will then use the continuation pointer to join
the two parts of the ANY segment and continue processing the message.<br>
d)	for the continuation of an unsolicited update message, the ADD segment will
be the first segment after the MSH segment.  The receiving system will use the
continuation pointer field in the MSH segment to identify the message being
continued, and then use the ADD segment as described in c) to join the two
parts of the ANY segment.<br>
e)	limitations: MSH, MSA, DSC, PID, QRD, QRF, URD and URS segments cannot be
continued. <br>
f)	although the UU example given below is for a display message, there is
nothing in the protocol to prevent a record-oriented UU from being continued in
this fashion.  In the unsolicited display message, the ADD record on the
continuation comes just after the URD/[URS] pair instead of directly after the
MSH.<br>
g) 	transaction flow for a continued query-response pair with an ADD
segment:<br>
1)	first query and response:<br>
MSH<br>
QRD<br>
[QRF]<br>
MSH<br>
MSA<br>
[ ERR ]<br>
QRD<br>
[QRF]<br>
    {  DSP  }	(last DSP segment is incomplete)<br>
ADD				(ADD segment contains no fields)<br>
DSC<br>
2)	second query and response:<br>
MSH<br>
QRD<br>
[QRF]<br>
DSC			(contains the continuation pointer from the DSC segment of prior
response<br>
			 message)<br>
MSH<br>
MSA<br>
[ ERR ]<br>
QRD<br>
[QRF]<br>
ADD			(contains the remainder of the last DSP segment of the<br>			 previous
response)<br>
   {DSP}	(remaining DSP segments are complete)
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	This second response could itself be continued with a second DSC and (if
needed) a second ADD segment prior to it. This paradigm also applies to both
original mode and enhanced mode queries of display and record-oriented types. 
</TD>
</TR></TABLE>
<p>f)
	transaction flow for a continued unsolicited message with a continued
segment.<br>
1)	first unsolicited message and acknowledgment:<br>
MSH<br>
URD<br>
[ URS ]			<br>
   {DSP}		(last DSP is incomplete)<br>
ADD				(contains no fields)<br>
DSC				(Continuation segment)<br>
MSH			(General acknowledgment)<br>
MSA<br>
[ ERR ]<br>
2)	second unsolicited message and acknowledgment: <br>
MSH			(contains continuation pointer from DSC segment <br>			of prior
message)<br>
ADD			(contains remainder of data from continued DSP<br>			segment from prior
message)<br>
   {DSP}
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	This second message could itself be continued with a second DSC and (if
needed) a second ADD segment prior to it.
</TD>
</TR></TABLE>
<p><br>
MSH			(General acknowledgment)<br>
MSA			<br>
[ ERR ]	
</p>

<h3>
<A NAME="Heading335">2.23.3 HL7 batch protocol</A></h3>

<p>There
are instances when it is convenient to transfer a batch of HL7 messages.
Common examples would be a batch of financial posting detail transactions
(DFT's) sent from an ancillary to a financial system.  Such a batch could be
sent online using a common file transfer protocol, or offline via tape or
diskette.</p>

<h4>
<A NAME="Heading336">2.23.3.1 HL7 batch file structure </A></h4>

<p>The
structure of an HL7 batch file is given by the following (using the HL7
abstract message syntax)<br>
[FHS]               (file header segment)<br>
{ [BHS]             (batch header segment)<br>
 { [MSH             (zero or more HL7 messages)<br>
	....<br>
	....<br>
	....<br>
] }<br>
  [BTS]              (batch trailer segment)<br>
}<br>
[FTS]                (file trailer segment)<br>
Notes:<br>
The sequence numbering protocol has a natural application in batch transfers.
See the discussion of batch acknowledgments that follows.<br>
Although a batch will usually consist of a single type of message, there is
nothing in the definition that restricts a batch to only one message type.<br>
The HL7 file and batch header and trailer segments are defined in exactly the
same manner as the HL7 message segments.  Hence the HL7 message construction
rules of Section 2.10, "MESSAGE CONSTRUCTION RULES," can be used to encode and
decode HL7 batch files.<br>
There are only two cases in which an HL7 batch file may contain zero HL7
messages:<br>
a)	a batch containing zero HL7 messages may be sent to meet a requirement for
periodic submission of batches when there are no messages to send.<br>
b)	a batch containing zero negative acknowledgment messages may be sent to
indicate that all the HL7 messages contained in the batch being acknowledged
are implicitly acknowledged.  See Section 2.23.3.3, "Related segments and data
usage."
</p>

<h4>
<A NAME="Heading337">2.23.3.2 Related segments and data usage</A></h4>

<p>The
following segments defined in Section 2.24 , "MESSAGE CONTROL SEGMENTS," relate
to the HL7 Batch Protocol:<br>
BHS	Batch Header<br>
BTS	Batch Trailer<br>
FHS	File Header<br>
FTS	File Trailer<br>
The BTS segment contains a field, <i>BTS-3-batch totals</i>, which may have one
or more totals drawn from fields within the individual messages.  The method
for computing such totals will be determined on a site or application basis
unless explicitly stated in a functional chapter.
</p>

<h4>
<A NAME="Heading338">2.23.3.3 Acknowledging batches</A></h4>

<p>In
general, the utility of sending batches of data is that the data is accepted
all at once, with errors processed on an exception basis.  However, it is a
permissible application of HL7 to acknowledge all messages.  Several options
for acknowledgment are given and will be chosen on an application basis.  In
these cases, the sequence numbering protocol can be useful to the applications
processing the batch.<br>
The options are:<br>
a)	all messages are acknowledged in the response batch.<br>
b)	the receiving system prints some form of batch control report, which is then
dealt with manually by personnel at the sending system.  No acknowledgments are
performed by the protocol software.<br>
c)	an automated acknowledgment batch is created containing acknowledgment
messages only for those messages containing errors.  In this mode an empty
acknowledgment batch may be created (i.e., an HL7 batch file without any HL7
acknowledgment messages).  <br>
In each case where there is a response batch, its format is a batch of
individual messages.  Each individual message is in the format defined for an
online response in the chapters.  Consider, for example, a batch that might be
constructed to respond to a batch of Detailed Financial Transactions (Chapter
6).  The messages in the response batch would consist entirely of ACK messages,
since ACK is the response shown in Chapter 6.<br>
When batches are retransmitted after the correction of errors,
<i>BHS-12-reference batch control ID</i> should contain the batch control ID of
the original batch.</p>

<h4>
<A NAME="Heading339">2.23.3.4 Batch message as a query response</A></h4>

<p>The
HL7 query also can be used to query for a batch in the following manner:<br>
a)	use the value BB or BL of <i>QRD-5-deferred response type</i> to specify a
batch response.  The query will be acknowledged with a general acknowledgment
as in the Deferred Access example above (see Section 2.18.2, "QRY/QCK -
deferred query (event Q02)").<br>
b)	in addition, insert into the batch file the QRD and QRF segments as
follows:<br>
[FHS]                  (file header segment)<br>
 { [BHS]               (batch header segment)<br>
   [QRD]               (the QRD and QRF define the<br>
   [QRF]                query that this batch is a response to)<br>
{ MSH               (one or more HL7 messages)<br>
   ....<br>
   ....<br>
   ....<br>
}<br>
   [BTS]              (batch trailer segment)<br>
}<br>
[FTS]                 (file trailer segment)<br>
c)	the acknowledgment of a batch is described in this chapter (see Section
2.23.3.3, "HL7 batch protocol").
</p>

<h3>
<A NAME="Heading340">2.23.4 Modes for updating via repeating segments</A></h3>

<p>When
groups of  repeating segments appear within a message it is not obvious from
the basic HL7 abstract message syntax how best to apply the new group of
repeating segments on the receiving system. HL7 suggests two methods: the
"snapshot" mode and the "action code/unique identifier" mode.<br>
Background:<br>
The segments which repeat in HL7 messages Patient Administration
(ADT)/Financial Information messages ( AL1, DG1, PR1, GT1, IN1, IN2, IN3, NK1 ,
NTE) present a problem if the requirement is to update only part of the
information previously sent.  Prior to Version 2.3 of the Standard, all such
repeating segments had to be sent again in the update, because there was no way
to indicate which ones changed and which ones did not.  For example, if two DG1
segments were sent originally (containing a primary and secondary diagnosis),
and then if a tertiary diagnoses needed to be sent, the sending system had to
send all diagnoses which were currently valid, that is, three DG1 segments
(containing primary, secondary and tertiary diagnosis).  This way of doing
things is referred to as the "snapshot" mode.  In this mode, everything (all
repeating segments) must be sent with every subsequent message in the series of
messages. <br>
In the Order Entry, Observation Reporting, and Master Files chapters, action
codes (e.g., order control codes and result status codes) and unique
identifiers (e.g., placer and filler numbers) are currently specified as part
of the ORC, OBR, OBX and MFE segments.  So, except for the NTE segments, this
problem exists mainly for the Patient Administration and Financial Management
chapter segments.  <br>
For systems implementing Version 2.3 or higher, if a particular repeating
segment can be updated by either of these two modes, the parties concerned will
determine by agreement on a site-specific basis whether an interface will use
the "snapshot" mode or the "action code/unique identifier" mode.</p>

<h4>
<A NAME="Heading341">2.23.4.1 Snapshot mode update definition </A></h4>

<p>In
the "snapshot" mode, the group of repeating segments from the incoming message
replaces the prior group of repeating segments on the receiving system.  This
is equivalent to a deletion of the prior group followed by the addition of the
new group.  The snapshot mode is the usual mode in Version 2.2 and 2.1
implementations of HL7, but it is also available for Version 2.3 and future
versions.  To specify "delete all of the segments in this repeating group" in
the snapshot mode, send a single segment with "delete data" indicated for all
fields. <br>
For example, if the following DG1 segment is in an ADT update message (for an
inpatient stay):<br>
DG1|""|""|""|""|""|""|""|""|""|""|""|""|""|""|""|""|""|""|""&lt;cr&gt;<br>
and the snapshot mode is being used, this indicates that all
previously-transmitted diagnoses for this inpatient stay should be deleted.</p>

<h4>
<A NAME="Heading342">2.23.4.2 Action code/unique identifier mode update definition</A></h4>

<p>In
the "action code/unique identifier" mode, each member of a repeating group of
segments must have a unique identifier (equivalent to the filler number in
observational reports messages).  The choice of delete/update/insert is
determined by the action code (equivalent to the result status in observational
reports messages).  Refer to <i>HL7 table 0206 - Segment action code</i> for
valid values.
</p>

<center>Table 0206 - Segment action code
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Add/Insert</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Delete</TD>
</TR><TR align="center">
<TD align="center"><p>U</TD>

<TD align="center"><p>Update</TD>
</TR></TABLE>
<p>The
<i>unique identifier</i> is defined in a general manner as follows: it uniquely
identifies one of multiple repetitions of the primary entity defined by the
repeating segment in a way that does not change over time. It is not dependent
on any particular message identifier level (MSH) fields; it functions across
messages, not just within a message.  The <i>unique identifier</i> will be
chosen on a segment-specific basis, depending on the primary entity referenced
by the segment.  For some cases, such as a diagnosis code, it may be a CE data
type.  For others, such as a person identifier, it may be a CX data type.  For
others it may be an EI (entity identifier) data type.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
This mode is available for use only for new segments for Version 2.3 and for
new segments in future versions
</TD>
</TR></TABLE>

<h2>
<A NAME="Heading343">2.24 MESSAGE CONTROL SEGMENTS</A></h2>

<p>The
following segments are necessary to support the functionality described in this
chapter.
</p>
<TABLE>
<TR align="left">
<TD align="left"><p><b>Note:</b>
	The HL7 message construction rules define the standard HL7 encoding rules,
creating  variable length  delimited messages from the segments defined below.
Although only one set of encoding rules is defined as a standard in HL7 Version
2.3, other encoding rules are possible (but since they are non-standard, they
may only used by a site-specific agreement).
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading344">2.24.1 MSH - message header segment</A></h3>

<p>The
MSH segment defines the intent, source, destination, and some specifics of the
syntax of a message. 
</p>

<center>Figure 2-8.  MSH attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00001</TD>

<TD align="center"><p>Field
Separator
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>4</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00002</TD>

<TD align="center"><p>Encoding
Characters
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>180</TD>

<TD align="center"><p>EI</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00003</TD>

<TD align="center"><p>Sending
Application
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>180</TD>

<TD align="center"><p>EI</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00004</TD>

<TD align="center"><p>Sending
Facility
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>180</TD>

<TD align="center"><p>EI</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00005</TD>

<TD align="center"><p>Receiving
Application
</TD>
</TR><TR align="center">
<TD align="center"><p>6</TD>

<TD align="center"><p>180</TD>

<TD align="center"><p>EI</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00006</TD>

<TD align="center"><p>Receiving
Facility
</TD>
</TR><TR align="center">
<TD align="center"><p>7</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00007</TD>

<TD align="center"><p>Date/Time
Of Message
</TD>
</TR><TR align="center">
<TD align="center"><p>8</TD>

<TD align="center"><p>40</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00008</TD>

<TD align="center"><p>Security</TD>
</TR><TR align="center">
<TD align="center"><p>9</TD>

<TD align="center"><p>7</TD>

<TD align="center"><p>CM</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0076<br>0003</TD>

<TD align="center"><p>00009</TD>

<TD align="center"><p>Message
Type
</TD>
</TR><TR align="center">
<TD align="center"><p>10</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00010</TD>

<TD align="center"><p>Message
Control ID
</TD>
</TR><TR align="center">
<TD align="center"><p>11</TD>

<TD align="center"><p>3</TD>

<TD align="center"><p>PT</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00011</TD>

<TD align="center"><p>Processing
ID
</TD>
</TR><TR align="center">
<TD align="center"><p>12</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>VID</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0104</TD>

<TD align="center"><p>00012</TD>

<TD align="center"><p>Version
ID
</TD>
</TR><TR align="center">
<TD align="center"><p>13</TD>

<TD align="center"><p>15</TD>

<TD align="center"><p>NM</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00013</TD>

<TD align="center"><p>Sequence
Number
</TD>
</TR><TR align="center">
<TD align="center"><p>14</TD>

<TD align="center"><p>180</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00014</TD>

<TD align="center"><p>Continuation
Pointer
</TD>
</TR><TR align="center">
<TD align="center"><p>15</TD>

<TD align="center"><p>2</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0155</TD>

<TD align="center"><p>00015</TD>

<TD align="center"><p>Accept
Acknowledgment Type
</TD>
</TR><TR align="center">
<TD align="center"><p>16</TD>

<TD align="center"><p>2</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0155</TD>

<TD align="center"><p>00016</TD>

<TD align="center"><p>Application
Acknowledgment Type
</TD>
</TR><TR align="center">
<TD align="center"><p>17</TD>

<TD align="center"><p>2</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00017</TD>

<TD align="center"><p>Country
Code
</TD>
</TR><TR align="center">
<TD align="center"><p>18</TD>

<TD align="center"><p>10</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0211</TD>

<TD align="center"><p>00692</TD>

<TD align="center"><p>Character
Set
</TD>
</TR><TR align="center">
<TD align="center"><p>19</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00693</TD>

<TD align="center"><p>Principal
Language Of Message
</TD>
</TR><TR align="center">
<TD align="center"><p>20</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>01317</TD>

<TD align="center"><p>Alternate
Character Set Handling Scheme
</TD>
</TR></TABLE>
<p>2.24.1.0
  MSH field definitions</p>

<h4>
<A NAME="Heading345">2.24.1.1 Field separator  (ST)   00001</A></h4>

<p>Definition:
 This field contains the separator between the segment ID and the first real
field, <i>MSH-2-encoding characters</i>.  As such it serves as the separator
and defines the character to be used as a separator for the rest of the
message.  Recommended value is |, (ASCII 124). </p>

<h4>
<A NAME="Heading346">2.24.1.2 Encoding characters  (ST)   00002</A></h4>

<p>Definition:
 This field contains the four characters in the following order: the component
separator, repetition separator, escape character, and subcomponent separator.
Recommended values are ^~\&amp;, (ASCII 94, 126, 92, and 38, respectively).
See Section 2.7, "MESSAGE DELIMITERS."</p>

<h4>
<A NAME="Heading347">2.24.1.3 Sending application  (EI)   00003</A></h4>

<p><tt>Components:
 &lt;namespace ID (IS)&gt; ^ &lt;universal ID (ST)&gt; ^ &lt;universal ID type
(ID)&gt;</tt><br>
Definition:  This field uniquely identifies the sending application among all
other applications within the network enterprise.  The network enterprise
consists of all those applications that participate in the exchange of HL7
messages within the enterprise.  Entirely site-defined.</p>

<h4>
<A NAME="Heading348">2.24.1.4 Sending facility  (EI)   00004</A></h4>

<p><tt>Components:
 &lt;namespace ID (IS)&gt; ^ &lt;universal ID (ST)&gt; ^ &lt;universal ID type
(ID)&gt;</tt><br>
Definition:  This field contains the address of one of several occurrences of
the same application within the sending system.  Absent other considerations,
the Medicare Provider ID might be used with an appropriate sub-identifier in
the second component.  Entirely user-defined. </p>

<h4>
<A NAME="Heading349">2.24.1.5 Receiving application  (EI)   00005</A></h4>

<p><tt>Components:
 &lt;namespace ID (IS)&gt; ^ &lt;universal ID (ST)&gt; ^ &lt;universal ID type
(ID)&gt;</tt><br>
Definition:  This field uniquely identifies the receiving application among all
other applications within the network enterprise.  The network enterprise
consists of all those applications that participate in the exchange of HL7
messages within the enterprise.  Entirely site-defined.</p>

<h4>
<A NAME="Heading350">2.24.1.6 Receiving facility  (EI)   00006</A></h4>

<p><tt>Components:
 &lt;namespace ID (IS)&gt; ^ &lt;universal ID (ST)&gt; ^ &lt;universal ID type
(ID)&gt;</tt><br>
Definition:  This field identifies the receiving application among multiple
identical instances of the application running on behalf of different
organizations.  See comments: <i>MSH-4-sending facility</i>.  Entirely
site-defined.</p>

<h4>
<A NAME="Heading351">2.24.1.7 Date/time of message  (TS)   00007</A></h4>

<p>Definition:
 This field contains the date/time that the sending system created the message.
If the time zone is specified, it will be used throughout the message as the
default time zone.</p>

<h4>
<A NAME="Heading352">2.24.1.8 Security  (ST)   00008</A></h4>

<p>Definition:
 In some applications of HL7, this field is used to implement security
features.  Its use is not yet further specified. </p>

<h4>
<A NAME="Heading353">2.24.1.9 Message type  (CM)   00009 </A></h4>

<p><tt>Components:
 &lt;message type (ID)&gt; ^ &lt;trigger event (ID)&gt; ^ &lt;message structure
(ID)&gt;</tt><br>
Definition:  This field contains the message type, trigger event, and abstract
message structure code for the message.  The first component is the message
type edited by <i>HL7 table 0076 - Message type</i>; second is the trigger
event code edited by <i>HL7</i> <i>table 0003 - Event type</i>; third is the
abstract message structure code edited by <i>HL7 Table 0354 - Message
structure</i>.<br>
The receiving system uses this field to recognize the data segments , and
possibly, the application to which to route this message.  For certain queries,
which may have more than a single response event type, the second component
may, in the response message, vary to indicate the response event type.  See
the discussion of the display query variants in Section 2.17.1.1, "Original
mode display query variants."  The second component is not required on response
or acknowledgment messages.
</p>

<center>Table 0076 - Message type 
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>Value</p>
<BR></TH>
<TH align="center"><p>Description</p>
<BR></TH>
<TH align="center"><p>Chapter</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>ACK</TD>

<TD align="center"><p>General
acknowledgment message
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>ADR</TD>

<TD align="center"><p>ADT
response
</TD>

<TD align="center"><p>3</TD>
</TR><TR align="center">
<TD align="center"><p>ARD</TD>

<TD align="center"><p>Ancillary
RPT (display) (for backward compatibility only)
</TD>

<TD align="center"><p>7</TD>
</TR><TR align="center">
<TD align="center"><p>ADT</TD>

<TD align="center"><p>ADT
message
</TD>

<TD align="center"><p>3</TD>
</TR><TR align="center">
<TD align="center"><p>BAR</TD>

<TD align="center"><p>Add/change
billing account
</TD>

<TD align="center"><p>6</TD>
</TR><TR align="center">
<TD align="center"><p>CRM</TD>

<TD align="center"><p>Clinical
study registration
</TD>

<TD align="center"><p>7</TD>
</TR><TR align="center">
<TD align="center"><p>CSU</TD>

<TD align="center"><p>Unsolicited
clinical study data 
</TD>

<TD align="center"><p>7</TD>
</TR><TR align="center">
<TD align="center"><p>DFT</TD>

<TD align="center"><p>Detail
financial transaction
</TD>

<TD align="center"><p>6</TD>
</TR><TR align="center">
<TD align="center"><p>DOC</TD>

<TD align="center"><p>Document
query
</TD>

<TD align="center"><p>9</TD>
</TR><TR align="center">
<TD align="center"><p>DSR</TD>

<TD align="center"><p>Display
response
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>EDR</TD>

<TD align="center"><p>Enhanced
display response
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>EQQ</TD>

<TD align="center"><p>Embedded
query language query
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>ERP</TD>

<TD align="center"><p>Event
replay response
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>MCF</TD>

<TD align="center"><p>Delayed
acknowledgment
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>MDM</TD>

<TD align="center"><p>Documentation
message
</TD>

<TD align="center"><p>9</TD>
</TR><TR align="center">
<TD align="center"><p>MFN</TD>

<TD align="center"><p>Master
files notification
</TD>

<TD align="center"><p>8</TD>
</TR><TR align="center">
<TD align="center"><p>MFK</TD>

<TD align="center"><p>Master
files application acknowledgment
</TD>

<TD align="center"><p>8</TD>
</TR><TR align="center">
<TD align="center"><p>MFD</TD>

<TD align="center"><p>Master
files delayed application acknowledgment
</TD>

<TD align="center"><p>8</TD>
</TR><TR align="center">
<TD align="center"><p>MFQ</TD>

<TD align="center"><p>Master
files query
</TD>

<TD align="center"><p>8</TD>
</TR><TR align="center">
<TD align="center"><p>MFR</TD>

<TD align="center"><p>Master
files query response
</TD>

<TD align="center"><p>8</TD>
</TR><TR align="center">
<TD align="center"><p>NMD</TD>

<TD align="center"><p>Network
management data
</TD>

<TD align="center"><p>Appendix
C
</TD>
</TR><TR align="center">
<TD align="center"><p>NMQ</TD>

<TD align="center"><p>Network
management query 
</TD>

<TD align="center"><p>Appendix
C
</TD>
</TR><TR align="center">
<TD align="center"><p>NMR</TD>

<TD align="center"><p>Network
management response
</TD>

<TD align="center"><p>Appendix
C
</TD>
</TR><TR align="center">
<TD align="center"><p>ORF</TD>

<TD align="center"><p>Observ.
result/record response
</TD>

<TD align="center"><p>7</TD>
</TR><TR align="center">
<TD align="center"><p>ORM</TD>

<TD align="center"><p>Order
message
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>ORR</TD>

<TD align="center"><p>Order
acknowledgment message
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>ORU</TD>

<TD align="center"><p>Observ
result/unsolicited
</TD>

<TD align="center"><p>7</TD>
</TR><TR align="center">
<TD align="center"><p>OSQ</TD>

<TD align="center"><p>Order
status query
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>OSR</TD>

<TD align="center"><p>Order
status response
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>PEX</TD>

<TD align="center"><p>Product
experience
</TD>

<TD align="center"><p>7</TD>
</TR><TR align="center">
<TD align="center"><p>PGL</TD>

<TD align="center"><p>Patient
goal
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>PIN</TD>

<TD align="center"><p>Patient
insurance information
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>PPG</TD>

<TD align="center"><p>Patient
pathway (goal-oriented) message
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>PPP</TD>

<TD align="center"><p>Patient
pathway (problem-oriented) message
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>PPR</TD>

<TD align="center"><p>Patient
problem
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>PPT</TD>

<TD align="center"><p>Patient
pathway (goal oriented) response
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>PPV</TD>

<TD align="center"><p>Patient
goal response
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>PRR</TD>

<TD align="center"><p>Patient
problem response
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>PTR</TD>

<TD align="center"><p>Patient
pathway (problem-oriented) response
</TD>

<TD align="center"><p>12</TD>
</TR><TR align="center">
<TD align="center"><p>QCK</TD>

<TD align="center"><p>Query
general acknowledgment
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>QRY</TD>

<TD align="center"><p>Query,
original Mode
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>RAR</TD>

<TD align="center"><p>Pharmacy
administration information
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RAS</TD>

<TD align="center"><p>Pharmacy
administration message
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RCI</TD>

<TD align="center"><p>Return
clinical information
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RCL</TD>

<TD align="center"><p>Return
clinical list
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RDE</TD>

<TD align="center"><p>Pharmacy
encoded order message
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RDR</TD>

<TD align="center"><p>Pharmacy
dispense information
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RDS</TD>

<TD align="center"><p>Pharmacy
dispense message
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>REF</TD>

<TD align="center"><p>Patient
referral
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RER</TD>

<TD align="center"><p>Pharmacy
encoded order information
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RGV</TD>

<TD align="center"><p>Pharmacy
give message
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RGR</TD>

<TD align="center"><p>Pharmacy
dose information
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>ROR</TD>

<TD align="center"><p>Pharmacy
prescription order response
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RPA</TD>

<TD align="center"><p>Return
patient authorization
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RPI</TD>

<TD align="center"><p>Return
patient information
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RPL</TD>

<TD align="center"><p>Return
patient display list
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RPR</TD>

<TD align="center"><p>Return
patient list
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RQA</TD>

<TD align="center"><p>Request
patient authorization
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RQC</TD>

<TD align="center"><p>Request
clinical information
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RQI</TD>

<TD align="center"><p>Request
patient information
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RQP</TD>

<TD align="center"><p>Request
patient demographics
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>RQQ</TD>

<TD align="center"><p>Event
replay query
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>RRA</TD>

<TD align="center"><p>Pharmacy
administration acknowledgment
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RRD</TD>

<TD align="center"><p>Pharmacy
dispense acknowledgment
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RRE</TD>

<TD align="center"><p>Pharmacy
encoded order acknowledgment
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RRG</TD>

<TD align="center"><p>Pharmacy
give acknowledgment
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>RRI</TD>

<TD align="center"><p>Return
patient referral
</TD>

<TD align="center"><p>11</TD>
</TR><TR align="center">
<TD align="center"><p>SIU</TD>

<TD align="center"><p>Schedule
information unsolicited
</TD>

<TD align="center"><p>10</TD>
</TR><TR align="center">
<TD align="center"><p>SPQ</TD>

<TD align="center"><p>Stored
procedure request
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>SQM</TD>

<TD align="center"><p>Schedule
query
</TD>

<TD align="center"><p>10</TD>
</TR><TR align="center">
<TD align="center"><p>SQR</TD>

<TD align="center"><p>Schedule
query response
</TD>

<TD align="center"><p>10</TD>
</TR><TR align="center">
<TD align="center"><p>SRM</TD>

<TD align="center"><p>Schedule
request
</TD>

<TD align="center"><p>10</TD>
</TR><TR align="center">
<TD align="center"><p>SRR</TD>

<TD align="center"><p>Scheduled
request response
</TD>

<TD align="center"><p>10</TD>
</TR><TR align="center">
<TD align="center"><p>SUR</TD>

<TD align="center"><p>Summary
product experience report
</TD>

<TD align="center"><p>7</TD>
</TR><TR align="center">
<TD align="center"><p>TBR</TD>

<TD align="center"><p>Tabular
data response
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>UDM</TD>

<TD align="center"><p>Unsolicited
display message
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>VQQ</TD>

<TD align="center"><p>Virtual
table query
</TD>

<TD align="center"><p>2</TD>
</TR><TR align="center">
<TD align="center"><p>VXQ</TD>

<TD align="center"><p>Query
for vaccination record
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>VXX</TD>

<TD align="center"><p>Vaccination
query response with multiple PID matches
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>VXR</TD>

<TD align="center"><p>Vaccination
query record response
</TD>

<TD align="center"><p>4</TD>
</TR><TR align="center">
<TD align="center"><p>VXU</TD>

<TD align="center"><p>Unsolicited
vaccination record update
</TD>

<TD align="center"><p>4</TD>
</TR></TABLE>

<center>Table 0003 - Event type
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>Value</p>
<BR></TH>
<TH align="center"><p>Description</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>A01</TD>

<TD align="center"><p>ADT/ACK
- Admit / visit notification
</TD>
</TR><TR align="center">
<TD align="center"><p>A02</TD>

<TD align="center"><p>ADT/ACK
-  Transfer a patient
</TD>
</TR><TR align="center">
<TD align="center"><p>A03</TD>

<TD align="center"><p>ADT/ACK
-  Discharge/end visit
</TD>
</TR><TR align="center">
<TD align="center"><p>A04</TD>

<TD align="center"><p>ADT/ACK
-  Register a patient
</TD>
</TR><TR align="center">
<TD align="center"><p>A05</TD>

<TD align="center"><p>ADT/ACK
-  Pre-admit a patient
</TD>
</TR><TR align="center">
<TD align="center"><p>A06</TD>

<TD align="center"><p>ADT/ACK
-  Change an outpatient to an inpatient
</TD>
</TR><TR align="center">
<TD align="center"><p>A07</TD>

<TD align="center"><p>ADT/ACK
-  Change an inpatient to an outpatient
</TD>
</TR><TR align="center">
<TD align="center"><p>A08</TD>

<TD align="center"><p>ADT/ACK
-  Update patient information
</TD>
</TR><TR align="center">
<TD align="center"><p>A09</TD>

<TD align="center"><p>ADT/ACK
-  Patient departing - tracking
</TD>
</TR><TR align="center">
<TD align="center"><p>A10</TD>

<TD align="center"><p>ADT/ACK
-  Patient arriving - tracking
</TD>
</TR><TR align="center">
<TD align="center"><p>A11</TD>

<TD align="center"><p>ADT/ACK
-  Cancel admit/visit notification
</TD>
</TR><TR align="center">
<TD align="center"><p>A12</TD>

<TD align="center"><p>ADT/ACK
-  Cancel transfer
</TD>
</TR><TR align="center">
<TD align="center"><p>A13</TD>

<TD align="center"><p>ADT/ACK
-  Cancel discharge/end visit
</TD>
</TR><TR align="center">
<TD align="center"><p>A14</TD>

<TD align="center"><p>ADT/ACK
-  Pending admit
</TD>
</TR><TR align="center">
<TD align="center"><p>A15</TD>

<TD align="center"><p>ADT/ACK
-  Pending transfer
</TD>
</TR><TR align="center">
<TD align="center"><p>A16</TD>

<TD align="center"><p>ADT/ACK
-  Pending discharge
</TD>
</TR><TR align="center">
<TD align="center"><p>A17</TD>

<TD align="center"><p>ADT/ACK
-  Swap patients
</TD>
</TR><TR align="center">
<TD align="center"><p>A18</TD>

<TD align="center"><p>ADT/ACK
-  Merge patient information
</TD>
</TR><TR align="center">
<TD align="center"><p>A19</TD>

<TD align="center"><p>QRY/ADR
-  Patient query
</TD>
</TR><TR align="center">
<TD align="center"><p>A20</TD>

<TD align="center"><p>ADT/ACK
-  Bed status update
</TD>
</TR><TR align="center">
<TD align="center"><p>A21</TD>

<TD align="center"><p>ADT/ACK
-  Patient goes on a "leave of absence"
</TD>
</TR><TR align="center">
<TD align="center"><p>A22</TD>

<TD align="center"><p>ADT/ACK
-  Patient returns from a "leave of absence"
</TD>
</TR><TR align="center">
<TD align="center"><p>A23</TD>

<TD align="center"><p>ADT/ACK
-  Delete a patient record
</TD>
</TR><TR align="center">
<TD align="center"><p>A24</TD>

<TD align="center"><p>ADT/ACK
-  Link patient information
</TD>
</TR><TR align="center">
<TD align="center"><p>A25</TD>

<TD align="center"><p>ADT/ACK
-  Cancel pending discharge
</TD>
</TR><TR align="center">
<TD align="center"><p>A26</TD>

<TD align="center"><p>ADT/ACK
-  Cancel pending transfer
</TD>
</TR><TR align="center">
<TD align="center"><p>A27</TD>

<TD align="center"><p>ADT/ACK
-  Cancel pending admit
</TD>
</TR><TR align="center">
<TD align="center"><p>A28</TD>

<TD align="center"><p>ADT/ACK
-  Add person information
</TD>
</TR><TR align="center">
<TD align="center"><p>A29</TD>

<TD align="center"><p>ADT/ACK
-  Delete person information
</TD>
</TR><TR align="center">
<TD align="center"><p>A30</TD>

<TD align="center"><p>ADT/ACK
-  Merge person information
</TD>
</TR><TR align="center">
<TD align="center"><p>A31</TD>

<TD align="center"><p>ADT/ACK
-  Update person information
</TD>
</TR><TR align="center">
<TD align="center"><p>A32</TD>

<TD align="center"><p>ADT/ACK
-  Cancel patient arriving - tracking
</TD>
</TR><TR align="center">
<TD align="center"><p>A33</TD>

<TD align="center"><p>ADT/ACK
-  Cancel patient departing - tracking
</TD>
</TR><TR align="center">
<TD align="center"><p>A34</TD>

<TD align="center"><p>ADT/ACK
-  Merge patient information - patient ID only
</TD>
</TR><TR align="center">
<TD align="center"><p>A35</TD>

<TD align="center"><p>ADT/ACK
-  Merge patient information - account number only
</TD>
</TR><TR align="center">
<TD align="center"><p>A36</TD>

<TD align="center"><p>ADT/ACK
-  Merge patient information - patient ID and account number
</TD>
</TR><TR align="center">
<TD align="center"><p>A37</TD>

<TD align="center"><p>ADT/ACK
-  Unlink patient information
</TD>
</TR><TR align="center">
<TD align="center"><p>A38</TD>

<TD align="center"><p>ADT/ACK
- Cancel pre-admit
</TD>
</TR><TR align="center">
<TD align="center"><p>A39</TD>

<TD align="center"><p>ADT/ACK
- Merge person - external ID
</TD>
</TR><TR align="center">
<TD align="center"><p>A40</TD>

<TD align="center"><p>ADT/ACK
- Merge patient - internal ID
</TD>
</TR><TR align="center">
<TD align="center"><p>A41</TD>

<TD align="center"><p>ADT/ACK
- Merge account - patient account number
</TD>
</TR><TR align="center">
<TD align="center"><p>A42</TD>

<TD align="center"><p>ADT/ACK
- Merge visit - visit number
</TD>
</TR><TR align="center">
<TD align="center"><p>A43</TD>

<TD align="center"><p>ADT/ACK
- Move patient information - internal ID
</TD>
</TR><TR align="center">
<TD align="center"><p>A44</TD>

<TD align="center"><p>ADT/ACK
- Move account information - patient account number
</TD>
</TR><TR align="center">
<TD align="center"><p>A45</TD>

<TD align="center"><p>ADT/ACK
- Move visit information - visit number
</TD>
</TR><TR align="center">
<TD align="center"><p>A46</TD>

<TD align="center"><p>ADT/ACK
- Change external ID
</TD>
</TR><TR align="center">
<TD align="center"><p>A47</TD>

<TD align="center"><p>ADT/ACK
- Change internal ID
</TD>
</TR><TR align="center">
<TD align="center"><p>A48</TD>

<TD align="center"><p>ADT/ACK
- Change alternate patient ID
</TD>
</TR><TR align="center">
<TD align="center"><p>A49</TD>

<TD align="center"><p>ADT/ACK
- Change patient account number
</TD>
</TR><TR align="center">
<TD align="center"><p>A50</TD>

<TD align="center"><p>ADT/ACK
- Change visit number
</TD>
</TR><TR align="center">
<TD align="center"><p>A51</TD>

<TD align="center"><p>ADT/ACK
- Change alternate visit ID
</TD>
</TR><TR align="center">
<TD align="center"><p>C01</TD>

<TD align="center"><p>CRM
- Register a patient on a clinical trial
</TD>
</TR><TR align="center">
<TD align="center"><p>C02</TD>

<TD align="center"><p>CRM
- Cancel a patient registration on clinical trial (for clerical mistakes only)
</TD>
</TR><TR align="center">
<TD align="center"><p>C03</TD>

<TD align="center"><p>CRM
- Correct/update registration information
</TD>
</TR><TR align="center">
<TD align="center"><p>C04</TD>

<TD align="center"><p>CRM
- Patient has gone off a clinical trial
</TD>
</TR><TR align="center">
<TD align="center"><p>C05</TD>

<TD align="center"><p>CRM
- Patient enters phase of clinical trial
</TD>
</TR><TR align="center">
<TD align="center"><p>C06</TD>

<TD align="center"><p>CRM
- Cancel patient entering a phase (clerical mistake)
</TD>
</TR><TR align="center">
<TD align="center"><p>C07</TD>

<TD align="center"><p>CRM
- Correct/update phase information
</TD>
</TR><TR align="center">
<TD align="center"><p>C08</TD>

<TD align="center"><p>CRM
- Patient has gone off phase of clinical trial
</TD>
</TR><TR align="center">
<TD align="center"><p>C09</TD>

<TD align="center"><p>CSU
- Automated time intervals for reporting, like monthly
</TD>
</TR><TR align="center">
<TD align="center"><p>C10</TD>

<TD align="center"><p>CSU
- Patient completes the clinical trial
</TD>
</TR><TR align="center">
<TD align="center"><p>C11</TD>

<TD align="center"><p>CSU
- Patient completes a phase of the clinical trial
</TD>
</TR><TR align="center">
<TD align="center"><p>C12</TD>

<TD align="center"><p>CSU
- Update/correction of patient order/result information
</TD>
</TR><TR align="center">
<TD align="center"><p>CNQ</TD>

<TD align="center"><p>QRY/EQQ/SPQ/VQQ/RQQ
- Cancel query
</TD>
</TR><TR align="center">
<TD align="center"><p>I01</TD>

<TD align="center"><p>RQI/RPI
- Request for insurance information
</TD>
</TR><TR align="center">
<TD align="center"><p>I02</TD>

<TD align="center"><p>RQI/RPL
- Request/receipt of patient selection display list
</TD>
</TR><TR align="center">
<TD align="center"><p>I03</TD>

<TD align="center"><p>RQI/RPR
- Request/receipt of patient selection list
</TD>
</TR><TR align="center">
<TD align="center"><p>I04</TD>

<TD align="center"><p>RQD/RPI
- Request for patient demographic data
</TD>
</TR><TR align="center">
<TD align="center"><p>I05</TD>

<TD align="center"><p>RQC/RCI
- Request for patient clinical information
</TD>
</TR><TR align="center">
<TD align="center"><p>I06</TD>

<TD align="center"><p>RQC/RCL
- Request/receipt of clinical data listing
</TD>
</TR><TR align="center">
<TD align="center"><p>I07</TD>

<TD align="center"><p>PIN/ACK
- Unsolicited insurance information
</TD>
</TR><TR align="center">
<TD align="center"><p>I08</TD>

<TD align="center"><p>RQA/RPA
- Request for treatment authorization information
</TD>
</TR><TR align="center">
<TD align="center"><p>I09</TD>

<TD align="center"><p>RQA/RPA
- Request for modification to an authorization
</TD>
</TR><TR align="center">
<TD align="center"><p>I10</TD>

<TD align="center"><p>RQA/RPA
- Request for resubmission of an authorization
</TD>
</TR><TR align="center">
<TD align="center"><p>I11</TD>

<TD align="center"><p>RQA/RPA
- Request for cancellation of an authorization
</TD>
</TR><TR align="center">
<TD align="center"><p>I12</TD>

<TD align="center"><p>REF/RRI
-  Patient referral
</TD>
</TR><TR align="center">
<TD align="center"><p>I13</TD>

<TD align="center"><p>REF/RRI
- Modify patient referral
</TD>
</TR><TR align="center">
<TD align="center"><p>I14</TD>

<TD align="center"><p>REF/RRI
- Cancel patient referral
</TD>
</TR><TR align="center">
<TD align="center"><p>I15</TD>

<TD align="center"><p>REF/RRI
- Request patient referral status
</TD>
</TR><TR align="center">
<TD align="center"><p>M01</TD>

<TD align="center"><p>MFN/MFK
- Master file not otherwise specified (<b>for backward compatibility only</b>)
</TD>
</TR><TR align="center">
<TD align="center"><p>M02</TD>

<TD align="center"><p>MFN/MFK
- Master file - Staff Practitioner
</TD>
</TR><TR align="center">
<TD align="center"><p>M03</TD>

<TD align="center"><p>MFN/MFK
- Master file - Test/Observation (<b>for backward compatibility only</b>)
</TD>
</TR><TR align="center">
<TD align="center"><p>varies</TD>

<TD align="center"><p>MFQ/MFR
- Master files query (use event same as asking for e.g., M05 - location)
</TD>
</TR><TR align="center">
<TD align="center"><p>M04</TD>

<TD align="center"><p>MFN/MFK
- Master files charge description
</TD>
</TR><TR align="center">
<TD align="center"><p>M05</TD>

<TD align="center"><p>MFN/MFK
- Patient location master file
</TD>
</TR><TR align="center">
<TD align="center"><p>M06</TD>

<TD align="center"><p>MFN/MFK
- Clinical study with phases and schedules master file
</TD>
</TR><TR align="center">
<TD align="center"><p>M07</TD>

<TD align="center"><p>MFN/MFK
- Clinical study without phases but with schedules master file
</TD>
</TR><TR align="center">
<TD align="center"><p>M08</TD>

<TD align="center"><p>MFN/MFK
- Test/observation (Numeric) master file
</TD>
</TR><TR align="center">
<TD align="center"><p>M09</TD>

<TD align="center"><p>MFN/MFK
- Test/Observation (Categorical) master file
</TD>
</TR><TR align="center">
<TD align="center"><p>M10</TD>

<TD align="center"><p>MFN/MFK
- Test /observation batteries master file
</TD>
</TR><TR align="center">
<TD align="center"><p>M11</TD>

<TD align="center"><p>MFN/MFK
- Test/calculated observations master file
</TD>
</TR><TR align="center">
<TD align="center"><p>O01</TD>

<TD align="center"><p>ORM
- Order message (also RDE, RDS, RGV, RAS) 
</TD>
</TR><TR align="center">
<TD align="center"><p>O02</TD>

<TD align="center"><p>ORR
- Order response (also RRE, RRD, RRG, RRA) 
</p>
<BR></TD></TR><TR align="center">
<TD align="center"><p>P01</TD>

<TD align="center"><p>BAR/ACK
- Add patient accounts
</TD>
</TR><TR align="center">
<TD align="center"><p>P02</TD>

<TD align="center"><p>BAR/ACK
- Purge patient accounts
</TD>
</TR><TR align="center">
<TD align="center"><p>P03</TD>

<TD align="center"><p>DFT/ACK
- Post detail financial transaction
</TD>
</TR><TR align="center">
<TD align="center"><p>P04</TD>

<TD align="center"><p>QRY/DSP
- Generate bill and A/R statements
</TD>
</TR><TR align="center">
<TD align="center"><p>P05</TD>

<TD align="center"><p>BAR/ACK
- Update account
</TD>
</TR><TR align="center">
<TD align="center"><p>P06</TD>

<TD align="center"><p>BAR/ACK
- End account
</TD>
</TR><TR align="center">
<TD align="center"><p>P07</TD>

<TD align="center"><p>PEX
- Unsolicited initial individual product experience report
</TD>
</TR><TR align="center">
<TD align="center"><p>P08</TD>

<TD align="center"><p>PEX
- Unsolicited update individual product experience report
</TD>
</TR><TR align="center">
<TD align="center"><p>P09</TD>

<TD align="center"><p>SUR
- Summary product experience report
</TD>
</TR><TR align="center">
<TD align="center"><p>PC1</TD>

<TD align="center"><p>PPR
- PC/ Problem Add
</TD>
</TR><TR align="center">
<TD align="center"><p>PC2</TD>

<TD align="center"><p>PPR
- PC/ Problem Update
</TD>
</TR><TR align="center">
<TD align="center"><p>PC3</TD>

<TD align="center"><p>PPR
- PC/ Problem Delete 
</TD>
</TR><TR align="center">
<TD align="center"><p>PC4</TD>

<TD align="center"><p>PRQ
- PC/ Problem Query
</TD>
</TR><TR align="center">
<TD align="center"><p>PC5</TD>

<TD align="center"><p>PRR
- PC/ Problem Response
</TD>
</TR><TR align="center">
<TD align="center"><p>PC6</TD>

<TD align="center"><p>PGL
- PC/ Goal Add
</TD>
</TR><TR align="center">
<TD align="center"><p>PC7</TD>

<TD align="center"><p>PGL
- PC/ Goal Update
</p>
<BR></TD></TR><TR align="center">
<TD align="center"><p>PC8</TD>

<TD align="center"><p>PGL
- PC/ Goal Delete
</TD>
</TR><TR align="center">
<TD align="center"><p>PC9</TD>

<TD align="center"><p>PGQ
- PC/ Goal Query
</TD>
</TR><TR align="center">
<TD align="center"><p>PCA</TD>

<TD align="center"><p>PGR
- PC/ Goal Response
</TD>
</TR><TR align="center">
<TD align="center"><p>PCB</TD>

<TD align="center"><p>PPP
- PC/ Pathway (Problem-Oriented) Add
</TD>
</TR><TR align="center">
<TD align="center"><p>PCC</TD>

<TD align="center"><p>PPP
- PC/ Pathway (Problem-Oriented) Update
</TD>
</TR><TR align="center">
<TD align="center"><p>PCD</TD>

<TD align="center"><p>PPP
- PC/ Pathway (Problem-Oriented) Delete
</TD>
</TR><TR align="center">
<TD align="center"><p>PCE</TD>

<TD align="center"><p>PTQ
- PC/ Pathway (Problem-Oriented) Query
</TD>
</TR><TR align="center">
<TD align="center"><p>PCF</TD>

<TD align="center"><p>PTR
- PC/ Pathway (Problem-Oriented) Query Response
</TD>
</TR><TR align="center">
<TD align="center"><p>PCG</TD>

<TD align="center"><p>PPG
- PC/ Pathway (Goal-Oriented) Add
</TD>
</TR><TR align="center">
<TD align="center"><p>PCH</TD>

<TD align="center"><p>PPG
- PC/ Pathway (Goal-Oriented) Update 
</TD>
</TR><TR align="center">
<TD align="center"><p>PCJ</TD>

<TD align="center"><p>PPG
- PC/ Pathway (Goal-Oriented) Delete
</TD>
</TR><TR align="center">
<TD align="center"><p>PCK</TD>

<TD align="center"><p>PTU
- PC/ Pathway (Goal-Oriented) Query
</TD>
</TR><TR align="center">
<TD align="center"><p>PCL</TD>

<TD align="center"><p>PTV
- PC/ Pathway (Goal-Oriented) Query Response
</TD>
</TR><TR align="center">
<TD align="center"><p>Q01</TD>

<TD align="center"><p>QRY/DSR
- Query sent for immediate response
</TD>
</TR><TR align="center">
<TD align="center"><p>Q02</TD>

<TD align="center"><p>QRY/QCK
- Query sent for deferred response
</TD>
</TR><TR align="center">
<TD align="center"><p>Q03</TD>

<TD align="center"><p>DSR/ACK
- Deferred response to a query
</TD>
</TR><TR align="center">
<TD align="center"><p>QO4</TD>

<TD align="center"><p>EQQ
- Embedded query language query
</TD>
</TR><TR align="center">
<TD align="center"><p>Q05</TD>

<TD align="center"><p>UDM/ACK
- Unsolicited display update message
</TD>
</TR><TR align="center">
<TD align="center"><p>Q06</TD>

<TD align="center"><p>OSQ/OSR
- Query for order status
</TD>
</TR><TR align="center">
<TD align="center"><p>Q07</TD>

<TD align="center"><p>VQQ
- Virtual table query
</TD>
</TR><TR align="center">
<TD align="center"><p>Q08</TD>

<TD align="center"><p>SPQ
- Stored procedure request
</TD>
</TR><TR align="center">
<TD align="center"><p>Q09</TD>

<TD align="center"><p>RQQ
- event replay query
</TD>
</TR><TR align="center">
<TD align="center"><p>R01</TD>

<TD align="center"><p>ORU/ACK
- Unsolicited transmission of an observation message
</TD>
</TR><TR align="center">
<TD align="center"><p>R02</TD>

<TD align="center"><p>QRY
- Query for results of observation
</TD>
</TR><TR align="center">
<TD align="center"><p>R03</TD>

<TD align="center"><p>QRY/DSR
Display-oriented results, query/unsol. update <b>(for backward compatibility
only)
</b></TD>
</TR><TR align="center">
<TD align="center"><p>R04</TD>

<TD align="center"><p>ORF
- Response to query; transmission of requested observation
</TD>
</TR><TR align="center">
<TD align="center"><p>R05</TD>

<TD align="center"><p>QRY/DSR
- query for display results
</TD>
</TR><TR align="center">
<TD align="center"><p>R06</TD>

<TD align="center"><p>UDM
- unsolicited update/display results
</TD>
</TR><TR align="center">
<TD align="center"><p>RAR</TD>

<TD align="center"><p>RAR
- Pharmacy administration information query response
</TD>
</TR><TR align="center">
<TD align="center"><p>RDR</TD>

<TD align="center"><p>RDR
- Pharmacy dispense information query response
</TD>
</TR><TR align="center">
<TD align="center"><p>RER</TD>

<TD align="center"><p>RER
- Pharmacy encoded order information query response
</TD>
</TR><TR align="center">
<TD align="center"><p>RGR</TD>

<TD align="center"><p>RGR
- Pharmacy dose information query response
</TD>
</TR><TR align="center">
<TD align="center"><p>R0R</TD>

<TD align="center"><p>R0R
- Pharmacy prescription order query response
</TD>
</TR><TR align="center">
<TD align="center"><p>S01</TD>

<TD align="center"><p>SRM/SRR
- Request new appointment booking
</TD>
</TR><TR align="center">
<TD align="center"><p>S02</TD>

<TD align="center"><p>SRM/SRR
- Request appointment rescheduling
</TD>
</TR><TR align="center">
<TD align="center"><p>S03</TD>

<TD align="center"><p>SRM/SRR
- Request appointment modification
</TD>
</TR><TR align="center">
<TD align="center"><p>S04</TD>

<TD align="center"><p>SRM/SRR
- Request appointment cancellation
</TD>
</TR><TR align="center">
<TD align="center"><p>S05</TD>

<TD align="center"><p>SRM/SRR
- Request appointment discontinuation
</TD>
</TR><TR align="center">
<TD align="center"><p>S06</TD>

<TD align="center"><p>SRM/SRR
- Request appointment deletion
</TD>
</TR><TR align="center">
<TD align="center"><p>S07</TD>

<TD align="center"><p>SRM/SRR
- Request addition of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S08</TD>

<TD align="center"><p>SRM/SRR
- Request modification of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S09</TD>

<TD align="center"><p>SRM/SRR
- Request cancellation of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S10</TD>

<TD align="center"><p>SRM/SRR
- Request discontinuation of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S11</TD>

<TD align="center"><p>SRM/SRR
- Request deletion of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S12</TD>

<TD align="center"><p>SIU/ACK
- Notification of new appointment booking
</TD>
</TR><TR align="center">
<TD align="center"><p>S13</TD>

<TD align="center"><p>SIU/ACK
- Notification of appointment rescheduling
</TD>
</TR><TR align="center">
<TD align="center"><p>S14</TD>

<TD align="center"><p>SIU/ACK
- Notification of appointment modification
</TD>
</TR><TR align="center">
<TD align="center"><p>S15</TD>

<TD align="center"><p>SIU/ACK
- Notification of appointment cancellation
</TD>
</TR><TR align="center">
<TD align="center"><p>S16</TD>

<TD align="center"><p>SIU/ACK
- Notification of appointment discontinuation
</TD>
</TR><TR align="center">
<TD align="center"><p>S17</TD>

<TD align="center"><p>SIU/ACK
- Notification of appointment deletion
</TD>
</TR><TR align="center">
<TD align="center"><p>S18</TD>

<TD align="center"><p>SIU/ACK
- Notification of addition of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S19</TD>

<TD align="center"><p>SIU/ACK
- Notification of modification of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S20</TD>

<TD align="center"><p>SIU/ACK
- Notification of cancellation of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S21</TD>

<TD align="center"><p>SIU/ACK
- Notification of discontinuation of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S22</TD>

<TD align="center"><p>SIU/ACK
- Notification of deletion of service/resource on appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>S23</TD>

<TD align="center"><p>SIU/ACK
- Notification of blocked schedule time slot(s)
</TD>
</TR><TR align="center">
<TD align="center"><p>S24</TD>

<TD align="center"><p>SIU/ACK
- Notification of opened ("unblocked") schedule time slot(s)
</TD>
</TR><TR align="center">
<TD align="center"><p>S25</TD>

<TD align="center"><p>SQM/SQR
- Schedule query message and response
</TD>
</TR><TR align="center">
<TD align="center"><p>S26</TD>

<TD align="center"><p>Notification
that patient did not show up for schedule appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>T01</TD>

<TD align="center"><p>MDM/ACK
- Original document notification
</TD>
</TR><TR align="center">
<TD align="center"><p>T02</TD>

<TD align="center"><p>MDM/ACK
- Original document notification and content
</TD>
</TR><TR align="center">
<TD align="center"><p>T03</TD>

<TD align="center"><p>MDM/ACK
- Document status change notification
</TD>
</TR><TR align="center">
<TD align="center"><p>T04</TD>

<TD align="center"><p>MDM/ACK
- Document status change notification and content
</TD>
</TR><TR align="center">
<TD align="center"><p>T05</TD>

<TD align="center"><p>MDM/ACK
- Document addendum notification
</TD>
</TR><TR align="center">
<TD align="center"><p>T06</TD>

<TD align="center"><p>MDM/ACK
- Document addendum notification and content
</TD>
</TR><TR align="center">
<TD align="center"><p>T07</TD>

<TD align="center"><p>MDM/ACK
- Document edit notification
</TD>
</TR><TR align="center">
<TD align="center"><p>T08</TD>

<TD align="center"><p>MDM/ACK
- Document edit notification and content
</TD>
</TR><TR align="center">
<TD align="center"><p>T09</TD>

<TD align="center"><p>MDM/ACK
- Document replacement notification
</TD>
</TR><TR align="center">
<TD align="center"><p>T10</TD>

<TD align="center"><p>MDM/ACK
- Document replacement notification and content
</TD>
</TR><TR align="center">
<TD align="center"><p>T11</TD>

<TD align="center"><p>MDM/ACK
- Document cancel notification
</TD>
</TR><TR align="center">
<TD align="center"><p>T12</TD>

<TD align="center"><p>QRY/DOC
- Document query
</TD>
</TR><TR align="center">
<TD align="center"><p>V01</TD>

<TD align="center"><p>VXQ
- Query for vaccination record
</TD>
</TR><TR align="center">
<TD align="center"><p>V02</TD>

<TD align="center"><p>VXX
- Response to vaccination query returning multiple PID matches
</TD>
</TR><TR align="center">
<TD align="center"><p>V03</TD>

<TD align="center"><p>VXR
- Vaccination record response
</TD>
</TR><TR align="center">
<TD align="center"><p>V04
</TD>

<TD align="center"><p>VXU
- Unsolicited vaccination record update
</TD>
</TR><TR align="center">
<TD align="center"><p>W01</TD>

<TD align="center"><p>ORU
- Waveform result, unsolicited transmission of requested information
</TD>
</TR><TR align="center">
<TD align="center"><p>W02</TD>

<TD align="center"><p>QRF
- Waveform result, response to query
</TD>
</TR></TABLE>
<p></p>

<center>Table 0354 - Message structure 
</center>
<TABLE BORDER><TR align="left">
<TH align="left"><p>Value</p>
<BR></TH>
<TH align="left"><p>Events</p>
<BR></TH></TR><TR align="left">
<TD align="left"><p>ADT_A01</TD>

<TD align="left"><p>A01,
A04, A05, A08, A13, A14, A28, A31
</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A02</TD>

<TD align="left"><p>A02,
A21, A22, A23, A25, A26, A27, A29, A32, A33
</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A03</TD>

<TD align="left"><p>A03</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A06</TD>

<TD align="left"><p>A06,
A07
</p>
<BR></TD></TR><TR align="left">
<TD align="left"><p>ADT_A09</TD>

<TD align="left"><p>A09,
A10, A11, A15
</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A12</TD>

<TD align="left"><p>A12</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A16</TD>

<TD align="left"><p>A16</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A17</TD>

<TD align="left"><p>A17</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A18</TD>

<TD align="left"><p>A18</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A20</TD>

<TD align="left"><p>A20</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A24</TD>

<TD align="left"><p>A24</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A30</TD>

<TD align="left"><p>A30,
A34, A35, 136, A46, A47, A48, A49
</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A37</TD>

<TD align="left"><p>A37</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A38</TD>

<TD align="left"><p>A38</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A39</TD>

<TD align="left"><p>A39, A40, A41, A42
</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A43</TD>

<TD align="left"><p>A43, A44
</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A45</TD>

<TD align="left"><p>A45</TD>
</TR><TR align="left">
<TD align="left"><p>ADT_A50</TD>

<TD align="left"><p>A50,
A51
</TD>
</TR><TR align="left">
<TD align="left"><p>ARD_A19</TD>

<TD align="left"><p>A19</TD>
</TR><TR align="left">
<TD align="left"><p>BAR_P01</TD>

<TD align="left"><p>P01,
P05
</TD>
</TR>
<TR align="left">
<TD align="left"><p>BAR_P02</TD>

<TD align="left"><p>P02</TD>
</TR><TR align="left">
<TD align="left"><p>BAR_P06</TD>

<TD align="left"><p>P06</TD>
</TR><TR align="left">
<TD align="left"><p>CRM_C01</TD>

<TD align="left"><p>C01,
C02, C03, C04, C05, C06, C07, C08
</TD>
</TR><TR align="left">
<TD align="left"><p>CSU_C09</TD>

<TD align="left"><p>C09,
C10, C11, C12
</TD>
</TR><TR align="left">
<TD align="left"><p>DFT_P03</TD>

<TD align="left"><p>P03</TD>
</TR><TR align="left">
<TD align="left"><p>DOC_T12</TD>

<TD align="left"><p>T12</TD>
</TR><TR align="left">
<TD align="left"><p>DSR_Q01</TD>

<TD align="left"><p>Q01</TD>
</TR><TR align="left">
<TD align="left"><p>DSR_Q03</TD>

<TD align="left"><p>Q03</TD>
</TR><TR align="left">
<TD align="left"><p>EDR_Q01</TD>

<TD align="left"><p>Q01</TD>
</TR><TR align="left">
<TD align="left"><p>EQQ_Q04</TD>

<TD align="left"><p>Q04</TD>
</TR><TR align="left">
<TD align="left"><p>ERP_Q01</TD>

<TD align="left"><p>Q01</TD>
</TR><TR align="left">
<TD align="left"><p>MDM_T01</TD>

<TD align="left"><p>T01,
T03, T05, T07, T09, T11
</TD>
</TR><TR align="left">
<TD align="left"><p>MDM_T02</TD>

<TD align="left"><p>T02,
T04, T06, T08, T10
</TD>
</TR><TR align="left">
<TD align="left"><p>MFD_P09</TD>

<TD align="left"><p>P09</TD>
</TR><TR align="left">
<TD align="left"><p>MFK_M01</TD>

<TD align="left"><p>M01,
M03, M05, M06, M07, M08, M09, M10, M11
</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M01</TD>

<TD align="left"><p>M01</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M02</TD>

<TD align="left"><p>M02</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M03</TD>

<TD align="left"><p>M03</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M05</p>
<BR></TD>
<TD align="left"><p>M05</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M06</TD>

<TD align="left"><p>M06</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M07</TD>

<TD align="left"><p>M07</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M08</TD>

<TD align="left"><p>M08</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M09</TD>

<TD align="left"><p>M09</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M10</TD>

<TD align="left"><p>M10</TD>
</TR><TR align="left">
<TD align="left"><p>MFN_M11</TD>

<TD align="left"><p>M11</TD>
</TR><TR align="left">
<TD align="left"><p>NUL</TD>

<TD align="left"><p>Null</TD>
</TR><TR align="left">
<TD align="left"><p>ORF_R02</TD>

<TD align="left"><p>R02,
R04
</TD>
</TR><TR align="left">
<TD align="left"><p>ORM__O01</TD>

<TD align="left"><p>O01</TD>
</TR><TR align="left">
<TD align="left"><p>ORM_Q06</TD>

<TD align="left"><p>Q06</TD>
</TR><TR align="left">
<TD align="left"><p>ORR_O02</TD>

<TD align="left"><p>O02</TD>
</TR><TR align="left">
<TD align="left"><p>ORR_Q06</TD>

<TD align="left"><p>Q06</TD>
</TR><TR align="left">
<TD align="left"><p>ORU_R01</TD>

<TD align="left"><p>R01</TD>
</TR><TR align="left">
<TD align="left"><p>ORU_W01</TD>

<TD align="left"><p>W01</TD>
</TR><TR align="left">
<TD align="left"><p>OSQ_Q06</TD>

<TD align="left"><p>Q06</TD>
</TR><TR align="left">
<TD align="left"><p>OSR_Q06</TD>

<TD align="left"><p>Q06</TD>
</TR><TR align="left">
<TD align="left"><p>PEX_P07</TD>

<TD align="left"><p>P07, P08
</TD>
</TR><TR align="left">
<TD align="left"><p>PGL_PC6</TD>

<TD align="left"><p>
PC6, PC7, PC8
</TD>
</TR><TR align="left">
<TD align="left"><p>PIN_107</TD>

<TD align="left"><p>I07</TD>
</TR><TR align="left">
<TD align="left"><p>PPG_PCG</TD>

<TD align="left"><p>PCC,
PCH, PCJ
</TD>
</TR><TR align="left">
<TD align="left"><p>PPP_PCB</TD>

<TD align="left"><p>PCB,
PCD
</TD>
</TR><TR align="left">
<TD align="left"><p>PPR_PC1</TD>

<TD align="left"><p>PC1,
PC2, PC3
</TD>
</TR><TR align="left">
<TD align="left"><p>PPT_PCL</TD>

<TD align="left"><p>PCL</TD>
</TR><TR align="left">
<TD align="left"><p>PPV_PCA</TD>

<TD align="left"><p>PCA</TD>
</TR><TR align="left">
<TD align="left"><p>PRR_PC5</TD>

<TD align="left"><p>PC5</TD>
</TR><TR align="left">
<TD align="left"><p>PTR_PCF</TD>

<TD align="left"><p>PCF</TD>
</TR><TR align="left">
<TD align="left"><p>QCK_Q02</TD>

<TD align="left"><p>Q02</TD>
</TR><TR align="left">
<TD align="left"><p>QRY_A19</TD>

<TD align="left"><p>A19</TD>
</TR><TR align="left">
<TD align="left"><p>QRY_PC4</TD>

<TD align="left"><p>PC4,
PC9, PCE, PCK
</TD>
</TR><TR align="left">
<TD align="left"><p>QRY_Q01</TD>

<TD align="left"><p>Q01</TD>
</TR><TR align="left">
<TD align="left"><p>QRY_Q02</TD>

<TD align="left"><p>Q02</TD>
</TR><TR align="left">
<TD align="left"><p>QRY_R02</TD>

<TD align="left"><p>R02,
R04
</TD>
</TR><TR align="left">
<TD align="left"><p>QRY_T12</TD>

<TD align="left"><p>T12</TD>
</TR><TR align="left">
<TD align="left"><p>RAR_RAR</TD>

<TD align="left"><p>RAR</TD>
</TR><TR align="left">
<TD align="left"><p>RAS_O01</TD>

<TD align="left"><p>O01</TD>
</TR><TR align="left">
<TD align="left"><p>RAS_O02</TD>

<TD align="left"><p>O022</TD>
</TR><TR align="left">
<TD align="left"><p>RCI_I05</TD>

<TD align="left"><p>I05</TD>
</TR><TR align="left">
<TD align="left"><p>RCL_I06</TD>

<TD align="left"><p>I06</TD>
</TR><TR align="left">
<TD align="left"><p>RDE_O01</TD>

<TD align="left"><p>O01</TD>
</TR><TR align="left">
<TD align="left"><p>RDR_RDR</TD>

<TD align="left"><p>RDR</TD>
</TR><TR align="left">
<TD align="left"><p>RDS_O01</TD>

<TD align="left"><p>O01</TD>
</TR><TR align="left">
<TD align="left"><p>REF_I12</TD>

<TD align="left"><p>I12,
I13, I14, I15
</TD>
</TR><TR align="left">
<TD align="left"><p>RER_RER</TD>

<TD align="left"><p>RER</TD>
</TR><TR align="left">
<TD align="left"><p>RGR_RGR</TD>

<TD align="left"><p>RGR</TD>
</TR><TR align="left">
<TD align="left"><p>RGV_O01</TD>

<TD align="left"><p>O01</TD>
</TR><TR align="left">
<TD align="left"><p>RROR_ROR</TD>

<TD align="left"><p>ROR</TD>
</TR><TR align="left">
<TD align="left"><p>RPA_I08</TD>

<TD align="left"><p>I08,
I09. I10, 1II
</TD>
</TR><TR align="left">
<TD align="left"><p>RPI_I0I</TD>

<TD align="left"><p>I01,
I04
</TD>
</TR><TR align="left">
<TD align="left"><p>RPL_I02</TD>

<TD align="left"><p>I02</TD>
</TR><TR align="left">
<TD align="left"><p>RPR_I03</TD>

<TD align="left"><p>I03</TD>
</TR><TR align="left">
<TD align="left"><p>RQA_I08</TD>

<TD align="left"><p>I08,
I09, I10, I11
</TD>
</TR><TR align="left">
<TD align="left"><p>RQC_I05</TD>

<TD align="left"><p>I05</TD>
</TR><TR align="left">
<TD align="left"><p>RQC_I06</TD>

<TD align="left"><p>I06</TD>
</TR><TR align="left">
<TD align="left"><p>RQI_I0I</TD>

<TD align="left"><p>I01,
I02, I03
</TD>
</TR><TR align="left">
<TD align="left"><p>RQP_I04</TD>

<TD align="left"><p>I04</TD>
</TR><TR align="left">
<TD align="left"><p>RQQ_Q09</TD>

<TD align="left"><p>Q09</TD>
</TR><TR align="left">
<TD align="left"><p>RRA_O02</TD>

<TD align="left"><p>O02</TD>
</TR><TR align="left">
<TD align="left"><p>RRD_O02</TD>

<TD align="left"><p>O02</TD>
</TR><TR align="left">
<TD align="left"><p>RRE_O01</TD>

<TD align="left"><p>O01</TD>
</TR><TR align="left">
<TD align="left"><p>RRG_O02</TD>

<TD align="left"><p>O02</TD>
</TR><TR align="left">
<TD align="left"><p>RRI_I12</TD>

<TD align="left"><p>I12,
I13, I14, I15
</TD>
</TR><TR align="left">
<TD align="left"><p>SIIU_S12</TD>

<TD align="left"><p>S12,
S13, S14, S15, S16, S17, S18, S19, S20, S21, S22, S23, S24, S26
</TD>
</TR><TR align="left">
<TD align="left"><p>SPQ_Q08</TD>

<TD align="left"><p>Q08</TD>
</TR><TR align="left">
<TD align="left"><p>SQM_S25</TD>

<TD align="left"><p>S25</TD>
</TR><TR align="left">
<TD align="left"><p>SQR_S25</TD>

<TD align="left"><p>A25</TD>
</TR><TR align="left">
<TD align="left"><p>SRM_01</TD>

<TD align="left"><p>S01,
S02, S03, S04, S05, S06, S07, S08, S09, S10, S11
</TD>
</TR><TR align="left">
<TD align="left"><p>SRM_T12</TD>

<TD align="left"><p>T12</TD>
</TR><TR align="left">
<TD align="left"><p>SRR_S01</TD>

<TD align="left"><p>S01,
S02, S03, S04, S05, S06, S07, S08, S09, S10, S11
</TD>
</TR><TR align="left">
<TD align="left"><p>SRR_T12</TD>

<TD align="left"><p>T12</TD>
</TR><TR align="left">
<TD align="left"><p>SUR_P09</TD>

<TD align="left"><p>P09</TD>
</TR><TR align="left">
<TD align="left"><p>TBR_QQ01</TD>

<TD align="left"><p>Q01</TD>
</TR><TR align="left">
<TD align="left"><p>UDM_Q05</TD>

<TD align="left"><p>Q05</TD>
</TR><TR align="left">
<TD align="left"><p>VQQ_Q07</TD>

<TD align="left"><p>Q07</TD>
</TR><TR align="left">
<TD align="left"><p>VXQ_V01</TD>

<TD align="left"><p>V01</TD>
</TR><TR align="left">
<TD align="left"><p>VXR_V03</TD>

<TD align="left"><p>V03</TD>
</TR><TR align="left">
<TD align="left"><p>VXU_V04</TD>

<TD align="left"><p>V04</TD>
</TR><TR align="left">
<TD align="left"><p>VXX_V02</TD>

<TD align="left"><p>V02</TD>
</TR></TABLE>
<p></p>

<h4>
<A NAME="Heading354">2.24.1.10 Message control ID  (ST)   00010</A></h4>

<p>Definition:
 This field contains a number or other identifier that uniquely identifies the
message.  The receiving system echoes this ID back to the sending system in the
Message acknowledgment segment (MSA). </p>

<h4>
<A NAME="Heading355">2.24.1.11 Processing ID  (PT)   00011</A></h4>

<p><tt>Components:
 &lt;processing ID (ID)&gt; ^ &lt;processing  mode (ID)&gt;</tt><br>
Definition:  This field is used to decide whether to process the message as
defined in HL7 Application (level 7) Processing rules, above.  The first
component defines whether the message is part of a production, training, or
debugging system (refer to <i>HL7 table 0103 - Processing ID</i> for valid
values).  The second component defines whether the message is part of an
archival process or an initial load (refer to <i>HL7 table 0207 - Processing
mode </i>for valid values).  This allows different priorities to be given to
different processing modes. 
</p>

<center>Table 0103 - Processing ID 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Debugging</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Production</TD>
</TR><TR align="center">
<TD align="center"><p>T</TD>

<TD align="center"><p>Training</TD>
</TR>
</TABLE>

<center>Table 0207 - Processing mode 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>A</TD>

<TD align="center"><p>Archive</TD>
</TR><TR align="center">
<TD align="center"><p>R</TD>

<TD align="center"><p>Restore
from archive
</TD>
</TR><TR align="center">
<TD align="center"><p>I</TD>

<TD align="center"><p>Initial
load
</TD>
</TR><TR align="center">
<TD align="center"><p>not
present
</TD>

<TD align="center"><p>Not
present (the default, meaning <i>current</i>  processing)
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading356">2.24.1.12 Version ID  (VID)   00012</A></h4>

<p><tt>Components:
 &lt;version ID (ID)&gt; ^ &lt;internationalization code (CE)&gt; ^
&lt;internal version ID (CE)&gt;</tt><br>
Definition:  This field is matched by the receiving system to its own version
to be sure the message will be interpreted correctly. In version 2.3.1, it has
two additional "internationalization" components, for use by HL7 international
affiliates. The Internationalization code is CE data type (using the ISO
country codes where appropriate) which represents the HL7 affiliate. The
"Internal version ID" is used if the HL7 Affiliate has more than a single
`local' version associated with a single US version. The "Internal version ID"
has a CE data type, since the table values vary for each HL7 Affiliate.
</p>

<center>Table 0104 - Version ID
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>

<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>2.0</TD>

<TD align="center"><p>Release
2.0
</TD>

<TD align="center"><p>September
1988
</TD>
</TR><TR align="center">
<TD align="center"><p>2.0D</TD>

<TD align="center"><p>Demo
2.0
</TD>

<TD align="center"><p>October
1988
</TD>
</TR><TR align="center">
<TD align="center"><p>2.1</TD>

<TD align="center"><p>Release
2. 1
</TD>

<TD align="center"><p>March
1990
</TD>
</TR><TR align="center">
<TD align="center"><p>2.2</TD>

<TD align="center"><p>Release
2.2
</TD>

<TD align="center"><p>December
1994
</TD>
</TR><TR align="center">
<TD align="center"><p>2.3</TD>

<TD align="center"><p>Release
2.3
</TD>

<TD align="center"><p>March
1997
</TD>
</TR><TR align="center">
<TD align="center"><p>2.3.1</TD>

<TD align="center"><p>Release
2.3.1
</TD>

<TD align="center"><BR></TD></TR></TABLE>

<h4>
<A NAME="Heading357">2.24.1.13 Sequence number  (NM)   00013</A></h4>

<p>Definition:
 A non-null value in this field implies that the sequence number protocol is in
use.  This numeric field is incremented by one for each subsequent value.  </p>

<h4>
<A NAME="Heading358">2.24.1.14 Continuation pointer  (ST)   00014</A></h4>

<p>Definition:
 This field is used to define continuations in application-specific ways.  </p>

<h4>
<A NAME="Heading359">2.24.1.15 Accept acknowledgment type  (ID)   00015</A></h4>

<p>Definition:
 This field identifies the conditions under which accept acknowledgments are
required to be returned in response to this message.  Required for enhanced
acknowledgment mode.  Refer <i>to HL7 table 0155 - Accept/application
acknowledgment conditions</i> for valid values.</p>

<h4>
<A NAME="Heading360">2.24.1.16 Application acknowledgment type  (ID)   00016</A></h4>

<p>Definition:
 This field contains the conditions under which application acknowledgments are
required to be returned in response to this message.  Required for enhanced
acknowledgment mode. <br>
The following table contains the possible values for <i>MSH-15-accept
acknowledgment type</i> and <i>MSH-16-application acknowledgment type</i>:
</p>

<center>Table 0155 - Accept/application acknowledgment conditions
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>AL</TD>

<TD align="center"><p>Always</TD>
</TR><TR align="center">
<TD align="center"><p>NE</TD>

<TD align="center"><p>Never</TD>
</TR><TR align="center">
<TD align="center"><p>ER</TD>

<TD align="center"><p>Error/reject
conditions only
</TD>
</TR><TR align="center">
<TD align="center"><p>SU</TD>

<TD align="center"><p>Successful
completion only
</TD>
</TR></TABLE>
<p><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	If <i>MSH-15-accept acknowledgment type</i> and <i>MSH-16-application
acknowledgment type</i> are omitted (or are both null), the original
acknowledgment mode rules are used.
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading361">2.24.1.17 Country code  (ID)   00017</A></h4>

<p>Definition:
 This field contains the country of origin for the message.  It will be used
primarily to specify default elements, such as currency denominations.  ISO
3166 provides a list of country codes that may be used<a name="fnB1"
href="#fn1">[3]</a>. </p>

<h4>
<A NAME="Heading362">2.24.1.18 Character set  (ID)   00692</A></h4>

<p>Definition:
 This field contains the character set for the entire message.  Refer <i>to HL7
table 0211 - Alternate character sets</i> for valid values.
</p>

<center>Table 0211 - Alternate character sets
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>ASCII</TD>

<TD align="center"><p>The
printable 7-bit ASCII character set . (This is the default if this field is
omitted)
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/1</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/1 Character set
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/2</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/2 Character set
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/3</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/3 Character set
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/4</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/4 Character set
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/5</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/5 Character set 
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/6</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/6 Character set
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/7</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/7 Character set
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/8</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/8 Character set
</TD>
</TR><TR align="center">
<TD align="center"><p>8859/9</TD>

<TD align="center"><p>The
printable characters from the ISO 8859/9 Character set
</TD>
</TR><TR align="center">
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><BR></TD>
<TD align="center"><BR></TD></TR><TR align="center">
<TD align="center"><p>ISO
IR14
</TD>

<TD align="center"><p>Code
for Information Exchange (one byte)(JIS X 0201-1976)
</TD>
</TR><TR align="center">
<TD align="center"><p>ISO
IR87
</TD>

<TD align="center"><p>Code
for the Japanese Graphic Character set for information interchange (JIS X
0208-1990)
</TD>
</TR><TR align="center">
<TD align="center"><p>ISO
IR159
</TD>

<TD align="center"><p>Code
of the supplementary Japanese Graphic Character set for information interchange
(JIS X 0212-1990)
</TD>
</TR></TABLE>
<p><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	The field separator character <u>must</u> still be chosen from the printable
7-bit ASCII character set.
</TD>
</TR></TABLE>
<blockquote>The
repetitions of this field to specify different character sets apply only to
fields of the PN and XPN data types.
The field <i>MSH-18-character set</i> is an optional, repeating field of data
type ID, using IDs outlined in <i>HL7 table 0211 - Alternate character sets</i>
(or equivalents from ISO 2375).
*	if the field is not valued, the default single-byte character set (ASCII (ISO
IR-6)) should be assumed.  No other character sets are allowed in the message.
*	if the field repeats, but the first element is NULL (i.e., present but
unvalued), the single-byte ASCII (ISO IR-6) is assumed as the default character
set.
*	if the sequence is present and the first element is specified, this character
set is regarded as the default character set for the message.  This must be a
single-byte character set (i.e., ISO-IR 6, ISO-IR 13, ISO-IR 14, ISO-IR 100,
etc.).
*	elements in the remainder of the sequence (i.e., elements 2..n) are alternate
character sets that may be used.  These may include multi-byte character sets
(i.e., JIS X 0208).
*	the default character set should always be a single-byte character set.  It
should always have ISO-IR 6 (ISO 646) or ISO-IR 14 (JIS X 0201-1976) in the G0
area.</blockquote>
<h4>
<A NAME="Heading363">2.24.1.19 Principal language of message  (CE)   00693</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains the principal language of the message.  Codes
come from ISO 639.</p>

<h4>
<A NAME="Heading364">2.24.1.20 Alternate character set handling (ID)   01317</A></h4>

<p>Definition:
When any alternative character sets are used, (as specified in the second or
later components of  MSH-18 Character Sets), and if any special handling scheme
is needed, this component is to specify the scheme used, according to <i>HL7
table 0356- Alternate character set handling scheme</i> as defined below:</p>

<center>Table 0356 - Alternate character set handling scheme
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>ISO
2022-1994
</TD>

<TD align="center"><p>This
standard is titled "Information Technology - Character Code Structure  and
Extension Technique". This standard specifies an escape sequence from basic one
byte character set to specified other character set, and vice versa.  The
escape sequence explicitly specifies what alternate character set  to be
evoked. Note that in this mode, the actual ASCII escape character is used as
defined in the referenced ISO document. As noted in 1.6.1., escape sequences
to/from alternate character set should occur within HL7 delimiters. In other
words, HL7 delimiters are basic one byte characters only, and just before and
just after delimiters, character encoding status should be the basic one byte
set.  This value is allowed only for HL7 v. 2.3.1. 
</TD>
</TR><TR align="center">
<TD align="center"><p>2.3</TD>

<TD align="center"><p>The
character set switching mode specified in HL7 2.3,  sections 2.8.28.6.1, and
2.9.2.  Note that the escape sequences used in this mode are "HL7 escapes
sequences" as defined in HL7 2.3, sec.  2.9, and do not use the ASCII "esc"
character, as defined in ISO 2022-1994
</TD>
</TR><TR align="center">
<TD align="center"><p>&lt;null&gt;</TD>

<TD align="center"><p>This
is the default, indicating that there is no character set switching occurring
in this message.
</TD>
</TR></TABLE>

<p><a name="DDE_LINK4"></a></p>

<h3>
<A NAME="Heading365">2.24.2 MSA - message acknowledgment segment</A></h3>

<p>The MSA segment contains information sent while acknowledging another message. 
</p>

<center>Figure 2-9.  MSA attributes
</center>
<TABLE BORDER><TR align="left">
<TH align="left"><p>SEQ</p>
<BR></TH>
<TH align="left"><p>LEN</p>
<BR></TH>
<TH align="left"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="left">
<TD align="left"><p>1</TD>

<TD align="left"><p>2</TD>

<TD align="left"><p>ID</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0008</TD>

<TD align="center"><p>00018</TD>

<TD align="center"><p>Acknowledgment
Code
</TD>
</TR><TR align="left">
<TD align="left"><p>2</TD>

<TD align="left"><p>20</TD>

<TD align="left"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00010</TD>

<TD align="center"><p>Message
Control ID
</TD>
</TR><TR align="left">
<TD align="left"><p>3</TD>

<TD align="left"><p>80</TD>

<TD align="left"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00020</TD>

<TD align="center"><p>Text
Message
</TD>
</TR><TR align="left">
<TD align="left"><p>4</TD>

<TD align="left"><p>15</TD>

<TD align="left"><p>NM</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00021</TD>

<TD align="center"><p>Expected
Sequence Number
</TD>
</TR><TR align="left">
<TD align="left"><p>5</TD>

<TD align="left"><p>1</TD>

<TD align="left"><p>ID</TD>

<TD align="center"><p>B</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0102</TD>

<TD align="center"><p>00022</TD>

<TD align="center"><p>Delayed
Acknowledgment Type
</TD>
</TR><TR align="left">
<TD align="left"><p>6</TD>

<TD align="left"><p>100</TD>

<TD align="left"><p>CE</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00023</TD>

<TD align="center"><p>Error
Condition
</TD>
</TR></TABLE>
<p>2.24.2.0
 MSA field definitions</p>

<h4>
<A NAME="Heading366">2.24.2.1 Acknowledgment code  (ID)   00018</A></h4>

<p>Definition:
 This field contains an acknowledgment code, see message processing rules.
Refer to <i>HL7 table 0008 - Acknowledgment code</i> for valid values.
</p>

<center>Table 0008 - Acknowledgment code 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>AA</TD>

<TD align="center"><p>Original
mode: Application Accept<br>Enhanced mode: Application acknowledgment: Accept
</TD>
</TR><TR align="center">
<TD align="center"><p>AE</TD>

<TD align="center"><p>Original
mode: Application Error<br>Enhanced mode: Application acknowledgment: Error
</TD>
</TR><TR align="center">
<TD align="center"><p>AR</TD>

<TD align="center"><p>Original
mode: Application Reject<br>Enhanced mode: Application acknowledgment: Reject
</TD>
</TR><TR align="center">
<TD align="center"><p>CA</TD>

<TD align="center"><p>Enhanced
mode: Accept acknowledgment: Commit Accept
</TD>
</TR><TR align="center">
<TD align="center"><p>CE</TD>

<TD align="center"><p>Enhanced
mode: Accept acknowledgment: Commit Error
</TD>
</TR><TR align="center">
<TD align="center"><p>CR</TD>

<TD align="center"><p>Enhanced
mode: Accept acknowledgment: Commit Reject
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading367">2.24.2.2 Message control  ID  (ST)   00010</A></h4>

<p>Definition:
 This field contains the message control ID of the message sent by the sending
system.  It allows the sending system to associate this response with the
message for which it is intended. </p>

<h4>
<A NAME="Heading368">2.24.2.3 Text message  (ST)   00020</A></h4>

<p>Definition:
 This optional field further describes an error condition.  This text may be
printed in error logs or presented to an end user. </p>

<h4>
<A NAME="Heading369">2.24.2.4 Expected sequence number  (NM)   00021</A></h4>

<p>Definition:
 This optional numeric field is used in the sequence number protocol. </p>

<h4>
<A NAME="Heading370">2.24.2.5 Delayed acknowledgment type  (ID)   00022</A></h4>

<p>Definition:
<b><i> This field has been retained for backward compatibility.</i></b>  This
field is used only as described above, in Section 2.12.2, "Application (level
7) processing rules, deferred processing two phase reply (original
acknowledgment mode only)."  Otherwise this field is not used.
</p>

<center>Table 0102 - Delayed acknowledgment type 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Message
received, stored for later processing
</TD>
</TR><TR align="center">
<TD align="center"><p>F</TD>

<TD align="center"><p>acknowledgment
after processing
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading371">2.24.2.6 Error condition  (CE)   00023</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field allows the acknowledging system to use a user-defined
error code to further specify AR or AE type acknowledgments.  This field is a
generalized replacement for <i>MSA-3-text message</i>.<br>
The HL7 Message Error Status codes are defined by <i>HL7 table 0357 - Message
error status codes.</i><br>
<center>Table 0357 - Message error status codes</center><br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p>Status
code
</TD>

<TD align="left"><p>Status
text
</TD>

<TD align="left"><p>Description/Comment</TD>
</TR><TR align="left">
<TD align="left"><p>Success:</TD>

<TD align="left"><BR></TD>
<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p>0</TD>

<TD align="left"><p>Message
accepted
</TD>

<TD align="left"><p>Success.
Optional, as the aa conveys this. Used for systems that must either always
return a status code.
</TD>
</TR><TR align="left">
<TD align="left"><p>Error
Status Codes
</TD>

<TD align="left"><BR></TD>
<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p>100</TD>

<TD align="left"><p>Segment
sequence error
</TD>

<TD align="left"><p>The
message segments were not in the proper order, or required segments are missing.
</TD>
</TR><TR align="left">
<TD align="left"><p>101</TD>

<TD align="left"><p>Required
field missing
</TD>

<TD align="left"><p>A
required field is missing from a segment
</TD>
</TR><TR align="left">
<TD align="left"><p>102</TD>

<TD align="left"><p>Data
type error
</TD>

<TD align="left"><p>The
field contained data of the wrong data type, e.g. an NM field contained "FOO".
</TD>
</TR><TR align="left">
<TD align="left"><p>103</TD>

<TD align="left"><p>Table
value not found
</TD>

<TD align="left"><p>A
field of data type ID or IS was compared against the corresponding table, and
no match was found.
</TD>
</TR><TR align="left">
<TD align="left"><p>Rejection
Status Codes
</TD>

<TD align="left"><BR></TD>
<TD align="left"><BR></TD></TR><TR align="left">
<TD align="left"><p>200</TD>

<TD align="left"><p>Unsupported
message type
</TD>

<TD align="left"><p>The
Message Type is not supported.
</TD>
</TR><TR align="left">
<TD align="left"><p>201</TD>

<TD align="left"><p>Unsupported
event code
</TD>

<TD align="left"><p>The
Event Code is not supported.
</TD>
</TR><TR align="left">
<TD align="left"><p>202</TD>

<TD align="left"><p>Unsupported
processing id
</TD>

<TD align="left"><p>The
Processing ID is not supported.
</TD>
</TR><TR align="left">
<TD align="left"><p>203</TD>

<TD align="left"><p>Unsupported
version id
</TD>

<TD align="left"><p>
The Version ID is not supported.
</TD>
</TR><TR align="left">
<TD align="left"><p>204</TD>

<TD align="left"><p>Unknown
key identifier
</TD>

<TD align="left"><p>The
ID of the patient, order, etc., Was not found. Used for transactions <i>other
than</i> additions, e.g. Transfer of a non-existent patient.
</TD>
</TR><TR align="left">
<TD align="left"><p>205</TD>

<TD align="left"><p>Duplicate
key identifier
</TD>

<TD align="left"><p>The
ID of the patient, order, etc., Already exists. Used in response to addition
transactions (Admit, New Order, etc.).
</TD>
</TR><TR align="left">
<TD align="left"><p>206</TD>

<TD align="left"><p>Application
record locked
</TD>

<TD align="left"><p>The
transaction could not be performed at the application storage level, e.g.
Database locked.
</TD>
</TR><TR align="left">
<TD align="left"><p>207</TD>

<TD align="left"><p>Application internal error
</TD>

<TD align="left"><p>A
catchall for internal errors not explicitly covered by other codes.
</TD>
</TR></TABLE>

<p></p>

<h3>
<A NAME="Heading372">2.24.3 ERR - error segment </A></h3>

<p>The
ERR segment is used to add error comments to acknowledgment messages. 
</p>

<center>Figure 2-10.  ERR attribute
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="left">
<TD align="left"><p>1</TD>

<TD align="left"><p>80</TD>

<TD align="left"><p>CM</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00024</TD>

<TD align="center"><p>Error
Code and Location
</TD>
</TR></TABLE>
<p>2.24.3.0
 ERR field definition</p>

<h4>
<A NAME="Heading373">2.24.3.1 Error code and location  (CM)   00024</A></h4>

<p><tt>Components:
 &lt;segment ID (ST)&gt; ^ &lt;sequence (NM)&gt; ^ &lt;field position (NM)&gt;
^ &lt;code identifying error (CE)&gt;</tt><br>
Definition: This field identifies an erroneous segment in another message.  The
second component is an index if there is more than one segment of type
&lt;segment ID&gt;.  For systems that do not use the HL7 Encoding Rules, the
data item number may be used for the third component.  The fourth component
(which references <i>HL7 Table 0357 - Message error status codes</i>,  (as a CE
data type)) is restricted from having any subcomponents as the subcomponent
separator is now the CE's component separator. <br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:
     </b>See section 2.24.2.6 , MSA-6-e<i>rror condition, </i>for a listing of
this table.
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading374">2.24.4 QRD - original-style query definition segment</A></h3>

<p>The
QRD segment is used to define a query. 
</p>

<center>Figure 2-11.  QRD attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00025</TD>

<TD align="center"><p>Query
Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0106</TD>

<TD align="center"><p>00026</TD>

<TD align="center"><p>Query
Format Code
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0091</TD>

<TD align="center"><p>00027</TD>

<TD align="center"><p>Query
Priority
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>10</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00028</TD>

<TD align="center"><p>Query
ID
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0107</TD>

<TD align="center"><p>00029</TD>

<TD align="center"><p>Deferred
Response Type
</TD>
</TR><TR align="center">
<TD align="center"><p>6</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00030</TD>

<TD align="center"><p>Deferred
Response Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>7</TD>

<TD align="center"><p>10</TD>

<TD align="center"><p>CQ</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0126</TD>

<TD align="center"><p>00031</TD>

<TD align="center"><p>Quantity
Limited Request
</TD>
</TR><TR align="center">
<TD align="center"><p>8</TD>

<TD align="center"><p>60
</TD>

<TD align="center"><p>XCN
</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00032</TD>

<TD align="center"><p>Who
Subject Filter
</TD>
</TR><TR align="center">
<TD align="center"><p>9</TD>

<TD align="center"><p>60
</TD>

<TD align="center"><p>CE
</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0048</TD>

<TD align="center"><p>00033</TD>

<TD align="center"><p>What
Subject Filter
</TD>
</TR><TR align="center">
<TD align="center"><p>10</TD>

<TD align="center"><p>60
</TD>

<TD align="center"><p>CE
</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00034</TD>

<TD align="center"><p>What
Department Data Code
</TD>
</TR><TR align="center">
<TD align="center"><p>11</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>CM</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00035</TD>

<TD align="center"><p>What
Data Code Value Qual.
</TD>
</TR><TR align="center">
<TD align="center"><p>12</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0108</TD>

<TD align="center"><p>00036</TD>

<TD align="center"><p>Query
Results Level
</TD>
</TR></TABLE>
<p>2.24.4.0
 QRD field definitions</p>

<h4>
<A NAME="Heading375">2.24.4.1 Query date/time  (TS)   00025</A></h4>

<p>Definition:
 This field contains the date the query was generated by the application
program. </p>

<h4>
<A NAME="Heading376">2.24.4.2 Query format code  (ID)   00026</A></h4>

<p>Definition:
 This field refers to <i>HL7</i> <i>table 0106 - Query/response format code</i>
for valid values. 
</p>

<center>Table 0106 - Query/response format code 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Response
is in display format
</TD>
</TR><TR align="center">
<TD align="center"><p>R</TD>

<TD align="center"><p>Response
is in record-oriented format
</TD>
</TR><TR align="center">
<TD align="center"><p>T</TD>

<TD align="center"><p>Response
is in tabular format
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading377">2.24.4.3 Query priority  (ID)   00027</A></h4>

<p>Definition:
 This field contains the time frame in which the response is expected.  Refer
to <i>HL7</i> <i>table 0091 - Query priority</i> for valid values.  Table
values and subsequent fields specify time frames for response. 
</p>

<center>Table 0091 - Query priority 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Deferred</TD>
</TR><TR align="center">
<TD align="center"><p>I</TD>

<TD align="center"><p>Immediate</TD>
</TR></TABLE>

<h4>
<A NAME="Heading378">2.24.4.4 Query ID  (ST)   00028</A></h4>

<p>Definition:
 This field contains a unique identifier for the query.  Assigned by the
querying application.  Returned intact by the responding application.</p>

<h4>
<A NAME="Heading379">2.24.4.5 Deferred response type  (ID)   00029</A></h4>

<p>Definition:
This field refers to <i>HL7 table 0107 - Deferred response type</i> for valid
entries. 
</p>

<center>Table 0107 - Deferred response type 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>B</TD>

<TD align="center"><p>Before
the Date/Time specified
</TD>
</TR><TR align="center">
<TD align="center"><p>L</TD>

<TD align="center"><p>Later
than the Date/Time specified
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading380">2.24.4.6 Deferred response date/time (TS)   00030</A></h4>

<p>Definition:
 This field contains the date/time before or after which to send a deferred
response.  If not present, the response can be sent when its available.  (See
<i>QRD-5-deferred response type</i> above). </p>

<h4>
<A NAME="Heading381">2.24.4.7 Quantity limited request  (CQ)   00031</A></h4>

<p><tt>Components:
 &lt;quantity (NM)&gt; ^ &lt;units (CE)&gt;</tt><br>
Definition:  This field contains the maximum length of the response that can be
accepted by the requesting system.  Valid responses are numerical values given
in the units specified in the second component.  Refer to<i> HL7</i> <i>table
0126 - Quantity limited request</i> for valid entries.  Default is LI lines. 
</p>

<center>Table 0126 - Quantity limited request 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>CH</TD>

<TD align="center"><p>Characters</TD>
</TR><TR align="center">
<TD align="center"><p>LI</TD>

<TD align="center"><p>Lines
</TD>
</TR><TR align="center">
<TD align="center"><p>PG</TD>

<TD align="center"><p>Pages</TD>
</TR><TR align="center">
<TD align="center"><p>RD</TD>

<TD align="center"><p>Records</TD>
</TR><TR align="center">
<TD align="center"><p>ZO</TD>

<TD align="center"><p>Locally
defined
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading382">2.24.4.8 Who subject filter  (XCN)   00032</A></h4>

<p><tt>Components:
 &lt;ID number (ST)&gt; ^ &lt;family name (ST)&gt; ^ &lt;given name (ST)&gt; ^
&lt;middle initial or name (ST)&gt; ^ &lt;suffix (e.g., JR or III) (ST)&gt; ^
&lt;prefix (e.g., DR) (ST)&gt; ^ &lt;degree (e.g., MD) (ST)&gt; ^ &lt;source
table (IS)&gt; ^ &lt;assigning authority (HD)&gt; ^ &lt;name type code (ID)&gt;
^ &lt;code identifying the check digit scheme employed(ID)&gt; ^ &lt;identifier
type code (IS)&gt; ^ &lt;assigning facility ID (HD)&gt;</tt><br>
<tt>Subcomponents of assigning authority:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
<tt>Subcomponents of assigning facility:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
Definition:  This field identifies the subject, or who the inquiry is about. </p>

<h4>
<A NAME="Heading383">2.24.4.9 What subject filter  (CE)   00033</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field describes the kind of information that is required to
satisfy the request.  Valid values define the type of transaction inquiry and
may be extended locally during implementation.
</p>

<center>Table 0048 - What subject filter
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>ADV</TD>

<TD align="center"><p>Advice/diagnosis</TD>
</TR><TR align="center">
<TD align="center"><p>ANU</TD>

<TD align="center"><p>Nursing
unit lookup (returns patients in beds, excluding empty beds)
</TD>
</TR><TR align="center">
<TD align="center"><p>APN</TD>

<TD align="center"><p>Patient
name lookup
</TD>
</TR><TR align="center">
<TD align="center"><p>APP</TD>

<TD align="center"><p>Physician
lookup
</TD>
</TR><TR align="center">
<TD align="center"><p>ARN</TD>

<TD align="center"><p>Nursing
unit lookup (returns patients in beds, including empty beds)
</TD>
</TR><TR align="center">
<TD align="center"><p>APM</TD>

<TD align="center"><p>Medical
record number query, returns visits for a medical record number
</TD>
</TR><TR align="center">
<TD align="center"><p>APA</TD>

<TD align="center"><p>Account
number query, return matching visit
</TD>
</TR><TR align="center">
<TD align="center"><p>CAN</TD>

<TD align="center"><p>Cancel.
 Used to cancel a query
</TD>
</TR><TR align="center">
<TD align="center"><p>DEM</TD>

<TD align="center"><p>Demographics</TD>
</TR><TR align="center">
<TD align="center"><p>FIN</TD>

<TD align="center"><p>Financial</TD>
</TR><TR align="center">
<TD align="center"><p>GOL</TD>

<TD align="center"><p>Goals</TD>
</TR><TR align="center">
<TD align="center"><p>MRI</TD>

<TD align="center"><p>Most
recent inpatient
</TD>
</TR><TR align="center">
<TD align="center"><p>MRO</TD>

<TD align="center"><p>Most
recent outpatient
</TD>
</TR><TR align="center">
<TD align="center"><p>NCK</TD>

<TD align="center"><p>Network
clock
</TD>
</TR><TR align="center">
<TD align="center"><p>NSC</TD>

<TD align="center"><p>Network
status change
</TD>
</TR><TR align="center">
<TD align="center"><p>NST</TD>

<TD align="center"><p>Network
statistic
</TD>
</TR><TR align="center">
<TD align="center"><p>ORD</TD>

<TD align="center"><p>Order</TD>
</TR><TR align="center">
<TD align="center"><p>OTH</TD>

<TD align="center"><p>Other</TD>
</TR><TR align="center">
<TD align="center"><p>PRB</TD>

<TD align="center"><p>Problems</TD>
</TR><TR align="center">
<TD align="center"><p>PRO</TD>

<TD align="center"><p>Procedure</TD>
</TR><TR align="center">
<TD align="center"><p>RES</TD>

<TD align="center"><p>Result</TD>
</TR><TR align="center">
<TD align="center"><p>RAR</TD>

<TD align="center"><p>Pharmacy
administration information
</TD>
</TR><TR align="center">
<TD align="center"><p>RER</TD>

<TD align="center"><p>Pharmacy
encoded order information
</TD>
</TR><TR align="center">
<TD align="center"><p>RDR</TD>

<TD align="center"><p>Pharmacy
dispense information
</TD>
</TR><TR align="center">
<TD align="center"><p>RGR</TD>

<TD align="center"><p>Pharmacy
give information
</TD>
</TR><TR align="center">
<TD align="center"><p>ROR</TD>

<TD align="center"><p>Pharmacy
prescription information
</TD>
</TR><TR align="center">
<TD align="center"><p>SAL</TD>

<TD align="center"><p>All
schedule related information, including open slots, booked slots, blocked slots
</TD>
</TR><TR align="center">
<TD align="center"><p>SBK</TD>

<TD align="center"><p>Booked
slots on the identified schedule
</TD>
</TR><TR align="center">
<TD align="center"><p>SBL</TD>

<TD align="center"><p>Blocked
slots on the identified schedule
</TD>
</TR><TR align="center">
<TD align="center"><p>SOP</TD>

<TD align="center"><p>Open
slots on the identified schedule
</TD>
</TR><TR align="center">
<TD align="center"><p>SSA</TD>

<TD align="center"><p>Time
slots available for a single appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>SSR</TD>

<TD align="center"><p>Time
slots available for a recurring appointment
</TD>
</TR><TR align="center">
<TD align="center"><p>STA</TD>

<TD align="center"><p>Status</TD>
</TR><TR align="center">
<TD align="center"><p>VXI</TD>

<TD align="center"><p>Vaccine
Information
</TD>
</TR></TABLE>
<p>See
the HL7 Implementation Guide for detailed examples of use of various query
filter fields.</p>

<h4>
<A NAME="Heading384">2.24.4.10 What department data code  (CE)   00034</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains the possible contents including test number,
procedure number, drug code, item number, order number, etc.  The contents of
this field are determined by the contents of the previous field. This field
could contain multiple occurrences separated by repetition delimiters. </p>

<h4>
<A NAME="Heading385">2.24.4.11 What data code value qual  (CM)   00035</A></h4>

<p><tt>Components:
 &lt;first data code value (ST)&gt; ^ &lt;last data code value (ST)&gt;</tt><br>
Definition:  This field contains the what data code value qualifier.  A window
or range to further refine the inquiry.  This field would contain start/stop
separated by component separators. </p>

<h4>
<A NAME="Heading386">2.24.4.12 Query results level (ID)   00036</A></h4>

<p>Definition:
 This field is used to control level of detail in results.  Refer to <i>HL7</i>
<i>table 0108 - Query results level</i> for valid values.  See chapters 4 and 7.
</p>

<center>Table 0108 - Query results level
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>O</TD>

<TD align="center"><p>Order
plus order status
</TD>
</TR><TR align="center">
<TD align="center"><p>R</TD>

<TD align="center"><p>Results
without bulk text
</TD>
</TR><TR align="center">
<TD align="center"><p>S</TD>

<TD align="center"><p>Status
only
</TD>
</TR><TR align="center">
<TD align="center"><p>T</TD>

<TD align="center"><p>Full
results
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading387">2.24.5 QRF - original style query filter segment</A></h3>

<p>The
QRF segment is used with the QRD segment to further refine the content of an
original style query.
</p>

<center>Figure 2-12.  QRF attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>Item
#
</p>
<BR></TH>
<TH align="center"><p>Element
Name
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00037</TD>

<TD align="center"><p>Where
Subject Filter
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00038</TD>

<TD align="center"><p>When
Data Start Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00039</TD>

<TD align="center"><p>When
Data End Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00040</TD>

<TD align="center"><p>What
User Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00041</TD>

<TD align="center"><p>Other
QRY Subject Filter
</TD>
</TR><TR align="center">
<TD align="center"><p>6</TD>

<TD align="center"><p>12</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0156</TD>

<TD align="center"><p>00042</TD>

<TD align="center"><p>Which
Date/Time Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>7</TD>

<TD align="center"><p>12</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0157</TD>

<TD align="center"><p>00043</TD>

<TD align="center"><p>Which
Date/Time Status Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>8</TD>

<TD align="center"><p>12</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0158</TD>

<TD align="center"><p>00044</TD>

<TD align="center"><p>Date/Time Selection Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>9</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>TQ</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00694</TD>

<TD align="center"><p>When
Quantity/Timing Qualifier
</TD>
</TR></TABLE>
<p>2.24.5.0
  QRF field definitions</p>

<h4>
<A NAME="Heading388">2.24.5.1 Where subject filter  (ST)   00037</A></h4>

<p>Definition:
 This field identifies the department, system, or subsystem to which the query
pertains.  This field may repeat as in LAB~HEMO, etc.</p>

<h4>
<A NAME="Heading389">2.24.5.2 When data start date/time  (TS)   00038</A></h4>

<p>Definition:
 This field contains the dates and times equal to or after which this value
should be included. </p>

<h4>
<A NAME="Heading390">2.24.5.3 When data end date/time  (TS)   00039</A></h4>

<p>Definition:
 This field contains the dates and times equal to or before which this date
should be included. </p>

<h4>
<A NAME="Heading391">2.24.5.4 What user qualifier  (ST)   00040</A></h4>

<p>Definition:
 This field contains an identifier to further define characteristics of the
data of interest. </p>

<h4>
<A NAME="Heading392">2.24.5.5 Other QRY subject filter  (ST)   00041</A></h4>

<p>Definition:
 This field contains a filter defined locally for use between two systems.
This filter uses codes and field definitions which have specific meaning only
to the applications and/or site involved.</p>

<h4>
<A NAME="Heading393">2.24.5.6 Which date/time qualifier  (ID)   00042</A></h4>

<p>Definition:
 This field specifies the type of date referred to in <i>QRF-2-when data start
date/time</i> and <i>QRF-3-when data end date/time</i>.
</p>

<center>Table 0156 - Which date/time qualifier
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>ANY</TD>

<TD align="center"><p>Any
date/time within a range
</TD>
</TR><TR align="center">
<TD align="center"><p>COL</TD>

<TD align="center"><p>Collection
date/time, equivalent to film or sample collection date/time
</TD>
</TR><TR align="center">
<TD align="center"><p>ORD</TD>

<TD align="center"><p>Order
date/time
</TD>
</TR><TR align="center">
<TD align="center"><p>RCT</TD>

<TD align="center"><p>Specimen receipt date/time, receipt of specimen in filling ancillary (Lab)
</TD>
</TR><TR align="center">
<TD align="center"><p>REP</TD>

<TD align="center"><p>Report date/time, report date/time at filing ancillary (i.e., Lab)
</TD>
</TR><TR align="center">
<TD align="center"><p>SCHED</TD>

<TD align="center"><p>Schedule
date/time
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading394">2.24.5.7 Which date/time status qualifier  (ID)   00043</A></h4>

<p>Definition:
 This field specifies the status type of objects selected in date range defined
by <i>QRF-2-when data start date/time</i> and <i>QRF-3-when data end
date/time</i>.
</p>

<center>Table 0157 - Which date/time status qualifier
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>ANY</TD>

<TD align="center"><p>Any
status
</TD>
</TR><TR align="center">
<TD align="center"><p>CFN</TD>

<TD align="center"><p>Current
final value, whether final or corrected
</TD>
</TR><TR align="center">
<TD align="center"><p>COR</TD>

<TD align="center"><p>Corrected
only (no final with corrections)
</TD>
</TR><TR align="center">
<TD align="center"><p>FIN</TD>

<TD align="center"><p>Final
only (no corrections)
</TD>
</TR><TR align="center">
<TD align="center"><p>PRE</TD>

<TD align="center"><p>Preliminary</TD>
</TR><TR align="center">
<TD align="center"><p>REP</TD>

<TD align="center"><p>Report
completion date/time
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading395">2.24.5.8 Date/time selection qualifier  (ID)   00044</A></h4>

<p>Definition:
 This field allows the specification of certain types of values within the date/time range.
</p>

<center>Table 0158 - Date/time selection qualifier
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>1ST</TD>

<TD align="center"><p>First
value within range
</TD>
</TR><TR align="center">
<TD align="center"><p>ALL</TD>

<TD align="center"><p>All
values within the range
</TD>
</TR><TR align="center">
<TD align="center"><p>LST</TD>

<TD align="center"><p>Last
value within the range
</TD>
</TR><TR align="center">
<TD align="center"><p>REV</TD>

<TD align="center"><p>All
values within the range returned in reverse chronological order (This is the
default if not otherwise specified.)
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading396">2.24.5.9 When quantity/timing qualifier  (TQ)   00694</A></h4>

<p><tt>Components:
 &lt;quantity (CQ)&gt; ^ &lt;interval (CM)&gt; ^ &lt;duration&gt; ^ &lt;start
date/time (TS)&gt; ^ &lt;end date/time (TS)&gt; ^ &lt;priority (ID)&gt; ^
&lt;condition (ST)&gt; ^ &lt;text (TX)&gt; ^ &lt;conjunction (ID)&gt; ^
&lt;order sequencing&gt;</tt><br>
Definition:  This field allows an interval definition to be used for specifying
multiple responses to a query. With the addition of this filter, new query
specifications should no longer use <i>QRF-2-when data start date/time</i> and
<i>QRF-3-when data end date/time</i> in future implementations.
</p>

<h3>
<A NAME="Heading397">2.24.6 URD - results/update definition segment</A></h3>

<p>The
URD segment is used in sending unsolicited updates about orders and results.
Its purpose is similar to that of the QRD segment, but from the
results/unsolicited update point of view.  Some of the fields have parallels in
the QRD segment.
</p>

<center>Figure 2-13.  URD attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>Item
#
</p>
<BR></TH>
<TH align="center"><p>Element
Name
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00045</TD>

<TD align="center"><p>R/U
Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0109</TD>

<TD align="center"><p>00046</TD>

<TD align="center"><p>Report
Priority
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>XCN</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00047</TD>

<TD align="center"><p>R/U
Who Subject Definition
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0048</TD>

<TD align="center"><p>00048</TD>

<TD align="center"><p>R/U
What Subject Definition
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00049</TD>

<TD align="center"><p>R/U
What Department Code
</TD>
</TR><TR align="center">
<TD align="center"><p>6</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00050</TD>

<TD align="center"><p>R/U
Display/Print Locations
</TD>
</TR><TR align="center">
<TD align="center"><p>7</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0108</TD>

<TD align="center"><p>00051</TD>

<TD align="center"><p>R/U
Results Level
</TD>
</TR></TABLE>
<p>2.24.6.0
  URD field definitions</p>

<h4>
<A NAME="Heading398">2.24.6.1 R/U date/time  (TS)   00045</A></h4>

<p>Definition:
 This field contains the date and time the update was generated by the
application program. </p>

<h4>
<A NAME="Heading399">2.24.6.2 Report priority (ID)   00046 </A></h4>

<p>Definition:
This field contains the priority associated with this report or update.  Refer
to <i>HL7 table 0109 - Report priority</i> for valid values. 
</p>

<center>Table 0109 - Report priority
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>R</TD>

<TD align="center"><p>Routine</TD>
</TR><TR align="center">
<TD align="center"><p>S</TD>

<TD align="center"><p>Stat</TD>
</TR></TABLE>

<h4>
<A NAME="Heading400">2.24.6.3 R/U who subject definition  (XCN)   00047</A></h4>

<p><tt>Components:
 &lt;ID number (ST)&gt; ^ &lt;family name (ST)&gt; ^ &lt;given name (ST)&gt; ^
&lt;middle initial or name (ST)&gt; ^ &lt;suffix (e.g., JR or III) (ST)&gt; ^
&lt;prefix (e.g., DR) (ST)&gt; ^ &lt;degree (e.g., MD) (ST)&gt; ^ &lt;source
table (IS)&gt; ^ &lt;assigning authority (HD)&gt; ^ &lt;name type code (ID)&gt;
^ &lt;code identifying the check digit scheme employed(ID)&gt; ^ &lt;identifier
type code (IS)&gt; ^ &lt;assigning facility ID (HD)&gt;</tt><br>
<tt>Subcomponents of assigning authority:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
<tt>Subcomponents of assigning facility:  &lt;namespace ID (IS)&gt; &amp;
&lt;universal ID (ST)&gt; &amp; &lt;universal ID type (ID)&gt;</tt><br>
Definition:  This field contains the definition of the subject, or who the
report is about. </p>

<h4>
<A NAME="Heading401">2.24.6.4 R/U what subject definition  (CE)   00048</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field describes the kind of information that is provided in
the report.  Valid values are the type of transaction inquiry.  Refer to<i> HL7
table 0048 - What subject filter</i> for valid values.<br>
This table may be extended by local agreement during implementation.  See the
HL7 Implementation Guide for detailed examples of use of various query filter
fields.</p>

<h4>
<A NAME="Heading402">2.24.6.5 R/U what department code  (CE)   00049</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains either a test number, procedure number, drug
code, item number, order number, etc. to identify the department  The contents
of this field are determined by the contents of the previous field.  This field
could contain multiple occurrences separated by repetition delimiters. </p>

<h4>
<A NAME="Heading403">2.24.6.6 R/U display/print locations  (ST)   00050</A></h4>

<p>Definition:
 This field contains a list of the locations to which the report should be
distributed. </p>

<h4>
<A NAME="Heading404">2.24.6.7 R/U results level  (ID)   00051</A></h4>

<p>Definition:
 This field is used to control level of detail in results.  Refer to <i>HL7</i>
<i>table 0108 - Query results level</i> for valid values.  Default level is
<b>T </b>for full results.  See chapters 4 and 7. 
</p>

<h3>
<A NAME="Heading405">2.24.7 URS - unsolicited selection segment</A></h3>

<p>The
URS segment is identical with the QRF segment, except that if the name of any
field contains Query (of QRY), this word has been changed to Results (see
<i>URS-5-R/U other results subject definition</i>). 
</p>

<center>Figure 2-14.  URS attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00052</TD>

<TD align="center"><p>R/U
Where Subject Definition
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00053</TD>

<TD align="center"><p>R/U
When Data Start Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00054</TD>

<TD align="center"><p>R/U
When Data End Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00055</TD>

<TD align="center"><p>R/U
What User Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00056</TD>

<TD align="center"><p>R/U
Other Results Subject Definition
</TD>
</TR><TR align="center">
<TD align="center"><p>6</TD>

<TD align="center"><p>12</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0156</TD>

<TD align="center"><p>00057</TD>

<TD align="center"><p>R/U
Which Date/Time Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>7</TD>

<TD align="center"><p>12</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0157</TD>

<TD align="center"><p>00058</TD>

<TD align="center"><p>R/U
Which Date/Time Status Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>8</TD>

<TD align="center"><p>12</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><p>0158</TD>

<TD align="center"><p>00059</TD>

<TD align="center"><p>R/U
Date/Time Selection Qualifier
</TD>
</TR><TR align="center">
<TD align="center"><p>9</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>TQ</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00695</TD>

<TD align="center"><p>R/U
Quantity/Timing Qualifier
</TD>
</TR></TABLE>
<p>2.24.7.0
  URS field definitions</p>

<h4>
<A NAME="Heading406">2.24.7.1 R/U where subject definition ( ST)   00052</A></h4>

<p>Definition:
 This field identifies the department, system, or subsystem to which the result
pertains.  This field may repeat as in <b>LAB~HEMO</b>, etc. </p>

<h4>
<A NAME="Heading407">2.24.7.2 R/U when data start date/time  (TS)   00053</A></h4>

<p>Definition:
 This field contains the date/time the result starts  (if applicable). </p>

<h4>
<A NAME="Heading408">2.24.7.3 R/U when data end date/time  (TS)   00054</A></h4>

<p>Definition:
 This field contains the date/time the result ends (if applicable). </p>

<h4>
<A NAME="Heading409">2.24.7.4 R/U what user qualifier  (ST)   00055</A></h4>

<p>Definition:
 This field contains an identifier to define further the characteristics of the
data that are of interest. </p>

<h4>
<A NAME="Heading410">2.24.7.5 R/U other results subject definition  (ST)   00056</A></h4>

<p>Definition:
 This field contains a further qualifier, defined locally, for use between two
systems.  This filter uses codes and field definitions that have specific
meaning only to the application and/or site involved.</p>

<h4>
<A NAME="Heading411">2.24.7.6 R/U which date/time qualifier  (ID)   00057</A></h4>

<p>Definition:
This field specifies the type of date referred to in <i>URS-2-when data start
date/time</i> and<i> URS-3-when data end date/time</i>.  Refer <i>to HL7 table
0156 - Which date/time qualifier </i>for valid values.</p>

<h4>
<A NAME="Heading412">2.24.7.7 R/U which date/time status qualifier  (ID)   00058</A></h4>

<p>Definition:
 This field specifies the status type of objects selected in date range defined
by <i>URS-2-when data start date/time</i> and <i>URS-3-when data end
date/time</i>.  Refer to <i>HL7 table 0157 - Which date/time status
qualifier</i> for valid values.</p>

<h4>
<A NAME="Heading413">2.24.7.8 R/U date/time selection qualifier  (ID)   00059</A></h4>

<p>Definition:
 This field allows the specification of certain types of values within the
date/time range.  Refer to <i>HL7</i> <i>table 0158 - Date/time selection
qualifier</i> for valid values.</p>

<h4>
<A NAME="Heading414">2.24.7.9 R/U quantity/timing qualifier  (TQ)   00695</A></h4>

<p><tt>Components:
 &lt;quantity (CQ)&gt; ^ &lt;interval (CM)&gt; ^ &lt;duration&gt; ^ &lt;start
date/time (TS)&gt; ^ &lt;end date/time (TS)&gt; ^ &lt;priority (ID)&gt; ^
&lt;condition (ST)&gt; ^ &lt;text (TX)&gt; ^ &lt;conjunction (ID)&gt; ^
&lt;order sequencing&gt;</tt><br>
Definition:  This field allows an interval definition to be used for specifying
multiple responses to a query. With the addition of this filter, new query
specifications should no longer use<i> URS-2-R/U when data start date/time</i>
and <i>URS-3-R/U when data end date/time </i>in future implementations
</p>

<h3>
<A NAME="Heading415">2.24.8 DSC - Continuation pointer segment</A></h3>

<p>The DSC segment is used in the continuation protocol. 
</p>

<center>Figure 2-15.  DSC attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>180</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00014</TD>

<TD align="center"><p>Continuation
Pointer
</TD>
</TR></TABLE>
<p>2.24.8.0
  DSC field definition</p>

<h4>
<A NAME="Heading416">2.24.8.1 Continuation pointer (ST)   00014</A></h4>

<p>Definition:
This field contains the continuation pointer.  See the description of
Continuation Fields in Section 2.15.4, "Interactive continuation or
cancellation of response messages: original mode (display and record-oriented)
and enhanced mode (display, tabular, and event replay)."  In an initial query,
this field is not present.  If the responder returns a value of null or not
present, then there is no more data to fulfill any future continuation
requests.  For use with continuations of unsolicited messages, see Sections
2.14.2, "UDM/ACK - unsolicited display update message (event Q05)," and 2.23.2
"Continuation messages and segments."  Note that continuation protocols work
with both display- and record-oriented messages.
</p>

<h3>
<A NAME="Heading417">2.24.9 DSP - display data segment</A></h3>

<p>The
DSP segment is used to contain data that has been preformatted by the sender
for display.  The semantic content of the data is lost; the data is simply
treated as lines of text. 
</p>

<center>Figure 2-16.  DSP attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>4</TD>

<TD align="center"><p>SI</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00061</TD>

<TD align="center"><p>Set
ID - DSP
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>4</TD>

<TD align="center"><p>SI</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00062</TD>

<TD align="center"><p>Display
Level
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>300</TD>

<TD align="center"><p>TX</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00063</TD>

<TD align="center"><p>Data
Line
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>2</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00064</TD>

<TD align="center"><p>Logical
Break Point
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>TX</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00065</TD>

<TD align="center"><p>Result
ID
</TD>
</TR></TABLE>
<p>2.24.9.0
  DSP field definitions</p>

<h4>
<A NAME="Heading418">2.24.9.1 Set ID - DSP  (SI)   00061</A></h4>

<p>Definition:
 This field is used optionally to number multiple display segments.</p>

<h4>
<A NAME="Heading419">2.24.9.2 Display level  (SI)   00062</A></h4>

<p>Definition:
 This field contains numbering to define groups of fields as assigned by the
individual sites or applications.</p>

<h4>
<A NAME="Heading420">2.24.9.3 Data line  (TX)   00063</A></h4>

<p>Definition:
 This field contains an actual line as it should be displayed.  As described
for the TX data type, highlighting and other special display characteristics
may be included.</p>

<h4>
<A NAME="Heading421">2.24.9.4 Logical break point  (ST)   00064</A></h4>

<p>Definition:
 This field is non-null if this line is the last line of a logical break point
in the response as defined by the responding system.  See Section 2.15.5,
"Logical display break points," for the discussion of Logical display break
points.</p>

<h4>
<A NAME="Heading422">2.24.9.5 Result ID  (TX)   00065</A></h4>

<p>Definition:
 When the user selects a result ID (defined by <i>DSP-4-logical break
point</i>) from the screen display corresponding to a record in which
<i>DSP-5-result ID</i> is non-null, the application can initiate a second query
(a separate session) to the ancillary with the <i>QRD-10-what department data
code</i> filled in with this non-null value (e.g., the ancillary accession
number or its equivalent).  The ancillary response will contain the report
referenced by this result ID (e.g., accession number).  The ancillary should
correlate the result ID with <i>DSP-4-logical break point</i> as follows: If
more than one line of text is sent per result, <i>DSP-5-result ID</i> should be
only non-null for a DSP segment that contains a non-null <i>DSP-4-logical break
point</i>.  This field may be broken into components by local agreement.  A
common example might be to include placer order number, filler order number,
and universal service identifier.  Whenever such fields are used as components
of the result ID, their components will be sent as subcomponents.
</p>

<h3>
<A NAME="Heading423">2.24.10 ADD - addendum segment </A></h3>

<p>The
ADD segment is used to define the continuation of the prior segment in a
continuation message.  See Section 2.23.2, "Continuation messages and
segments," for details. 
</p>

<center>Figure 2-17.  ADD attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM#</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1-n</TD>

<TD align="center"><p>64k</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00066</TD>

<TD align="center"><p>Addendum
Continuation Pointer
</TD>
</TR></TABLE>
<p>2.24.10.0
 ADD field definition</p>

<h4>
<A NAME="Heading424">2.24.10.1 Addendum continuation pointer (ST)   00066  </A></h4>

<p>Definition:
 This field is used to define the continuation of the prior segment in a
continuation message.  See text for details.  When the ADD is sent after the
segment being continued, it contains no fields.  It is only a marker that the
previous segment is being continued in a subsequent message.  Thus fields 1-N
are not present.  The sequence designation, 1-N, means the remainder of the
fields in the segment being continued.  These remainder of the segment being
continued fields are present only when the ADD is sent with a continuation
message. 
</p>

<h3>
<A NAME="Heading425">2.24.11 FHS - file header segment</A></h3>

<p>The
FHS segment is used to head a file (group of batches) as defined in Section
2.23.3, "HL7 batch protocol."
</p>

<center>Figure 2-18.  FHS attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00067</TD>

<TD align="center"><p>File
Field Separator
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>4</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00068</TD>

<TD align="center"><p>File
Encoding Characters
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>15</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00069</TD>

<TD align="center"><p>File
Sending Application
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00070</TD>

<TD align="center"><p>File
Sending Facility
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>15</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00071</TD>

<TD align="center"><p>File
Receiving Application
</TD>
</TR><TR align="center">
<TD align="center"><p>6</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00072</TD>

<TD align="center"><p>File
Receiving Facility
</TD>
</TR><TR align="center">
<TD align="center"><p>7</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00073</TD>

<TD align="center"><p>File
Creation Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>8</TD>

<TD align="center"><p>40</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00074</TD>

<TD align="center"><p>File
Security
</TD>
</TR><TR align="center">
<TD align="center"><p>9</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00075</TD>

<TD align="center"><p>File
Name/ID
</TD>
</TR><TR align="center">
<TD align="center"><p>10</TD>

<TD align="center"><p>80</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00076</TD>

<TD align="center"><p>File
Header Comment
</TD>
</TR><TR align="center">
<TD align="center"><p>11</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00077</TD>

<TD align="center"><p>File
Control ID
</TD>
</TR><TR align="center">
<TD align="center"><p>12</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00078</TD>

<TD align="center"><p>Reference
File Control ID
</TD>
</TR></TABLE>
<p>2.24.11.0
  FHS field definitions</p>

<h4>
<A NAME="Heading426">2.24.11.1 File field separator  (ST)   00067</A></h4>

<p>Definition:
 This field has the same definition as the corresponding field in the MSH
segment.</p>

<h4>
<A NAME="Heading427">2.24.11.2 File encoding characters  (ST)   00068</A></h4>

<p>Definition:
 This field has the same definition as the corresponding field in the MSH
segment.</p>

<h4>
<A NAME="Heading428">2.24.11.3 File sending application  (ST)   00069</A></h4>

<p>Definition:
This field has the same definition as the corresponding field in the MSH
segment. </p>

<h4>
<A NAME="Heading429">2.24.11.4 File sending facility  (ST)   00070</A></h4>

<p>Definition:
This field has the same definition as the corresponding field in the MSH segment.</p>

<h4>
<A NAME="Heading430">2.24.11.5 File receiving application  (ST)   00071</A></h4>

<p>Definition:
 This field has the same definition as the corresponding field in the MSH
segment. </p>

<h4>
<A NAME="Heading431">2.24.11.6 File receiving facility  (ST)   00072</A></h4>

<p>Definition:
 This field has the same definition as the corresponding field in the MSH
segment.</p>

<h4>
<A NAME="Heading432">2.24.11.7 File creation date/time  (TS)   00073</A></h4>

<p>Definition:
 This field has the same definition as the corresponding field in the MSH
segment.</p>

<h4>
<A NAME="Heading433">2.24.11.8 File security (ST)   00074</A></h4>

<p>Definition:
 This field has the same definition as the corresponding field in the MSH
segment.</p>

<h4>
<A NAME="Heading434">2.24.11.9 File name/ID  (ST)   00075</A></h4>

<p>Definition:
 This field can be used by the application processing file.  Its use is not
further specified. </p>

<h4>
<A NAME="Heading435">2.24.11.10 File header comment (ST)   00076</A></h4>

<p>Definition:
 This field contains the free text field, the use of which is not further
specified. </p>

<h4>
<A NAME="Heading436">2.24.11.11 File control ID  (ST)   00077</A></h4>

<p>Definition:
This field is used to identify a particular file uniquely.  It can be echoed
back in <i>FHS-12-reference file control ID</i>.</p>

<h4>
<A NAME="Heading437">2.24.11.12 Reference file control ID  (ST)   00078</A></h4>

<p>Definition:
 This field contains the value of <i>FHS-11-file control ID</i> when this file
was originally transmitted.  Not present if this file is being transmitted for
the first time. 
</p>

<h3>
<A NAME="Heading438">2.24.12 FTS - file trailer segment </A></h3>

<p>The
FTS segment defines the end of a file. 
</p>

<center>Figure 2-19.  FTS attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>10</TD>

<TD align="center"><p>NM</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00079</TD>

<TD align="center"><p>File
Batch Count
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>80</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00080</TD>

<TD align="center"><p>File
Trailer Comment
</TD>
</TR></TABLE>
<p>2.24.12.0
  FTS field definitions</p>

<h4>
<A NAME="Heading439">2.24.12.1 File batch count  (NM)   00079</A></h4>

<p>Definition:
 This field contains the number of batches contained in this file. </p>

<h4>
<A NAME="Heading440">2.24.12.2 File trailer comment  (ST)   00080</A></h4>

<p>Definition:
 The use of this free text field is not further specified.
</p>

<h3>
<A NAME="Heading441">2.24.13 BHS - batch header segment </A></h3>

<p>The
BHS segment defines the start of a batch. 
</p>

<center>Figure 2-20.  BHS attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
 #
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00081</TD>

<TD align="center"><p>Batch
Field Separator
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>3</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00082</TD>

<TD align="center"><p>Batch
Encoding Characters
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>15</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00083</TD>

<TD align="center"><p>Batch
Sending Application
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00084</TD>

<TD align="center"><p>Batch
Sending Facility
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>15</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00085</TD>

<TD align="center"><p>Batch
Receiving Application
</TD>
</TR><TR align="center">
<TD align="center"><p>6</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00086</TD>

<TD align="center"><p>Batch
Receiving Facility
</TD>
</TR><TR align="center">
<TD align="center"><p>7</TD>

<TD align="center"><p>26</TD>

<TD align="center"><p>TS</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00087</TD>

<TD align="center"><p>Batch
Creation Date/Time
</TD>
</TR><TR align="center">
<TD align="center"><p>8</TD>

<TD align="center"><p>40</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00088</TD>

<TD align="center"><p>Batch
Security
</TD>
</TR><TR align="center">
<TD align="center"><p>9</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00089</TD>

<TD align="center"><p>Batch
Name/ID/Type
</TD>
</TR><TR align="center">
<TD align="center"><p>10</TD>

<TD align="center"><p>80</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00090</TD>

<TD align="center"><p>Batch
Comment
</TD>
</TR><TR align="center">
<TD align="center"><p>11</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00091</TD>

<TD align="center"><p>Batch
Control ID
</TD>
</TR><TR align="center">
<TD align="center"><p>12</TD>

<TD align="center"><p>20</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00092</TD>

<TD align="center"><p>Reference
Batch Control ID
</TD>
</TR></TABLE>
<p>2.24.13.0
  BHS field definition</p>

<h4>
<A NAME="Heading442">2.24.13.1 Batch field separator  (ST)   00081</A></h4>

<blockquote>Definition:
This field contains the separator between the segment ID and the first real
field<i>, BHS-2-batch encoding characters</i>.  As such it serves as the
separator and defines the character to be used as a separator for the rest of
the message.  Recommended value is |,(ASCII 124).</blockquote>
<h4>
<A NAME="Heading443">2.24.13.2 Batch encoding characters  (ST)   00082</A></h4>

<p>Definition:
This field contains the four characters in the following order:  the component
separator, repetition separator, escape characters, and subcomponent separator.
Recommended values are ^~\&amp;, (ASCII 94, 126, 92, and 38, respectively.  See
Section 2.7, "MESSAGE DELIMITERS."  </p>

<h4>
<A NAME="Heading444">2.24.13.3 Batch sending application  (ST)   00083</A></h4>

<p>Definition:
This field uniquely identifies the sending application among all other
applications within the network enterprise.  The network enterprise consists of
all those applications that participate in the exchange of HL7 messages within
the enterprise.  Entirely site-defined.</p>

<h4>
<A NAME="Heading445">2.24.13.4 Batch sending facility  (ST)   00084</A></h4>

<p>Definition:
This field contains the address of one of several occurrences of the same
application within the sending system.  Absent other considerations, the
Medicare Provider ID might be used with an appropriate sub-identifier in the
second component.  Entirely user-defined.</p>

<h4>
<A NAME="Heading446">2.24.13.5 Batch receiving application  (ST)   00085</A></h4>

<p>Definition:
This field uniquely identifies the receiving applications among all other
applications within the network enterprise.  The network enterprise consists of
all those applications that participate in the exchange of HL7 messages within
the enterprise.  Entirely site-defined.</p>

<h4>
<A NAME="Heading447">2.24.13.6 Batch receiving facility  (ST)   00086</A></h4>

<p>Definition:
This field identifies the receiving application among multiple identical
instances of the application running on behalf of different organizations.  See
comments <i>BSH-4-batch sending facility</i>.  Entirely site-defined.</p>

<h4>
<A NAME="Heading448">2.24.13.7 Batch creation date/time  (TS)   00087</A></h4>

<p>Definition:
  This  field contains the date/time that the sending system created the
message.  If the time zone is specified, it will be used throughout the message
as the default time zone.</p>

<h4>
<A NAME="Heading449">2.24.13.8 Batch security  (ST)   00088</A></h4>

<p>Definition:
In some applications of HL7, this field is used to implement security features.
Its use is not yet further specified.</p>

<h4>
<A NAME="Heading450">2.24.13.9 Batch name/ID/type  (ST)   00089</A></h4>

<p>Definition:
This field can be used by the application processing the batch.  It can have
extra components if needed. </p>

<h4>
<A NAME="Heading451">2.24.13.10 Batch comment  (ST)   00090</A></h4>

<p>Definition:
 This field is a comment field that is not further defined in the HL7 protocol. </p>

<h4>
<A NAME="Heading452">2.24.13.11 Batch control ID  (ST)   00091</A></h4>

<p>Definition:
 This field is used to uniquely identify a particular batch.  It can be echoed
back in <i>BHS-12-reference batch control ID</i> if an answering batch is
needed. </p>

<h4>
<A NAME="Heading453">2.24.13.12 Reference batch control ID  (ST)   00092</A></h4>

<p>Definition:
 This field contains the value of <i>BHS-11-batch control ID</i> when this
batch was originally transmitted.  Not present if this batch is being sent for
the first time.  See definition for <i>BHS-11-batch control ID</i>.
</p>

<h3>
<A NAME="Heading454">2.24.14 BTS - batch trailer segment</A></h3>

<p>The
BTS segment defines the end of a batch. 
</p>

<center>Figure 2-21.  BTS attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>10</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00093</TD>

<TD align="center"><p>Batch
Message Count
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>80</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00090</TD>

<TD align="center"><p>Batch
Comment
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>100</TD>

<TD align="center"><p>NM</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00095</TD>

<TD align="center"><p>Batch
Totals
</TD>
</TR></TABLE>
<p>2.24.14.0
  BTS field definitions</p>

<h4>
<A NAME="Heading455">2.24.14.1 Batch message count  (ST)   00093</A></h4>

<p>Definition:
 This field contains the count of the individual messages contained within the
batch. </p>

<h4>
<A NAME="Heading456">2.24.14.2 Batch comment  (ST)   00090</A></h4>

<p>Definition:
 This field is a comment field that is not further defined in the HL7 protocol. </p>

<h4>
<A NAME="Heading457">2.24.14.3 Batch totals  (NM)   00095</A></h4>

<p>Definition:
 We encourage new users of this field to use the HL7 Version 2.3 data type of
NM and to define it as "repeating." This field contains the batch total.  If
more than a single batch total exists, this field may be repeated.  <br>
This field may be defined as a CM data type for backward compatibility with HL7
Versions 2.2 and 2.1 with each total being carried as a separate component.
Each component in this case is an NM data type.
</p>

<h3>
<A NAME="Heading458">2.24.15 NTE - notes and comments segment</A></h3>

<p>The
NTE segment is defined here for inclusion in messages defined in other
chapters.  It is a common format for sending notes and comments. 
</p>

<center>Figure 2-22.  NTE attributes
</center>
<TABLE BORDER><TR align="center">
<TH align="center"><p>SEQ</p>
<BR></TH>
<TH align="center"><p>LEN</p>
<BR></TH>
<TH align="center"><p>DT</p>
<BR></TH>
<TH align="center"><p>OPT</p>
<BR></TH>
<TH align="center"><p>RP/#</p>
<BR></TH>
<TH align="center"><p>TBL#</p>
<BR></TH>
<TH align="center"><p>ITEM
#
</p>
<BR></TH>
<TH align="center"><p>ELEMENT
NAME
</p>
<BR></TH></TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>4</TD>

<TD align="center"><p>SI</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00096</TD>

<TD align="center"><p>Set
ID - NTE
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>8</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0105</TD>

<TD align="center"><p>00097</TD>

<TD align="center"><p>Source
of Comment
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>64k</TD>

<TD align="center"><p>FT</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00098</TD>

<TD align="center"><p>Comment</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>01318</TD>

<TD align="center"><p>Comment
Type
</TD>
</TR></TABLE>
<p>2.24.15.0
  NTE field definitions</p>

<h4>
<A NAME="Heading459">2.24.15.1 Set ID - NTE  (SI)   00096</A></h4>

<p>Definition:
 This field may be used where multiple NTE segments are included in a message.
Their numbering must be described in the application message definition. </p>

<h4>
<A NAME="Heading460">2.24.15.2 Source of comment  (ID)   00097</A></h4>

<p>Definition:
 This field is used when source of comment must be identified.  This table may
be extended locally during implementation.
</p>

<center>Table 0105 - Source of comment 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>L</TD>

<TD align="center"><p>Ancillary
(filler) department is source of comment
</TD>
</TR><TR align="center">
<TD align="center"><p>P</TD>

<TD align="center"><p>Orderer
(placer) is source of comment
</TD>
</TR><TR align="center">
<TD align="center"><p>O</TD>

<TD align="center"><p>Other
system is source of comment
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading461">2.24.15.3 Comment  (FT)   00098</A></h4>

<p>Definition:
 This field contains the comment contained in the segment.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
	In the current HL7 version,  this is an FT rather than a TX data type.  Since
there is no difference between an FT data type without any embedded formatting
commands, and a TX data type, this change is compatible with the previous
version.
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading462">2.24.15.4 Comment type (CE)  01318</A></h4>

<p>Definition:
This field contains a value to identify the type of comment text being sent in
the specific comment record.  Allowable values are user-defined but may include
the following:  PI - Patient Instructions, AI - Ancillary Instructions, GI -
General Instructions, 1R - Primary Reason, 2R - Secondary Reason, GR - General
Reason, RE - Remark, DR - Duplicate/Interaction Reason<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
      A field already exists on the NTE record that identifies the Sources of
Comment (e.g., ancillary, placer, other). However some applications need to
support other types of comment text (e.g., instructions, reason, remarks,
etc.).  A separate NTE segment can be used for each type of comment (e.g.,
instructions are on one NTE and remarks on another NTE).  If the amount of text
for a specific type of comment exceeds the NTE segment maximum, the NTE-1 Set
ID field can be valued to group related NTE's together when applicable.  For
example, all NTE's with an Set ID valued to 1 are grouped as a logical grouping
of text.
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading463">2.24.16 EQL - embedded query language segment</A></h3>

<a name="DDE_LINK5"></a><p>The
EQL segment is used to define queries using select statements based on the
query language of choice (e.g., SQL).  Refer to the functional chapters for the
lists of HL7-defined EQL select statements.
</p>

<center>Figure 2-23.  EQL attributes
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>SEQ</TD>

<TD align="center"><p>LEN</TD>

<TD align="center"><p>DT</TD>

<TD align="center"><p>OPT</TD>

<TD align="center"><p>RP/#</TD>

<TD align="center"><p>TBL#</TD>

<TD align="center"><p>ITEM#</TD>

<TD align="center"><p>ELEMENT
NAME
</TD>
</TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>32</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00696</TD>

<TD align="center"><p>Query
Tag
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0106</TD>

<TD align="center"><p>00697</TD>

<TD align="center"><p>Query/
Response Format Code
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00709</TD>

<TD align="center"><p>EQL
 Query Name
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>4096</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00710</TD>

<TD align="center"><p>EQL
 Query Statement
</TD>
</TR></TABLE>
<p>2.24.16.0
  EQL  field definitions</p>

<h4>
<A NAME="Heading464">2.24.16.1 Query tag  (ST)   00696</A></h4>

<p>Definition:
 This field may be valued by the initiating system to identify the query, and
may be used to match response messages to the originating query.  If it is
valued, the responding system is required to echo it back as the first field in
the query acknowledgment segment (QAK).  This field differs from
<i>MSA-2-message control ID</i>  in that its value remains constant for each
message (i.e., all continuation messages) associated with the query, whereas
<i>MSA-2-message control ID</i> may vary with each continuation message, since
it is associated with each individual message, not the query as a whole.
</p>

<h4>
<A NAME="Heading465">2.24.16.2 Query/response format code  (ID)   00697</A></h4>

<p>Definition:
This field refers to <i>HL7</i> <i>table 0106 - Query/response format code</i>
for valid values. </p>

<h4>
<A NAME="Heading466">2.24.16.3 EQL query name  (CE)   00709</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains the name of the query.  Where the default HL7
coding system is used, these names are assigned by the function-specific
chapters of this specification.  The values for this field are equivalent to
those of  <i>SPR-3-stored procedure name</i> (see Section 2.24.20, "SPR -
stored procedure request definition segment"). 
<a name="DDE_LINK9"></a><a name="DDE_LINK15"></a></p>

<h4>
<A NAME="Heading467">2.24.16.4 EQL query statement  (ST)   00710</A></h4>

<p>Definition:
 This field contains the EQL select statement that is the basis of the
query.<br>
Fields are designated by the "@" symbol concatenated with the HL7 item number
for the field.  If the field is divided into components, the designation may be
suffixed with ".nn," to identify a particular component (a suffix of ".3"
indicates the third component of the field); otherwise, the whole field is
assumed.  If the field is further divided into subcomponents, the designation
is suffixed with ".nn.mm," which identifies the component and subcomponent
requested by relative position.<br>
Site-specific fields may be used, provided that they begin with the letter
<b>"Z." </b>Note that in this case site-defined "z"-item numbers that do not
conflict with HL7 items numbers must be negotiated as part of the site
specification.<br>
Values for this field are defined in the function-specific chapters of this
specification.<br>
</p>
<TABLE BORDER><TR align="left">
<TD align="left"><p><b>Note:</b>
If the "@" is being used as one of the delimiter characters defined in
<i>MSH-2-encoding characters</i>, it must be "escaped ." (See Section  2.9.1,
"Formatting codes.")
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading468">2.24.17 VTQ - virtual table query request segment</A></h3>

<p>The
VTQ segment is used to define queries that are responded to with the Tabular
Data Message (TBR).  The VTQ query message is an alternate method to the EQQ
query message that some systems may find easier to implement, due to its use of
HL7 delimiters that separate components of the selection definition, and its
limited selection criteria.  Queries involving complex selection criteria
(nested operators, etc.) may need to be formatted as an EQL segment.<br>
As with the other query methods, the functional chapters define specific
queries supported as VTQ messages.  Refer to these functional chapters for the
lists of HL7-defined virtual tables, selection lists and criteria.
</p>

<center>Figure 2-24.  VTQ attributes
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>SEQ</TD>

<TD align="center"><p>LEN</TD>

<TD align="center"><p>DT</TD>

<TD align="center"><p>OPT</TD>

<TD align="center"><p>RP/#</TD>

<TD align="center"><p>TBL#</TD>

<TD align="center"><p>ITEM#</TD>

<TD align="center"><p>ELEMENT
NAME
</TD>
</TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>32</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00696</TD>

<TD align="center"><p>Query
Tag
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0106</TD>

<TD align="center"><p>00697</TD>

<TD align="center"><p>Query/Response
Format Code
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00698</TD>

<TD align="center"><p>VT Query Name
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00699</TD>

<TD align="center"><p>Virtual
Table Name
</TD>
</TR><TR align="center">
<TD align="center"><p>5</TD>

<TD align="center"><p>256</TD>

<TD align="center"><p>QSC
</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00700</TD>

<TD align="center"><p>Selection Criteria
</TD>
</TR></TABLE>

<p>
2.24.17.0  VTQ field definitions</p>

<h4>
<A NAME="Heading469">2.24.17.1 Query tag  (ST)   00696</A></h4>

<p>Definition:
 This field may be valued by the initiating system to identify the query, and
may be used to match response messages to the originating query.  If it is
valued, the responding system is required to echo it back as the first field in
the query acknowledgment segment (QAK).  This field differs from
<i>MSA-2-message control ID</i> in that its value remains constant for each
message (i.e., all continuation messages) associated with the query, whereas
<i>MSA-2-message control ID</i> may vary with each continuation message, since
it is associated with each individual message, not the query as a whole.</p>

<h4>
<A NAME="Heading470">2.24.17.2 Query/response format code (ID)   00697</A></h4>

<p>Definition:
This field refers to <i>HL7</i> <i>table 0106 - Query/response format code</i>
for valid values. </p>

<h4>
<A NAME="Heading471">2.24.17.3 VT query name  (CE)   00698</A></h4>

<p><tt>Components:
 &lt;identifier (ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains the name of the virtual table query.  These
names are assigned by the function-specific chapters of this specification.
Site-specific VT query names begin with the letter "Z."</p>

<h4>
<A NAME="Heading472">2.24.17.4 Virtual table name  (CE)   00699</A></h4>

<p><tt>Components:
 &lt;identifier (ST)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ST)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains the name of the virtual table being
referenced.  This table name may refer to an HL7-defined segment, an HL7
virtual table (refer to the functional chapters), or a site-specific "Z table."</p>

<h4>
<A NAME="Heading473">2.24.17.5 Selection criteria  (QSC)   00700</A></h4>

<p><tt>Components:
 &lt;name of field (ST)&gt; ^ &lt;relational operator (ID)&gt; ^ &lt;value
(ST)&gt; ^ &lt;relational conjunction (ID)&gt;</tt><br>
Definition:  Each repetition of this field defines a column in the RDT segment:
the first repetition defines the first column of the RDT segment; the second
repetition defines the second column of the RDT segments, etc.  <br>
This field indicates the conditions that qualify the rows to be returned in the
query response.  (This field conveys the same information as the "WHERE" clause
in the corresponding SQL expression of the query, but is formatted
differently.)  It is comprised of the following components:<br>
*	The name of the field that is participating as a qualifier (usually the
"key").  Refer to Section 2.24.16.4, for field naming conventions.<br>
*	A relational operator, refer to <i>HL7 table 0209 - Relational operator</i>
for valid values.
</p>

<center>Table 0209 - Relational operator
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Relational
operator
</TD>

<TD align="center"><p>Value</TD>
</TR><TR align="center">
<TD align="center"><p>EQ</TD>

<TD align="center"><p>Equal</TD>
</TR><TR align="center">
<TD align="center"><p>NE</TD>

<TD align="center"><p>Not
Equal
</TD>
</TR><TR align="center">
<TD align="center"><p>LT</TD>

<TD align="center"><p>Less
than
</TD>
</TR><TR align="center">
<TD align="center"><p>GT</TD>

<TD align="center"><p>Greater
than
</TD>
</TR><TR align="center">
<TD align="center"><p>LE</TD>

<TD align="center"><p>Less
than or equal
</TD>
</TR><TR align="center">
<TD align="center"><p>GE</TD>

<TD align="center"><p>Greater
than or equal
</TD>
</TR><TR align="center">
<TD align="center"><p>CT</TD>

<TD align="center"><p>Contains</TD>
</TR><TR align="center">
<TD align="center"><p>GN</TD>

<TD align="center"><p>Generic</TD>
</TR></TABLE>
<p>*
The value to which the field will be compared.<br>
If more than one comparison is to be made to select qualifying rows, a
conjunction (defined by <i>HL7 table 0210 - Relational conjunction</i>)
relating this repetition of the field to the next:
</p>

<center>Table 0210 - Relational conjunction
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Relational
conjunction
</TD>

<TD align="center"><p>Note</TD>
</TR><TR align="center">
<TD align="center"><p>AND</TD>

<TD align="center"><p>Default</TD>
</TR><TR align="center">
<TD align="center"><p>OR</TD>

<TD align="center"><BR></TD></TR></TABLE>
<p>Hence,
the segment<br>
VTQ|TAG001|T|VT_QUERY_NAME|PID|@00108.1^EQ^EVANS^AND~@00108.2^EQ^CAROLYN
&lt;cr&gt;<br>
causes a response to be generated from the virtual table defined by the PID
segment. All rows containing the name field subcomponents defined in the
selection criteria field (last name =  "Evans," first name = "Carolyn") will be
selected for the response.  The columns returned from each selected row will be
defined by the RDF segment (see Section 2.24.18, "RDF - table row definition
segment").<br>
Notes:<br>
*	As previously stated, the VTQ segment does not, and is not intended to,
provide as robust selection function as native EQQ query.  It is offered as a
simpler alternative.<br>
*	When applied to strings, the relational operators LT, GT, LE, and GE imply an
alphabetic comparison.<br>
*	A "generic" comparison selects a record for inclusion in the response if the
beginning of the designated field matches the select string.<br>
*	Where a repeating field is specified as an operand, a match on any instance
of that field qualifies the row for inclusion in the response message.<br>
*	AND takes precedence over OR.  More sophisticated precedence rules require
that the query be expressed as an SQL message, or a stored procedure for the
query may be written and referenced with the SPR segment.
</p>

<h3>
<A NAME="Heading474">2.24.18 RDF - table row definition segment</A></h3>

<a name="DDE_LINK6"></a><p>The
RDF segment defines the content of the row data segments (RDT) in the Tabular
Data Response Message (TBR).  It is used in two ways:<br>
*	As an optional segment in the SPQ message (Stored Procedure Request) or the
VQQ (Virtual Table Query) message, this segment can be used to limit the number
of columns returned and to specify what column positions the fields occupy
(where supported, these features can be used to override the defaults for the
particular query).  If omitted, all fields defined for the query are returned
in their default column order.<br>
*	As a required segment on the tabular data response message (TBR), this
segment defines the contents of the table row data (RDT) segments that follow.
</p>

<center>Figure 2-25.  RDF attributes
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>SEQ</TD>

<TD align="center"><p>LEN</TD>

<TD align="center"><p>DT</TD>

<TD align="center"><p>OPT</TD>

<TD align="center"><p>RP/#</TD>

<TD align="center"><p>TBL#</TD>

<TD align="center"><p>ITEM#</TD>

<TD align="center"><p>ELEMENT
NAME
</TD>
</TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>3</TD>

<TD align="center"><p>NM</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00701</TD>

<TD align="center"><p>Number
of Columns per Row
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>40</TD>

<TD align="center"><p>RCD
</TD>

<TD align="center"><p>R</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00702</TD>

<TD align="center"><p>Column
Description
</TD>
</TR></TABLE>
<p>2.24.18.0
  RDF field definitions</p>

<h4>
<A NAME="Heading475">2.24.18.1 Number of columns per row  (NM)   00701</A></h4>

<a name="DDE_LINK7"></a><p>Definition:
This field specifies the number of data columns (and therefore the number of
fields) contained within each row of returned data.</p>

<h4>
<A NAME="Heading476">2.24.18.2 Column description  (RCD)   00702</A></h4>

<p><tt>Components:
&lt;HL7 item number (ST)&gt; ^ &lt;HL7 data type (ST)&gt; ^ &lt;maximum column
width (NM)&gt;
<a name="DDE_LINK8"></a></tt><br>
Definition: Each repetition of this field consists of three components:<br>
*	The HL7 item number, which identifies the field occupying the column.  (Refer
to Section 2.24.16.2, "Query/response format code  (ID)   00697," for item
numbering conventions).<br>
*	The 2 or 3 character HL7 data type, as defined in Section 2.8, "DATA
TYPES."<br>
*	The maximum width of the column, as dictated by the responding system.  (This
may vary from the HL7-defined maximum field length.)
</p>

<h3>
<A NAME="Heading477">2.24.19 RDT - table row data segment</A></h3>

<a name="DDE_LINK10"></a><p>The
RDT segment contains the row data of the tabular data response message
(TBR).<br>
<center>Figure 2-26.  RDT attributes</center><br>
</p>
<TABLE BORDER><TR align="center">
<TD align="center"><p>SEQ</TD>

<TD align="center"><p>LEN</TD>

<TD align="center"><p>DT</TD>

<TD align="center"><p>OPT</TD>

<TD align="center"><p>RP/#</TD>

<TD align="center"><p>TBL#</TD>

<TD align="center"><p>ITEM#</TD>

<TD align="center"><p>ELEMENT
NAME
</TD>
</TR><TR align="center">
<TD align="center"><p>1-n</TD>

<TD align="center"><p>Variable</TD>

<TD align="center"><p>Variable</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00703</TD>

<TD align="center"><p>Column
Value
</TD>
</TR></TABLE>
<p>2.24.19.0
  RDT field definitions</p>

<h4>
<A NAME="Heading478">2.24.19.1 Column value  (Variable)   00703</A></h4>

<a name="DDE_LINK11"></a><p>Definition:
 This field is a requested field.  Fields occur in the position order defined
for the query or table, (unless overridden by an optional RDF segment on a
stored procedure request or virtual table query message), separated by field
delimiters.
</p>

<h3>
<A NAME="Heading479">2.24.20 SPR - stored procedure request definition segment</A></h3>

<p>The
SPR segment is used to issue queries using stored procedure calls.  Refer to
the functional chapters for the lists of HL7-defined stored procedure names,
input parameters and output tables.
</p>

<center>Figure 2-27.  SPR attributes
</center>
<TABLE BORDER><TR align="left">
<TD align="left"><p>SEQ</TD>

<TD align="left"><p>LEN</TD>

<TD align="left"><p>DT</TD>

<TD align="center"><p>OPT</TD>

<TD align="center"><p>RP/#</TD>

<TD align="center"><p>TBL#</TD>

<TD align="center"><p>ITEM#</TD>

<TD align="center"><p>ELEMENT
NAME
</TD>
</TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>32</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00696</TD>

<TD align="center"><p>Query
Tag
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>1</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0106</TD>

<TD align="center"><p>00697</TD>

<TD align="center"><p>Query/
Response Format Code
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00704</TD>

<TD align="center"><p>Stored
Procedure Name
</TD>
</TR><TR align="center">
<TD align="center"><p>4</TD>

<TD align="center"><p>256</p>
<BR></TD>
<TD align="center"><p>QIP</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00705</TD>

<TD align="center"><p>Input
Parameter List
</TD>
</TR></TABLE>
<p>2.24.20.0
  SPR field definitions</p>

<h4>
<A NAME="Heading480">2.24.20.1 Query tag  (ST)   00696</A></h4>

<p>Definition:
 This field may be valued by the initiating system to identify the query, and
may be used to match response messages to the originating query.  If it is
valued, the responding system is required to echo it back as the first field in
the query acknowledgment segment (QAK).  This field differs from
<i>MSA-2-message control ID</i> in that its value remains constant for each
message (i.e., all continuation messages) associated with the query, whereas
<i>MSA-2-message control ID</i> may vary with each continuation message, since
it is associated with each individual message, not the query as a whole.</p>

<h4>
<A NAME="Heading481">2.24.20.2 Query/response format code (ID)  00697</A></h4>

<p>Definition:
 This field refers to <i>HL7 table 0106 - Query/response format code</i> for valid values. 
</p>

<center>Table 0106 - Query/response format code 
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>D</TD>

<TD align="center"><p>Response
is in display format
</TD>
</TR><TR align="center">
<TD align="center"><p>R</TD>

<TD align="center"><p>Response
is in record-oriented format
</TD>
</TR><TR align="center">
<TD align="center"><p>T</TD>

<TD align="center"><p>Response
is in tabular format
</TD>
</TR></TABLE>

<h4>
<A NAME="Heading482">2.24.20.3 Stored procedure name (CE)   00704</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains the name of the stored procedure that is to be
executed.  Values for this field are defined in the function-specific chapters
of this specification; site-specific stored procedure names begin with the
letter <b>"Z."</b></p>

<h4>
<A NAME="Heading483">2.24.20.4 Input parameter list  (QIP)   00705</A></h4>

<p><tt>Components:
&lt;field name (ST)&gt; ^ &lt;value1 (ST) &amp; value2 (ST) &amp; value3 (ST)
...&gt;</tt><br>
Definition:  This field contains the list of parameter names and values to be
passed to the stored procedure, in the form <tt>"&lt;field name&gt; ^
&lt;value1&amp; value2 &amp; value3 ...&gt;."</tt>  A single valued parameter
contains only a single subcomponent in the second component: thus no
subcomponent delimiters are needed (e.g.,<tt> &lt;field name&gt; ^
&lt;value&gt;</tt> ).  A simple list of values (i.e., a one-dimensional array)
may be passed instead of a single value by separating each value with the
subcomponent delimiter: "<tt>&lt;field name&gt; ^ &lt;value1&amp; value2
&amp;...&gt;</tt>"  Refer to Section 2.24.16.4, "EQL query statement  (ST)
00710 for field naming conventions.
</p>

<h3>
<A NAME="Heading484">2.24.21 ERQ - event replay query segment</A></h3>

<p>The
ERQ segment is used to issue queries where the desired response is formatted as
an event replay response message.  This enables the querying application to
request detailed event data from an application that supports this feature,
such that it may no longer be necessary for it to capture and store all event
information at the time of the original trigger event.
</p>

<center>Figure 2-28.  ERQ attributes
</center>
<TABLE BORDER><TR align="left">
<TD align="left"><p>SEQ</TD>

<TD align="left"><p>LEN</TD>

<TD align="left"><p>DT</TD>

<TD align="center"><p>OPT</TD>

<TD align="center"><p>RP/#</TD>

<TD align="center"><p>TBL#</TD>

<TD align="center"><p>ITEM#</TD>

<TD align="center"><p>ELEMENT
NAME
</TD>
</TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>32</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00696</TD>

<TD align="center"><p>Query
Tag
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>60</TD>

<TD align="center"><p>CE</TD>

<TD align="center"><p>R</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00706</TD>

<TD align="center"><p>Event
Identifier
</TD>
</TR><TR align="center">
<TD align="center"><p>3</TD>

<TD align="center"><p>256</TD>

<TD align="center"><p>QIP</TD>

<TD align="center"><p>O</TD>

<TD align="center"><p>Y</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>00705</TD>

<TD align="center"><p>Input
Parameter List
</TD>
</TR></TABLE>
<p>2.24.21.0
  ERQ field definitions</p>

<h4>
<A NAME="Heading485">2.24.21.1 Query tag  (ST)  00696</A></h4>

<p>Definition:
 This field may be valued by the initiating system to identify the query, and
may be used to match response messages to the originating query.  If it is
valued, the responding system is required to echo it back as the first field in
the query acknowledgment segment (QAK).  This field differs from
<i>MSA-2-message control ID</i> in that its value remains constant for each
message (i.e., all continuation messages) associated with the query, whereas
<i>MSA-2- message control ID</i> may vary with each continuation message, since
it is associated with each individual message, not the query as a whole.</p>

<h4>
<A NAME="Heading486">2.24.21.2 Event identifier  (CE)   00706</A></h4>

<p><tt>Components:
 &lt;identifier (ID)&gt; ^ &lt;text (ST)&gt; ^ &lt;name of coding system
(ST)&gt; ^ &lt;alternate identifier (ID)&gt; ^ &lt;alternate text (ST)&gt; ^
&lt;name of alternate coding system (ST)&gt;</tt><br>
Definition:  This field contains the HL7 event identifier corresponding to the
original trigger event.  Its contents dictate the format of the response
message.  Hence, a value of "A04" in this field indicates a request for the
data associated with the "register a patient" trigger event.  The ERP response
message returns the contents of the "register a patient" message defined in
Chapter 3.  If more than one match is found, the ERP returns repeating groups
of the segments defined by the "A04" message.</p>

<h4>
<A NAME="Heading487">2.24.21.3 Input parameter list  (QIP)   00705</A></h4>

<p><tt>Components:
 &lt;field name (ST)&gt; ^ &lt;value1 (ST) &amp; value2 (ST) &amp; value3
(ST...&gt;</tt><br>
Definition:  This field contains the list of parameter names and values to be
passed to the responding system, in the form "<tt>&lt;field name&gt; ^
&lt;value1 &amp; value2 &amp; value3 ...&gt;.</tt>"  A single valued parameter
contains only a single subcomponent in the second component: thus no
subcomponent delimiters are needed (e.g., <tt>&lt;field name&gt; ^
&lt;value&gt;</tt>)<tt>.</tt>  A simple list of values (i.e., a one-dimensional
array) may be passed instead of a single value by separating each value with
the subcomponent delimiter: "<tt>&lt;field name&gt; ^ &lt;value1&amp;value2
&amp;...&gt;</tt>"  Refer to Section 2.24.16.4, "EQL query statement  (ST)
00710," for field naming conventions.<br>
For example, , a value of "@00122^123-45-6789" could be combined with the A04
event identifier to request patient registration data for the patient with the
social security number 123-45-6789.
</p>

<h3>
<A NAME="Heading488">2.24.22 QAK- query acknowledgment segment</A></h3>

<p>The
QAK segment contains information sent with responses to a query.
</p>

<center>Figure 2-29.  QAK attributes
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>SEQ</TD>

<TD align="center"><p>LEN</TD>

<TD align="center"><p>DT</TD>

<TD align="center"><p>OPT</TD>

<TD align="center"><p>RP/#</TD>

<TD align="center"><p>TBL#</TD>

<TD align="center"><p>ITEM#</TD>

<TD align="center"><p>ELEMENT NAME
</TD>
</TR><TR align="center">
<TD align="center"><p>1</TD>

<TD align="center"><p>32</TD>

<TD align="center"><p>ST</TD>

<TD align="center"><p>C</TD>

<TD align="center"><BR></TD>
<TD align="center"><BR></TD>
<TD align="center"><p>00696</TD>

<TD align="center"><p>Query
Tag
</TD>
</TR><TR align="center">
<TD align="center"><p>2</TD>

<TD align="center"><p>2</TD>

<TD align="center"><p>ID</TD>

<TD align="center"><p>O</TD>

<TD align="center"><BR></TD>
<TD align="center"><p>0208</TD>

<TD align="center"><p>00708</TD>

<TD align="center"><p>Query
Response Status
</TD>
</TR></TABLE>
<p>2.24.22.0
  QAK field definitions</p>

<h4>
<A NAME="Heading489">2.24.22.1 Query tag  (ST)   00696</A></h4>

<p>Definition:
 This field may be valued by the initiating system to identify the query, and
may be used to match response messages to the originating query.  If it is
valued, the responding system is required to echo it back as the first field in
the query acknowledgment segment (QAK).  This field differs from<i>
MSA-2-message control ID</i> in that its value remains constant for each
message (i.e., all continuation messages) associated with the query, whereas
<i>MSA-2-message control ID</i> may vary with each continuation message, since
it is associated with each individual message, not the query as a whole.</p>

<h4>
<A NAME="Heading490">2.24.22.2 Query response status  (ID)   00708</A></h4>

<p>Definition:
 This field allows the responding system to return a precise response status.
It is especially useful in the case where no data is found that matches the
query parameters, but where there is also no error.  It is defined with <i>HL7
table 0208 - Query response status</i>. 
</p>

<center>Table 0208 - Query response status
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>OK</TD>

<TD align="center"><p>Data
found, no errors (this is the default)
</TD>
</TR><TR align="center">
<TD align="center"><p>NF</TD>

<TD align="center"><p>No
data found, no errors
</TD>
</TR><TR align="center">
<TD align="center"><p>AE</TD>

<TD align="center"><p>Application
error
</TD>
</TR><TR align="center">
<TD align="center"><p>AR</TD>

<TD align="center"><p>Application
reject
</TD>
</TR></TABLE>

<h3>
<A NAME="Heading491">2.24.23 Miscellaneous HL7 tables used across all chapters</A></h3>


<h4>
<A NAME="Heading492">2.24.23.1 Yes/no indicator table</A></h4>


<center>Table 0136 - Yes/no indicator
</center>
<TABLE BORDER><TR align="center">
<TD align="center"><p>Value</TD>

<TD align="center"><p>Description</TD>
</TR><TR align="center">
<TD align="center"><p>Y</TD>

<TD align="center"><p>Yes</TD>
</TR><TR align="center">
<TD align="center"><p>N</TD>

<TD align="center"><p>No</TD>
</TR></TABLE>

<h2>
<A NAME="Heading493">2.25 SAMPLE CONTROL AND QUERY MESSAGES</A></h2>


<h3>
<A NAME="Heading494">2.25.1 General acknowledgment</A></h3>

<p>LAB
acknowledges the message that ADT sent identified as ZZ9380.  (LAB and ADT, the
sending and receiving system IDs, are site-defined.)  Both systems are
associated with the same FACILITY, 767543.  There is no trigger event for an
acknowledgment, so the second component of <i>MSH-9-message type</i> is not
present.  The component separator may be present there, but need not be.  The
<b>AA</b> code in the MSA segment indicates that the message was accepted by
the application.<br>
MSH|^~\&amp;|LAB|767543|ADT|767543|19900314130405||ACK^|XX3657|P|2.1&lt;cr&gt;<br>
MSA|AA|ZZ9380&lt;cr&gt;
</p>

<h3>
<A NAME="Heading495">2.25.2 Error return</A></h3>

<p>The
<b>AR</b> code in MSA indicates that the application rejected the message for
functional reasons.  The optional ERR segment includes here that the 16th field
of the PID segment with the SET ID value of 1 had an error which was defined by
the locally-established code X3L.  The optional text message UNKNOWN COUNTY
CODE in the link is designed to help programmers and support personnel while
reviewing message logs.<br>
MSH|^~\&amp;|LAB|767543|ADT|767543|199003141304-0500||ACK^|XX3657|P|2.1&lt;cr&gt;<br>
MSA|AR|ZZ9380|UNKNOWN COUNTY CODE&lt;cr&gt;<br>
ERR|PID^1^16^X3L&lt;cr&gt;
</p>

<h3>
<A NAME="Heading496">2.25.3 Sequence number:  initial message</A></h3>

<p>The
sender initiates the link with a message that has no functional content.  The
sequence number is 0.  The message type and event code are not used.<br>
MSH|^~\&amp;|ADT|767543|LAB|767543|199003141304-0500||^|XX3657|P|2.1|0&lt;cr&gt;<br>
The responder uses a general acknowledgment.  The expected sequence number is
1.<br>
MSH|^~\&amp;|LAB|767543|ADT|767543|199003141304-0500||ACK^|ZZ9380|P|2.1&lt;cr&gt;<br>
MSA|AA|XX3657||1&lt;cr&gt;
</p>

<h3>
<A NAME="Heading497">2.25.4 Query examples</A></h3>


<h4>
<A NAME="Heading498">2.25.4.1 Original mode query with display-oriented response</A></h4>

<p>Query
for all lab results on patient #12233.  The query is made at 11:00 a.m.,
9/11/87.  The Query anticipates an immediate display-oriented response.<br>
MSH|^~\&amp;|ICU||LAB01||||QRY^Q01|MSG00001|P|2.3&lt;cr&gt;<br>
QRD|198709111012|D|I|4387|||20^LI|12233|RES|ALL&lt;cr&gt;<br>
The response to the above query might look like the following:<br>
MSH|^~\&amp;|LAB01||ICU||||DSR|ZXT23461|P|2.3&lt;cr&gt;<br>
MSA|AA|MSG00001P&lt;cr&gt;<br>
QRD|198709111012|D|I|4387|||20^LI|12233|RES|ALL&lt;cr&gt;<br>
DSP|||RESULTS FOR PATIENT#12233   SMITH, JOHN H. 09/11/87&lt;cr&gt;<br>
DSP|||SPECIMEN#H85 COLLECTED 09/11/87 /07/0/0&lt;cr&gt;<br>
DSP&lt;cr&gt;<br>
DSP|||ELECTROLYTES&lt;cr&gt;<br>
DSP|||	SODIUM			140	[135-148]	MEQ/L	STAT&lt;cr&gt;<br>
DSP|||	POTASSIUM		4.0	[3.5-5.0]	MEQ/L	STAT&lt;cr&gt;<br>
DSP|||	CHLORIDE			89	[95-111]		MEQ/L	STAT&lt;cr&gt;<br>
DSP|||	CO2				20	[20-30]		MEQ/L	STAT&lt;cr&gt;<br>
DSP||||LB&lt;cr&gt;<br>
DSP|||CBC&lt;cr&gt;<br>
DSP|||	HEMOGLOBIN			[13.5-18.0]&lt;cr&gt;<br>
DSP|||	HEMATOCRIT		45	[40-54]		%&lt;cr&gt;	<br>
DSP|||	RED CELL COUNT	5.0	[4.6-6.2] 	M/MM3&lt;cr&gt;<br>
DSP|||	MCHC				32	[32-36]		G/DL&lt;cr&gt;<br>
DSP|||	MCH				28	[26-32]		PG&lt;cr&gt;<br>
DSP|||	MCV				85	[81-101]		FL&lt;cr&gt;<br>
DSP|||	WHITE CELL CNT	7.5	[5.0-10.0]	K/MM3&lt;cr&gt;<br>
DSP||||LB&lt;cr&gt;	<br>
DSP|||SPECIMEN#B24   COLLECTED 9/10/87&lt;cr&gt;<br>
DSC|12333H85;12&lt;cr&gt;<br>
A continuation query would echo back the contents of <i>DSC-1-continuation
pointer</i> as follows:<br>
MSH|^~\&amp;|ICU||LAB01||||QRY^Q01|MSG00003|P|2.3&lt;cr&gt;<br>
QRD|198709111012|D|I|4387|||20^LI|12233|RES|ALL&lt;cr&gt;<br>
DSC|12333H85;12&lt;cr&gt;<br>
The following response shows that there is no further data by leaving
<i>DSC-1-continuation pointer</i> not present.  This could be done by sending
the DSC segment with no data, but the example does the same thing by totally
omitting the DSC segment.<br>
MSH|^~\&amp;|LAB01||ICU|||DSR|ZXT23469|P|2.1&lt;cr&gt;<br>
MSA|AA|MSG00003|&lt;cr&gt;<br>
QRD|198709111012|D|I|4387|||20^LI|12233|RES|ALL&lt;cr&gt;<br>
DSP|||RESULTS FOR PATIENT#12233   SMITH, JOHN H. 09/11/87&lt;cr&gt;<br>
DSP|||SPECIMEN#H85 COLLECTED 09/10/87 /07/0/0&lt;cr&gt;<br>
DSP&lt;cr&gt;<br>
DSP|||ELECTROLYTES&lt;cr&gt;<br>
DSP|||	SODIUM		136	[135-148]	MEQ/L	STAT&lt;cr&gt;<br>
DSP|||	POTASSIUM	4.2	[3.5-5.0]	MEQ/L	STAT&lt;cr&gt;<br>
DSP|||	CHLORIDE		91	[95-111]		MEQ/L	STAT&lt;cr&gt;<br>
DSP|||	CO2			25	[20-30]		MEQ/L	STAT&lt;cr&gt;<br>
DSP||||LB&lt;cr&gt;</p>

<h4>
<A NAME="Heading499">2.25.4.2 Enhanced mode query examples</A></h4>

<p><b>Note:</b>
For illustration purposes, these examples assume that the following are defined
in the ADT chapter:The VQQ (using SQL) and EQQ selection criteria<br>
*	The virtual table named PID<br>
*	The stored procedure named PID_QRY_01</p>

<h5>
<A NAME="Heading500">2.25.4.2.1 Embedded query language (using SQL), virtual table and stored procedure queries with tabular response</A></h5>

<p>The
following example illustrates a query for the last and first names, address,
social security number and date of birth of patients whose last name is
"Evans."  The fields comprising the query and response are identified by their
HL7 item numbers.  Where a field is composed of components, the particular
component is identified with a "<b>.n</b>" suffix (e.g., the patient last name
is the first component of the patient name field (HL7 item #00108), and
therefore is identified as "@00108.1."<br>
The following examples illustrate this query expressed as an SQL select
statement, as a virtual table query and as a stored procedure call</p>

<h5>
<A NAME="Heading501">2.25.4.2.2 Embedded query language query</A></h5>

<p>MSH|^~\|CLINIC||CENTRAL-REG||||EQQ|MSG00001|P|2.3&lt;cr&gt;<br>
EQL|TAG001|T|SQL_PID_QRY_01|SELECT @00108.1,@00108.2,@00114.1,@00114.2,<br>
	@00114.3,@00114.4,@00114.5,@00122,@00110 <br>
	FROM PID WHERE @00108.1=`EVANS'&lt;cr&gt;</p>

<h5>
<A NAME="Heading502">2.25.4.2.3 Virtual table query</A></h5>

<p>MSH|^~\|CLINIC||CENTRAL-REG||||VQQ|MSG00001|P|2.3&lt;cr&gt;<br>
VTQ| TAG001|T | VTQ_PID_QRY_01|PID|@00108.1^EQ^EVANS &lt;cr&gt;<br>
RDF|9|@00108.1^ST^20~@00108.2^ST^20~@00114.1^ST^30~@00114.2^ST^30~<br>
	@00114.3^ST^20~@00114.4^ST^2~@00114.5^ST^5~@00122^ST^11~<br>
	@00110^TS^8&lt;cr&gt;</p>

<h5>
<A NAME="Heading503">2.25.4.2.4 Stored procedure request</A></h5>

<a name="DDE_LINK12"></a><p>MSH|^~\|CLINIC||CENTRAL-REG||||SPQ|MSG00001|P|2.3&lt;cr&gt;<br>
SPR|TAG0001|T|SPR_PID_QRY_01|@00108.1^EVANS&lt;cr&gt;<br>
RDF|9|@00108.1^ST^20~@00108.2^ST^20~@00114.1^ST^30~@00114.2^ST^30~<br>
	@00114.3^ST^20~@00114.4^ST^2~@00114.5^ST^5~@00122^ST^11~<br>
	@00110^TS^8&lt;cr&gt;</p>

<h5>
<A NAME="Heading504">2.25.4.2.5 The response to the above queries might look like the following:</A></h5>

<p>MSH|^~\|CENTRAL-REG||CLINIC||||TBR|MSG99001|P|2.3&lt;cr&gt;<br>
MSA|AA|MSG00001&lt;cr&gt;<br>
QAK|TAG0001|OK&lt;cr&gt;<br>
RDF|9|@00108.1^ST^20~@00108.2^ST^20~@00114.1^ST^30~@00114.2^ST^30~<br>
	@00114.3^ST^20~@00114.4^ST^2~@00114.5^ST^5~@00122^ST^11~<br>
	@00110^TS^8&lt;cr&gt;<br>
RDT|Evans|Aaron|105 Maple
St.||Lancaster|PA|19786|156-96-2542|19520809&lt;cr&gt;<br>
RDT|Evans|Bart|166 Norwood
Ln.||Hershey|PA|19987|765-58-4615|19701217&lt;cr&gt;<br>
RDT|Evans|Beth|15 Elmwood Ct.|Apt.
15|Gap|PA|19724|58-96-7619|19401119&lt;cr&gt;<br>
RDT|Evans|Carolyn|903 Diane
Circle||Phoenixville|PA|19460|156-96-2542|19620324&lt;cr&gt;<br>
DSC|00005&lt;cr&gt;<br>
A continuation query would echo back the contents of <i>DSC-1- continuation
pointer</i>.</p>

<h5>
<A NAME="Heading505">2.25.4.2.6 Embedded query language continuation</A></h5>

<p>MSH|^~\|CLINIC||CENTRAL-REG||||EQQ|MSG00002|P|2.3&lt;cr&gt;<br>
EQL|TAG001|T|SQL_PID_QRY_01|SELECT @00108.1,@00108.2,@00114.1,@00114.2,<br>
	@00114.3,@00114.4,@00114.5,@00122,@00110 <br>
	FROM PID WHERE @00108.1=`EVANS'&lt;cr&gt;<br>
DSC|00005&lt;cr&gt;</p>

<h5>
<A NAME="Heading506">2.25.4.2.7 Virtual table query continuation</A></h5>

<p>MSH|^~\|CLINIC||CENTRAL-REG||||VQQ|MSG00002|P|2.3&lt;cr&gt;<br>
VTQ| TAG001|T | VTQ_PID_QRY_01|PID|@00108.1^EQ^EVANS&lt;cr&gt;<br>
RDF|9|@00108.1^ST^20~@00108.2^ST^20~@00114.1^ST^30~@00114.2^ST^30~<br>
	@00114.3^ST^20~@00114.4^ST^2~@00114.5^ST^5~@00122^ST^11~<br>
	@00110^TS^8&lt;cr&gt;<br>
DSC|00005&lt;cr&gt;</p>

<h5>
<A NAME="Heading507">2.25.4.2.8 Stored procedure request query continuation</A></h5>

<p>MSH|^~\|CLINIC||CENTRAL-REG||||SPQ|MSG00002|P|2.3&lt;cr&gt;<br>
SPR|TAG0001|T|SPR_PID_QRY_01|@00108.1^EVANS&lt;cr&gt;<br>
RDF|9|@00108.1^ST^20~@00108.2^ST^20~@00114.1^ST^30~@00114.2^ST^30~<br>
	@00114.3^ST^20~@00114.4^ST^2~@00114.5^ST^5~@00122^ST^11~<br>
	@00110^TS^8&lt;cr&gt;<br>
DSC|00005&lt;cr&gt;
<a name="DDE_LINK13"></a></p>

<h5>
<A NAME="Heading508">2.25.4.2.9 This response shows that there is no further data by leaving the continuation pointer not present.  This could be done by sending the DSC segment ID with no data, but the example does the same thing by totally omitting the DSC segment</A></h5>

<p>MSH|^~\|CENTRAL-REG||CLINIC||||TBR|MSG00003|P|2.3&lt;cr&gt;<br>
MSA|AA|MSG00002&lt;cr&gt;<br>
QAK|TAG0001|OK&lt;cr&gt;<br>
RDF|9|@00108.1^ST^20~@00108.2^ST^20~@00114.1^ST^30~@00114.2^ST^30~<br>
	@00114.3^ST^20~@00114.4^ST^2~@00114.5^ST^5~@00122^ST^11~<br>
	@00110^TS^8&lt;cr&gt;<br>
RDT|Evans|William|609 N. 3rd
St.||Manheim|PA|19898|169-03-9872|19290726&lt;cr&gt;<br>
RDT|Evans|Zachary|111 North
Ln.||Lancaster|PA|19987|539-43-8725|19340926&lt;cr&gt;</p>

<h5>
<A NAME="Heading509">2.25.4.2.10 Suppose that from the table of "Evans," Carolyn Evans is selected and the querying application now needs detailed ADT information about her.  It can issue another query for this information using the event replay query (EQQ).</A></h5>

<p>MSH|^~\|CLINIC||CENTRAL-REG||||RQQ|MSG00004|P|2.3&lt;cr&gt;<br>
ERQ|TAG0002|A04|@00122^156-96-2542&lt;cr&gt;</p>

<h5>
<A NAME="Heading510">2.25.4.2.11 The response is returned as an Event Replay Response, which is the HL7 ADT patient registration message corresponding to event code A04, prefixed by the MSH, MSA and ERQ segments:</A></h5>

<p>MSH|^~\|CLINIC||CENTRAL-REG||||ERP|MSG00005|P|2.3&lt;cr&gt;<br>
MSA|AA|MSG00004&lt;cr&gt;<br>
ERQ|TAG0002|A04|@00122^156-96-2542&lt;cr&gt;<br>
QAK|TAG0002|OK&lt;cr&gt;<br>
EVN|A04|199405151259||&lt;cr&gt;<br>
PID|||2-68708-5|253763|EVANS^CAROLYN||19620324|F|||903<br>
	Diane Circle^^PHOENIXVILLE^PA^19460|(610)555-1212|<br>
	(610)555-1212||S|C||156-96-2542||&lt;cr&gt;<br>
NK1||EVANS^RICHARD|SPOUSE|903Diane Circle^^PHOENIXVILLE^<br>
	PA^19460|(610)555-1212|&lt;cr&gt;<br>
PV1||E|EMERG||||0148^ADDISON^JAMES&lt;cr&gt;<br>
..etc<br>
Error responses to the above queries might look like the following:</p>

<h5>
<A NAME="Heading511">2.25.4.2.12 Embedded query language (EQL) , virtual table, and stored procedure error response</A></h5>

<p>MSH|^~\|CENTRAL-REG||CLINIC||||TBR|MSG99001|P|2.3&lt;cr&gt;<br>
MSA|AE|MSG00001||||^REQUESTED TABLE "PID" IS UNKNOWN&lt;cr&gt;<br>
QAK|TAG0001|AE&lt;cr&gt;</p>

<h5>
<A NAME="Heading512">2.25.4.2.13 Event replay error response</A></h5>

<p>MSH|^~\|CENTRAL-REG||CLINIC||||ERP|MSG00005|P|2.3&lt;cr&gt;<br>
MSA|AE|MSG00004||||^REQUESTED EVENT TYPE "A04" NOT SUPPORTED ON THIS
SYSTEM&lt;cr&gt;<br>
QAK|TAG0002|AE&lt;cr&gt;
</p>

<h3>
<A NAME="Heading513">2.25.5 Master file update examples: with original and enhanced acknowledgment protocol</A></h3>

<p>This
example shows the lab system using the Master Files specification to send two
update test dictionary entries to an ICU system.  The OM1 (observation
dictionary) segment, currently under development by HL7 and ASTM, carries the
dictionary information.  Several varieties of acknowledgment are shown.  The
choice of acknowledgment mode is site-specific.
</p>

<h4>
<A NAME="Heading514">2.25.5.1 Original mode example:</A></h4>

<p>MSH|^~\&amp;|LABxxx|ClinLAB|ICU||19910918060544||MFN^M03|MSGID002|P|2.2<br>
MFI|LABxxx^Lab Test Dictionary^L|UPD|||AL<br>
MFE|MUP|199109051000|199110010000|12345^WBC^L<br>
OM1|...<br>
MFE|MUP|199109051015|199110010000|6789^RBC^L<br>
OM1|...<br>
Original mode acknowledgment of the HL7 message according to MFI Response Level
Code of AL.<br>
MSH|^~\&amp;|ICU||LABxxx|ClinLAB|19910918060545||MFK|MSGID99002|P|2.2<br>
MSA|AA|MSGID002<br>
MFI|LABxxx^Lab Test Dictionary^L|UPD|||MFAA<br>
MFA|MUP|199110010000|199110010040|S|12345^WBC^L<br>
MFA|MUP|199110010000|199110010041|S|6789^RBC^L</p>

<h4>
<A NAME="Heading515">2.25.5.2 Enhanced mode example</A></h4>


<h5>
<A NAME="Heading516">2.25.5.2.1 Initial message with accept acknowledgment</A></h5>

<p>MSH|^~\&amp;|LABxxx|ClinLAB|ICU||19910918060544||MFN^M03|MSGID002|P|2.2|||AL|AL<br>
MFI|LABxxx^Lab Test Dictionary^L|UPD|||AL<br>
MFE|MUP|199109051000|199110010000|12345^WBC^L<br>
OM1|...<br>
MFE|MUP|199109051015|199110010000|6789^RBC^L<br>
OM1|...<br>
MSH|^~\&amp;|ICU||LABxxx|ClinLAB|19910918060545||MSA|MSGID99002|P|2.2<br>
MSA|CA|MSGID002</p>

<h5>
<A NAME="Heading517">2.25.5.2.2 Application acknowledgment message</A></h5>

<p>MSH|^~\&amp;|ICU||LABxxx|ClinLAB|19911001080504||MFK|MSGID5002|P|2.2|||AL|<br>
MSA|AA|MSGID002<br>
MFI|LABxxx^Lab Test Dictionary^L|UPD|||MFAA<br>
MFA|MUP|199109051000|199110010040|S|12345^WBC^L<br>
MFA|MUP|199109051015|199110010041|S|6789^RBC^L<br>
MSH|^~\&amp;|LABxxx|ClinLAB|ICU||19911001080507||ACK|MSGID444|P|2.2<br>
MSA|CA|MSGID5002</p>

<h4>
<A NAME="Heading518">2.25.5.3 Delayed application acknowledgment</A></h4>

<p><b>Note:</b>
	If the MFN message in Section 2.25.5.1, "Original mode example:," had not
required an application acknowledgment at the message level (i.e., the
application acknowledgment code of the MSH segment = NE), the (Master Files
Chapter defined) MFD message could be used to provide a delayed application
level acknowledgment not tied to the original MFN message.<br>
The following example includes an acknowledgment for an MFE segment not in the
original message.  This additional MFE was sent via another MFN message.</p>

<h5>
<A NAME="Heading519">2.25.5.3.1 Initial message with accept acknowledgment</A></h5>

<p>MSH|^~\&amp;|LABxxx|ClinLAB|ICU||19910918060544||MFN^M03|MSGID002|P|2.2|||AL|NE<br>
MFI|LABxxx^Lab Test Dictionary^L|UPD|||AL<br>
MFE|MUP|199109051000|199110010000|12345^WBC^L<br>
OM1|...<br>
MFE|MUP|199109051015|199110010000|6789^RBC^L<br>
OM1|...<br>
MSH|^~\&amp;|ICU||LABxxx|ClinLAB|19910918060545||MSA|MSGID99002|P|2.2<br>
MSA|CA|MSGID002</p>

<h5>
<A NAME="Heading520">2.25.5.3.2 Delayed application acknowledgment</A></h5>

<p>MSH|^~\&amp;|ICU||LABxxx|ClinLAB|19911001080504||MFD|MSGID65002|P|2.2|||AL|<br>
MFI|LABxxx^Lab Test Dictionary^L|UPD|||MFAA<br>
MFA|MUP|199109051000|199110010040|S|12345^WBC^L<br>
MFA|MUP|199109051015|199110010041|S|6789^RBC^L<br>
MFA|MUP|199109051025|199110010041|S|4339^HGB^L<br>
MSH|^~\&amp;|LABxxx|ClinLAB|ICU||19911001080507||ACK|MSGID444|P|2.2<br>
MSA|CA|MSGID65002

</p>

<h2>
<A NAME="Heading521">2.26 OUTSTANDING ISSUES</A></h2>

<p>The
following items are being discussed in the Control/Query technical committee
for addition to future versions of HL7.<br>
1.	Rationalization and clarification of event structures.<br>
2.	Creation of a network server for HL7 tables so that updates to them can be
made public immediately, rather than waiting until the publication of the next
version of the Standard.<br>
3.	Extensions to the encoding rules for Version 3.<br>
4.	Consideration of security.  There are in general two types: application
level security, which is partially addressed by the <i>security</i> field in
the MSH segment.  The second type, network security, needs to be addressed in
the HL7 Implementation Guide.  There are several commercially available
encryption-based approaches to network level security.
</p>
<HR><a name="fn0" href="#fnB0">[1 	Although referred to as "free-form," the
functional chapters of this specification define this field for commonly used
queries.2	Available from ISO 1 Rue de Varembe, Case Postale 56, CH 1211,
Geneva, Switzerland&#160;&#160;&#160;&#160;3	Available from ISO 1 Rue de
Varembe, Case Postale 56, CH 1211, Geneve, Switzerland

</body></html>
